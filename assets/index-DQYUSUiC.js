(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sd={exports:{}},Fs={},ld={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=Symbol.for("react.element"),tm=Symbol.for("react.portal"),nm=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),om=Symbol.for("react.provider"),sm=Symbol.for("react.context"),lm=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),am=Symbol.for("react.memo"),cm=Symbol.for("react.lazy"),Bc=Symbol.iterator;function fm(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ad=Object.assign,cd={};function ei(e,t,n){this.props=e,this.context=t,this.refs=cd,this.updater=n||ud}ei.prototype.isReactComponent={};ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fd(){}fd.prototype=ei.prototype;function ca(e,t,n){this.props=e,this.context=t,this.refs=cd,this.updater=n||ud}var fa=ca.prototype=new fd;fa.constructor=ca;ad(fa,ei.prototype);fa.isPureReactComponent=!0;var Kc=Array.isArray,dd=Object.prototype.hasOwnProperty,da={current:null},pd={key:!0,ref:!0,__self:!0,__source:!0};function hd(e,t,n){var r,o={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)dd.call(t,r)&&!pd.hasOwnProperty(r)&&(o[r]=t[r]);var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){for(var h=Array(d),v=0;v<d;v++)h[v]=arguments[v+2];o.children=h}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)o[r]===void 0&&(o[r]=d[r]);return{$$typeof:no,type:e,key:s,ref:a,props:o,_owner:da.current}}function dm(e,t){return{$$typeof:no,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pa(e){return typeof e=="object"&&e!==null&&e.$$typeof===no}function pm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uc=/\/+/g;function zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pm(""+e.key):t.toString(36)}function es(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case no:case tm:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+zl(a,0):r,Kc(o)?(n="",e!=null&&(n=e.replace(Uc,"$&/")+"/"),es(o,t,n,"",function(v){return v})):o!=null&&(pa(o)&&(o=dm(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Uc,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",Kc(e))for(var d=0;d<e.length;d++){s=e[d];var h=r+zl(s,d);a+=es(s,t,n,h,o)}else if(h=fm(e),typeof h=="function")for(e=h.call(e),d=0;!(s=e.next()).done;)s=s.value,h=r+zl(s,d++),a+=es(s,t,n,h,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Do(e,t,n){if(e==null)return e;var r=[],o=0;return es(e,r,"","",function(s){return t.call(n,s,o++)}),r}function hm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},ts={transition:null},mm={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:ts,ReactCurrentOwner:da};function md(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Do,forEach:function(e,t,n){Do(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Do(e,function(){t++}),t},toArray:function(e){return Do(e,function(t){return t})||[]},only:function(e){if(!pa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=ei;he.Fragment=nm;he.Profiler=im;he.PureComponent=ca;he.StrictMode=rm;he.Suspense=um;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mm;he.act=md;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ad({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=da.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)dd.call(t,h)&&!pd.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){d=Array(h);for(var v=0;v<h;v++)d[v]=arguments[v+2];r.children=d}return{$$typeof:no,type:e.type,key:o,ref:s,props:r,_owner:a}};he.createContext=function(e){return e={$$typeof:sm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:om,_context:e},e.Consumer=e};he.createElement=hd;he.createFactory=function(e){var t=hd.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:lm,render:e}};he.isValidElement=pa;he.lazy=function(e){return{$$typeof:cm,_payload:{_status:-1,_result:e},_init:hm}};he.memo=function(e,t){return{$$typeof:am,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=ts.transition;ts.transition={};try{e()}finally{ts.transition=t}};he.unstable_act=md;he.useCallback=function(e,t){return pt.current.useCallback(e,t)};he.useContext=function(e){return pt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};he.useEffect=function(e,t){return pt.current.useEffect(e,t)};he.useId=function(){return pt.current.useId()};he.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return pt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};he.useRef=function(e){return pt.current.useRef(e)};he.useState=function(e){return pt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return pt.current.useTransition()};he.version="18.3.1";ld.exports=he;var $=ld.exports;const ym=od($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=$,gm=Symbol.for("react.element"),wm=Symbol.for("react.fragment"),Sm=Object.prototype.hasOwnProperty,km=vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xm={key:!0,ref:!0,__self:!0,__source:!0};function yd(e,t,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Sm.call(t,r)&&!xm.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:gm,type:e,key:s,ref:a,props:o,_owner:km.current}}Fs.Fragment=wm;Fs.jsx=yd;Fs.jsxs=yd;sd.exports=Fs;var w=sd.exports,pu={},vd={exports:{}},Nt={},gd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,ue){var ae=J.length;J.push(ue);e:for(;0<ae;){var ge=ae-1>>>1,ye=J[ge];if(0<o(ye,ue))J[ge]=ue,J[ae]=ye,ae=ge;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ue=J[0],ae=J.pop();if(ae!==ue){J[0]=ae;e:for(var ge=0,ye=J.length,ct=ye>>>1;ge<ct;){var $e=2*(ge+1)-1,kt=J[$e],xe=$e+1,Qe=J[xe];if(0>o(kt,ae))xe<ye&&0>o(Qe,kt)?(J[ge]=Qe,J[xe]=ae,ge=xe):(J[ge]=kt,J[$e]=ae,ge=$e);else if(xe<ye&&0>o(Qe,ae))J[ge]=Qe,J[xe]=ae,ge=xe;else break e}}return ue}function o(J,ue){var ae=J.sortIndex-ue.sortIndex;return ae!==0?ae:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,d=a.now();e.unstable_now=function(){return a.now()-d}}var h=[],v=[],C=1,O=null,I=3,L=!1,D=!1,B=!1,G=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(J){for(var ue=n(v);ue!==null;){if(ue.callback===null)r(v);else if(ue.startTime<=J)r(v),ue.sortIndex=ue.expirationTime,t(h,ue);else break;ue=n(v)}}function F(J){if(B=!1,k(J),!D)if(n(h)!==null)D=!0,Ve(Z);else{var ue=n(v);ue!==null&&Wt(F,ue.startTime-J)}}function Z(J,ue){D=!1,B&&(B=!1,j(ne),ne=-1),L=!0;var ae=I;try{for(k(ue),O=n(h);O!==null&&(!(O.expirationTime>ue)||J&&!He());){var ge=O.callback;if(typeof ge=="function"){O.callback=null,I=O.priorityLevel;var ye=ge(O.expirationTime<=ue);ue=e.unstable_now(),typeof ye=="function"?O.callback=ye:O===n(h)&&r(h),k(ue)}else r(h);O=n(h)}if(O!==null)var ct=!0;else{var $e=n(v);$e!==null&&Wt(F,$e.startTime-ue),ct=!1}return ct}finally{O=null,I=ae,L=!1}}var X=!1,q=null,ne=-1,_e=5,de=-1;function He(){return!(e.unstable_now()-de<_e)}function Le(){if(q!==null){var J=e.unstable_now();de=J;var ue=!0;try{ue=q(!0,J)}finally{ue?Ce():(X=!1,q=null)}}else X=!1}var Ce;if(typeof g=="function")Ce=function(){g(Le)};else if(typeof MessageChannel<"u"){var tn=new MessageChannel,Ft=tn.port2;tn.port1.onmessage=Le,Ce=function(){Ft.postMessage(null)}}else Ce=function(){G(Le,0)};function Ve(J){q=J,X||(X=!0,Ce())}function Wt(J,ue){ne=G(function(){J(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){D||L||(D=!0,Ve(Z))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(J){switch(I){case 1:case 2:case 3:var ue=3;break;default:ue=I}var ae=I;I=ue;try{return J()}finally{I=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=I;I=J;try{return ue()}finally{I=ae}},e.unstable_scheduleCallback=function(J,ue,ae){var ge=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,J){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ae+ye,J={id:C++,callback:ue,priorityLevel:J,startTime:ae,expirationTime:ye,sortIndex:-1},ae>ge?(J.sortIndex=ae,t(v,J),n(h)===null&&J===n(v)&&(B?(j(ne),ne=-1):B=!0,Wt(F,ae-ge))):(J.sortIndex=ye,t(h,J),D||L||(D=!0,Ve(Z))),J},e.unstable_shouldYield=He,e.unstable_wrapCallback=function(J){var ue=I;return function(){var ae=I;I=ue;try{return J.apply(this,arguments)}finally{I=ae}}}})(wd);gd.exports=wd;var _m=gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=$,Ct=_m;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sd=new Set,zi={};function mr(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(zi[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=Object.prototype.hasOwnProperty,Pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Vc={};function Cm(e){return hu.call(Vc,e)?!0:hu.call(Hc,e)?!1:Pm.test(e)?Vc[e]=!0:(Hc[e]=!0,!1)}function Nm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tm(e,t,n,r){if(t===null||typeof t>"u"||Nm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var ha=/[\-:]([a-z])/g;function ma(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ha,ma);it[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ha,ma);it[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ha,ma);it[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function ya(e,t,n,r){var o=it.hasOwnProperty(t)?it[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tm(t,n,o,r)&&(n=null),r||o===null?Cm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lo=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),va=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),kd=Symbol.for("react.provider"),xd=Symbol.for("react.context"),ga=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),vu=Symbol.for("react.suspense_list"),wa=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),_d=Symbol.for("react.offscreen"),$c=Symbol.iterator;function yi(e){return e===null||typeof e!="object"?null:(e=$c&&e[$c]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Bl;function Ci(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Kl=!1;function Ul(e,t){if(!e||Kl)return"";Kl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),s=r.stack.split(`
`),a=o.length-1,d=s.length-1;1<=a&&0<=d&&o[a]!==s[d];)d--;for(;1<=a&&0<=d;a--,d--)if(o[a]!==s[d]){if(a!==1||d!==1)do if(a--,d--,0>d||o[a]!==s[d]){var h=`
`+o[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=d);break}}}finally{Kl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ci(e):""}function jm(e){switch(e.tag){case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 2:case 15:return e=Ul(e.type,!1),e;case 11:return e=Ul(e.type.render,!1),e;case 1:return e=Ul(e.type,!0),e;default:return""}}function gu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Or:return"Fragment";case jr:return"Portal";case mu:return"Profiler";case va:return"StrictMode";case yu:return"Suspense";case vu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xd:return(e.displayName||"Context")+".Consumer";case kd:return(e._context.displayName||"Context")+".Provider";case ga:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wa:return t=e.displayName||null,t!==null?t:gu(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return gu(e(t))}catch{}}return null}function Om(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gu(t);case 8:return t===va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ed(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rm(e){var t=Ed(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){e._valueTracker||(e._valueTracker=Rm(e))}function Pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ed(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wu(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cd(e,t){t=t.checked,t!=null&&ya(e,"checked",t,!1)}function Su(e,t){Cd(e,t);var n=Bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ku(e,t.type,n):t.hasOwnProperty("defaultValue")&&ku(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ku(e,t,n){(t!=="number"||ps(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ni=Array.isArray;function Kr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Ni(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bn(n)}}function Nd(e,t){var n=Bn(t.value),r=Bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Td(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _u(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Td(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zo,jd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Im=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(e){Im.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oi[t]=Oi[e]})});function Od(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oi.hasOwnProperty(e)&&Oi[e]?(""+t).trim():t+"px"}function Rd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Od(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Am=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(e,t){if(t){if(Am[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Pu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=null;function Sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nu=null,Ur=null,Hr=null;function Gc(e){if(e=oo(e)){if(typeof Nu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Hs(t),Nu(e.stateNode,e.type,t))}}function Id(e){Ur?Hr?Hr.push(e):Hr=[e]:Ur=e}function Ad(){if(Ur){var e=Ur,t=Hr;if(Hr=Ur=null,Gc(e),t)for(e=0;e<t.length;e++)Gc(t[e])}}function Md(e,t){return e(t)}function bd(){}var Hl=!1;function Dd(e,t,n){if(Hl)return e(t,n);Hl=!0;try{return Md(e,t,n)}finally{Hl=!1,(Ur!==null||Hr!==null)&&(bd(),Ad())}}function Ki(e,t){var n=e.stateNode;if(n===null)return null;var r=Hs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Tu=!1;if(dn)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Tu=!1}function Mm(e,t,n,r,o,s,a,d,h){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(C){this.onError(C)}}var Ri=!1,hs=null,ms=!1,ju=null,bm={onError:function(e){Ri=!0,hs=e}};function Dm(e,t,n,r,o,s,a,d,h){Ri=!1,hs=null,Mm.apply(bm,arguments)}function Lm(e,t,n,r,o,s,a,d,h){if(Dm.apply(this,arguments),Ri){if(Ri){var v=hs;Ri=!1,hs=null}else throw Error(V(198));ms||(ms=!0,ju=v)}}function yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if(yr(e)!==e)throw Error(V(188))}function Fm(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Xc(o),e;if(s===r)return Xc(o),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,d=o.child;d;){if(d===n){a=!0,n=o,r=s;break}if(d===r){a=!0,r=o,n=s;break}d=d.sibling}if(!a){for(d=s.child;d;){if(d===n){a=!0,n=s,r=o;break}if(d===r){a=!0,r=s,n=o;break}d=d.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Fd(e){return e=Fm(e),e!==null?zd(e):null}function zd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zd(e);if(t!==null)return t;e=e.sibling}return null}var Bd=Ct.unstable_scheduleCallback,Zc=Ct.unstable_cancelCallback,zm=Ct.unstable_shouldYield,Bm=Ct.unstable_requestPaint,Ue=Ct.unstable_now,Km=Ct.unstable_getCurrentPriorityLevel,ka=Ct.unstable_ImmediatePriority,Kd=Ct.unstable_UserBlockingPriority,ys=Ct.unstable_NormalPriority,Um=Ct.unstable_LowPriority,Ud=Ct.unstable_IdlePriority,zs=null,Jt=null;function Hm(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(zs,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Wm,Vm=Math.log,$m=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(Vm(e)/$m|0)|0}var Bo=64,Ko=4194304;function Ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var d=a&~o;d!==0?r=Ti(d):(s&=a,s!==0&&(r=Ti(s)))}else a=n&~o,a!==0?r=Ti(a):s!==0&&(r=Ti(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),o=1<<n,r|=e[n],t&=~o;return r}function qm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Ht(s),d=1<<a,h=o[a];h===-1?(!(d&n)||d&r)&&(o[a]=qm(d,t)):h<=t&&(e.expiredLanes|=d),s&=~d}}function Ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hd(){var e=Bo;return Bo<<=1,!(Bo&4194240)&&(Bo=64),e}function Vl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function Ym(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ht(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Pe=0;function Vd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $d,_a,Wd,qd,Qd,Ru=!1,Uo=[],In=null,An=null,Mn=null,Ui=new Map,Hi=new Map,Tn=[],Gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(t.pointerId)}}function gi(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=oo(t),t!==null&&_a(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Xm(e,t,n,r,o){switch(t){case"focusin":return In=gi(In,e,t,n,r,o),!0;case"dragenter":return An=gi(An,e,t,n,r,o),!0;case"mouseover":return Mn=gi(Mn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ui.set(s,gi(Ui.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Hi.set(s,gi(Hi.get(s)||null,e,t,n,r,o)),!0}return!1}function Yd(e){var t=ir(e.target);if(t!==null){var n=yr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ld(n),t!==null){e.blockedOn=t,Qd(e.priority,function(){Wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cu=r,n.target.dispatchEvent(r),Cu=null}else return t=oo(n),t!==null&&_a(t),e.blockedOn=n,!1;t.shift()}return!0}function ef(e,t,n){ns(e)&&n.delete(t)}function Zm(){Ru=!1,In!==null&&ns(In)&&(In=null),An!==null&&ns(An)&&(An=null),Mn!==null&&ns(Mn)&&(Mn=null),Ui.forEach(ef),Hi.forEach(ef)}function wi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ru||(Ru=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,Zm)))}function Vi(e){function t(o){return wi(o,e)}if(0<Uo.length){wi(Uo[0],e);for(var n=1;n<Uo.length;n++){var r=Uo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(In!==null&&wi(In,e),An!==null&&wi(An,e),Mn!==null&&wi(Mn,e),Ui.forEach(t),Hi.forEach(t),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)Yd(n),n.blockedOn===null&&Tn.shift()}var Vr=yn.ReactCurrentBatchConfig,gs=!0;function Jm(e,t,n,r){var o=Pe,s=Vr.transition;Vr.transition=null;try{Pe=1,Ea(e,t,n,r)}finally{Pe=o,Vr.transition=s}}function ey(e,t,n,r){var o=Pe,s=Vr.transition;Vr.transition=null;try{Pe=4,Ea(e,t,n,r)}finally{Pe=o,Vr.transition=s}}function Ea(e,t,n,r){if(gs){var o=Iu(e,t,n,r);if(o===null)eu(e,t,r,ws,n),Jc(e,r);else if(Xm(o,e,t,n,r))r.stopPropagation();else if(Jc(e,r),t&4&&-1<Gm.indexOf(e)){for(;o!==null;){var s=oo(o);if(s!==null&&$d(s),s=Iu(e,t,n,r),s===null&&eu(e,t,r,ws,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else eu(e,t,r,null,n)}}var ws=null;function Iu(e,t,n,r){if(ws=null,e=Sa(r),e=ir(e),e!==null)if(t=yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ws=e,null}function Gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Km()){case ka:return 1;case Kd:return 4;case ys:case Um:return 16;case Ud:return 536870912;default:return 16}default:return 16}}var On=null,Pa=null,rs=null;function Xd(){if(rs)return rs;var e,t=Pa,n=t.length,r,o="value"in On?On.value:On.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[s-r];r++);return rs=o.slice(e,1<r?1-r:void 0)}function is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function tf(){return!1}function Tt(e){function t(n,r,o,s,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(s):s[d]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ho:tf,this.isPropagationStopped=tf,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Tt(ti),io=De({},ti,{view:0,detail:0}),ty=Tt(io),$l,Wl,Si,Bs=De({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?($l=e.screenX-Si.screenX,Wl=e.screenY-Si.screenY):Wl=$l=0,Si=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),nf=Tt(Bs),ny=De({},Bs,{dataTransfer:0}),ry=Tt(ny),iy=De({},io,{relatedTarget:0}),ql=Tt(iy),oy=De({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),sy=Tt(oy),ly=De({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uy=Tt(ly),ay=De({},ti,{data:0}),rf=Tt(ay),cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dy[e])?!!t[e]:!1}function Na(){return py}var hy=De({},io,{key:function(e){if(e.key){var t=cy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(e){return e.type==="keypress"?is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),my=Tt(hy),yy=De({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Tt(yy),vy=De({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),gy=Tt(vy),wy=De({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sy=Tt(wy),ky=De({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xy=Tt(ky),_y=[9,13,27,32],Ta=dn&&"CompositionEvent"in window,Ii=null;dn&&"documentMode"in document&&(Ii=document.documentMode);var Ey=dn&&"TextEvent"in window&&!Ii,Zd=dn&&(!Ta||Ii&&8<Ii&&11>=Ii),sf=" ",lf=!1;function Jd(e,t){switch(e){case"keyup":return _y.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function Py(e,t){switch(e){case"compositionend":return ep(t);case"keypress":return t.which!==32?null:(lf=!0,sf);case"textInput":return e=t.data,e===sf&&lf?null:e;default:return null}}function Cy(e,t){if(Rr)return e==="compositionend"||!Ta&&Jd(e,t)?(e=Xd(),rs=Pa=On=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zd&&t.locale!=="ko"?null:t.data;default:return null}}var Ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ny[e.type]:t==="textarea"}function tp(e,t,n,r){Id(r),t=Ss(t,"onChange"),0<t.length&&(n=new Ca("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ai=null,$i=null;function Ty(e){dp(e,0)}function Ks(e){var t=Mr(e);if(Pd(t))return e}function jy(e,t){if(e==="change")return t}var np=!1;if(dn){var Ql;if(dn){var Yl="oninput"in document;if(!Yl){var af=document.createElement("div");af.setAttribute("oninput","return;"),Yl=typeof af.oninput=="function"}Ql=Yl}else Ql=!1;np=Ql&&(!document.documentMode||9<document.documentMode)}function cf(){Ai&&(Ai.detachEvent("onpropertychange",rp),$i=Ai=null)}function rp(e){if(e.propertyName==="value"&&Ks($i)){var t=[];tp(t,$i,e,Sa(e)),Dd(Ty,t)}}function Oy(e,t,n){e==="focusin"?(cf(),Ai=t,$i=n,Ai.attachEvent("onpropertychange",rp)):e==="focusout"&&cf()}function Ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks($i)}function Iy(e,t){if(e==="click")return Ks(t)}function Ay(e,t){if(e==="input"||e==="change")return Ks(t)}function My(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:My;function Wi(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!hu.call(t,o)||!$t(e[o],t[o]))return!1}return!0}function ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function df(e,t){var n=ff(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ff(n)}}function ip(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ip(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function op(){for(var e=window,t=ps();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ps(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function by(e){var t=op(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ip(n.ownerDocument.documentElement,n)){if(r!==null&&ja(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=df(n,s);var a=df(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dy=dn&&"documentMode"in document&&11>=document.documentMode,Ir=null,Au=null,Mi=null,Mu=!1;function pf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mu||Ir==null||Ir!==ps(r)||(r=Ir,"selectionStart"in r&&ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&Wi(Mi,r)||(Mi=r,r=Ss(Au,"onSelect"),0<r.length&&(t=new Ca("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}function Vo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},Gl={},sp={};dn&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Us(e){if(Gl[e])return Gl[e];if(!Ar[e])return e;var t=Ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sp)return Gl[e]=t[n];return e}var lp=Us("animationend"),up=Us("animationiteration"),ap=Us("animationstart"),cp=Us("transitionend"),fp=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){fp.set(e,t),mr(t,[e])}for(var Xl=0;Xl<hf.length;Xl++){var Zl=hf[Xl],Ly=Zl.toLowerCase(),Fy=Zl[0].toUpperCase()+Zl.slice(1);Un(Ly,"on"+Fy)}Un(lp,"onAnimationEnd");Un(up,"onAnimationIteration");Un(ap,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(cp,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function mf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lm(r,t,void 0,e),e.currentTarget=null}function dp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var d=r[a],h=d.instance,v=d.currentTarget;if(d=d.listener,h!==s&&o.isPropagationStopped())break e;mf(o,d,v),s=h}else for(a=0;a<r.length;a++){if(d=r[a],h=d.instance,v=d.currentTarget,d=d.listener,h!==s&&o.isPropagationStopped())break e;mf(o,d,v),s=h}}}if(ms)throw e=ju,ms=!1,ju=null,e}function je(e,t){var n=t[zu];n===void 0&&(n=t[zu]=new Set);var r=e+"__bubble";n.has(r)||(pp(t,e,2,!1),n.add(r))}function Jl(e,t,n){var r=0;t&&(r|=4),pp(n,e,r,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[$o]){e[$o]=!0,Sd.forEach(function(n){n!=="selectionchange"&&(zy.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,Jl("selectionchange",!1,t))}}function pp(e,t,n,r){switch(Gd(t)){case 1:var o=Jm;break;case 4:o=ey;break;default:o=Ea}n=o.bind(null,t,n,e),o=void 0,!Tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function eu(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var d=r.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;a=a.return}for(;d!==null;){if(a=ir(d),a===null)return;if(h=a.tag,h===5||h===6){r=s=a;continue e}d=d.parentNode}}r=r.return}Dd(function(){var v=s,C=Sa(n),O=[];e:{var I=fp.get(e);if(I!==void 0){var L=Ca,D=e;switch(e){case"keypress":if(is(n)===0)break e;case"keydown":case"keyup":L=my;break;case"focusin":D="focus",L=ql;break;case"focusout":D="blur",L=ql;break;case"beforeblur":case"afterblur":L=ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=gy;break;case lp:case up:case ap:L=sy;break;case cp:L=Sy;break;case"scroll":L=ty;break;case"wheel":L=xy;break;case"copy":case"cut":case"paste":L=uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=of}var B=(t&4)!==0,G=!B&&e==="scroll",j=B?I!==null?I+"Capture":null:I;B=[];for(var g=v,k;g!==null;){k=g;var F=k.stateNode;if(k.tag===5&&F!==null&&(k=F,j!==null&&(F=Ki(g,j),F!=null&&B.push(Qi(g,F,k)))),G)break;g=g.return}0<B.length&&(I=new L(I,D,null,n,C),O.push({event:I,listeners:B}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",I&&n!==Cu&&(D=n.relatedTarget||n.fromElement)&&(ir(D)||D[pn]))break e;if((L||I)&&(I=C.window===C?C:(I=C.ownerDocument)?I.defaultView||I.parentWindow:window,L?(D=n.relatedTarget||n.toElement,L=v,D=D?ir(D):null,D!==null&&(G=yr(D),D!==G||D.tag!==5&&D.tag!==6)&&(D=null)):(L=null,D=v),L!==D)){if(B=nf,F="onMouseLeave",j="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(B=of,F="onPointerLeave",j="onPointerEnter",g="pointer"),G=L==null?I:Mr(L),k=D==null?I:Mr(D),I=new B(F,g+"leave",L,n,C),I.target=G,I.relatedTarget=k,F=null,ir(C)===v&&(B=new B(j,g+"enter",D,n,C),B.target=k,B.relatedTarget=G,F=B),G=F,L&&D)t:{for(B=L,j=D,g=0,k=B;k;k=Cr(k))g++;for(k=0,F=j;F;F=Cr(F))k++;for(;0<g-k;)B=Cr(B),g--;for(;0<k-g;)j=Cr(j),k--;for(;g--;){if(B===j||j!==null&&B===j.alternate)break t;B=Cr(B),j=Cr(j)}B=null}else B=null;L!==null&&yf(O,I,L,B,!1),D!==null&&G!==null&&yf(O,G,D,B,!0)}}e:{if(I=v?Mr(v):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var Z=jy;else if(uf(I))if(np)Z=Ay;else{Z=Ry;var X=Oy}else(L=I.nodeName)&&L.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(Z=Iy);if(Z&&(Z=Z(e,v))){tp(O,Z,n,C);break e}X&&X(e,I,v),e==="focusout"&&(X=I._wrapperState)&&X.controlled&&I.type==="number"&&ku(I,"number",I.value)}switch(X=v?Mr(v):window,e){case"focusin":(uf(X)||X.contentEditable==="true")&&(Ir=X,Au=v,Mi=null);break;case"focusout":Mi=Au=Ir=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,pf(O,n,C);break;case"selectionchange":if(Dy)break;case"keydown":case"keyup":pf(O,n,C)}var q;if(Ta)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Rr?Jd(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(Zd&&n.locale!=="ko"&&(Rr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Rr&&(q=Xd()):(On=C,Pa="value"in On?On.value:On.textContent,Rr=!0)),X=Ss(v,ne),0<X.length&&(ne=new rf(ne,e,null,n,C),O.push({event:ne,listeners:X}),q?ne.data=q:(q=ep(n),q!==null&&(ne.data=q)))),(q=Ey?Py(e,n):Cy(e,n))&&(v=Ss(v,"onBeforeInput"),0<v.length&&(C=new rf("onBeforeInput","beforeinput",null,n,C),O.push({event:C,listeners:v}),C.data=q))}dp(O,t)})}function Qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ss(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ki(e,n),s!=null&&r.unshift(Qi(e,s,o)),s=Ki(e,t),s!=null&&r.push(Qi(e,s,o))),e=e.return}return r}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yf(e,t,n,r,o){for(var s=t._reactName,a=[];n!==null&&n!==r;){var d=n,h=d.alternate,v=d.stateNode;if(h!==null&&h===r)break;d.tag===5&&v!==null&&(d=v,o?(h=Ki(n,s),h!=null&&a.unshift(Qi(n,h,d))):o||(h=Ki(n,s),h!=null&&a.push(Qi(n,h,d)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var By=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(By,`
`).replace(Ky,"")}function Wo(e,t,n){if(t=vf(t),vf(e)!==t&&n)throw Error(V(425))}function ks(){}var bu=null,Du=null;function Lu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,Uy=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(e){return gf.resolve(null).then(e).catch(Vy)}:Fu;function Vy(e){setTimeout(function(){throw e})}function tu(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vi(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ni=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ni,Yi="__reactProps$"+ni,pn="__reactContainer$"+ni,zu="__reactEvents$"+ni,$y="__reactListeners$"+ni,Wy="__reactHandles$"+ni;function ir(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wf(e);e!==null;){if(n=e[Zt])return n;e=wf(e)}return t}e=n,n=e.parentNode}return null}function oo(e){return e=e[Zt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Hs(e){return e[Yi]||null}var Bu=[],br=-1;function Hn(e){return{current:e}}function Oe(e){0>br||(e.current=Bu[br],Bu[br]=null,br--)}function Te(e,t){br++,Bu[br]=e.current,e.current=t}var Kn={},at=Hn(Kn),gt=Hn(!1),ar=Kn;function Qr(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wt(e){return e=e.childContextTypes,e!=null}function xs(){Oe(gt),Oe(at)}function Sf(e,t,n){if(at.current!==Kn)throw Error(V(168));Te(at,t),Te(gt,n)}function hp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(V(108,Om(e)||"Unknown",o));return De({},n,r)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,ar=at.current,Te(at,e),Te(gt,gt.current),!0}function kf(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=hp(e,t,ar),r.__reactInternalMemoizedMergedChildContext=e,Oe(gt),Oe(at),Te(at,e)):Oe(gt),Te(gt,n)}var ln=null,Vs=!1,nu=!1;function mp(e){ln===null?ln=[e]:ln.push(e)}function qy(e){Vs=!0,mp(e)}function Vn(){if(!nu&&ln!==null){nu=!0;var e=0,t=Pe;try{var n=ln;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Vs=!1}catch(o){throw ln!==null&&(ln=ln.slice(e+1)),Bd(ka,Vn),o}finally{Pe=t,nu=!1}}return null}var Dr=[],Lr=0,Es=null,Ps=0,It=[],At=0,cr=null,an=1,cn="";function er(e,t){Dr[Lr++]=Ps,Dr[Lr++]=Es,Es=e,Ps=t}function yp(e,t,n){It[At++]=an,It[At++]=cn,It[At++]=cr,cr=e;var r=an;e=cn;var o=32-Ht(r)-1;r&=~(1<<o),n+=1;var s=32-Ht(t)+o;if(30<s){var a=o-o%5;s=(r&(1<<a)-1).toString(32),r>>=a,o-=a,an=1<<32-Ht(t)+o|n<<o|r,cn=s+e}else an=1<<s|n<<o|r,cn=e}function Oa(e){e.return!==null&&(er(e,1),yp(e,1,0))}function Ra(e){for(;e===Es;)Es=Dr[--Lr],Dr[Lr]=null,Ps=Dr[--Lr],Dr[Lr]=null;for(;e===cr;)cr=It[--At],It[At]=null,cn=It[--At],It[At]=null,an=It[--At],It[At]=null}var Pt=null,Et=null,Ie=!1,Ut=null;function vp(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Et=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cr!==null?{id:an,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,Et=null,!0):!1;default:return!1}}function Ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uu(e){if(Ie){var t=Et;if(t){var n=t;if(!xf(e,t)){if(Ku(e))throw Error(V(418));t=bn(n.nextSibling);var r=Pt;t&&xf(e,t)?vp(r,n):(e.flags=e.flags&-4097|2,Ie=!1,Pt=e)}}else{if(Ku(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ie=!1,Pt=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function qo(e){if(e!==Pt)return!1;if(!Ie)return _f(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lu(e.type,e.memoizedProps)),t&&(t=Et)){if(Ku(e))throw gp(),Error(V(418));for(;t;)vp(e,t),t=bn(t.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Pt?bn(e.stateNode.nextSibling):null;return!0}function gp(){for(var e=Et;e;)e=bn(e.nextSibling)}function Yr(){Et=Pt=null,Ie=!1}function Ia(e){Ut===null?Ut=[e]:Ut.push(e)}var Qy=yn.ReactCurrentBatchConfig;function ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var d=o.refs;a===null?delete d[s]:d[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ef(e){var t=e._init;return t(e._payload)}function wp(e){function t(j,g){if(e){var k=j.deletions;k===null?(j.deletions=[g],j.flags|=16):k.push(g)}}function n(j,g){if(!e)return null;for(;g!==null;)t(j,g),g=g.sibling;return null}function r(j,g){for(j=new Map;g!==null;)g.key!==null?j.set(g.key,g):j.set(g.index,g),g=g.sibling;return j}function o(j,g){return j=zn(j,g),j.index=0,j.sibling=null,j}function s(j,g,k){return j.index=k,e?(k=j.alternate,k!==null?(k=k.index,k<g?(j.flags|=2,g):k):(j.flags|=2,g)):(j.flags|=1048576,g)}function a(j){return e&&j.alternate===null&&(j.flags|=2),j}function d(j,g,k,F){return g===null||g.tag!==6?(g=au(k,j.mode,F),g.return=j,g):(g=o(g,k),g.return=j,g)}function h(j,g,k,F){var Z=k.type;return Z===Or?C(j,g,k.props.children,F,k.key):g!==null&&(g.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Cn&&Ef(Z)===g.type)?(F=o(g,k.props),F.ref=ki(j,g,k),F.return=j,F):(F=fs(k.type,k.key,k.props,null,j.mode,F),F.ref=ki(j,g,k),F.return=j,F)}function v(j,g,k,F){return g===null||g.tag!==4||g.stateNode.containerInfo!==k.containerInfo||g.stateNode.implementation!==k.implementation?(g=cu(k,j.mode,F),g.return=j,g):(g=o(g,k.children||[]),g.return=j,g)}function C(j,g,k,F,Z){return g===null||g.tag!==7?(g=ur(k,j.mode,F,Z),g.return=j,g):(g=o(g,k),g.return=j,g)}function O(j,g,k){if(typeof g=="string"&&g!==""||typeof g=="number")return g=au(""+g,j.mode,k),g.return=j,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lo:return k=fs(g.type,g.key,g.props,null,j.mode,k),k.ref=ki(j,null,g),k.return=j,k;case jr:return g=cu(g,j.mode,k),g.return=j,g;case Cn:var F=g._init;return O(j,F(g._payload),k)}if(Ni(g)||yi(g))return g=ur(g,j.mode,k,null),g.return=j,g;Qo(j,g)}return null}function I(j,g,k,F){var Z=g!==null?g.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Z!==null?null:d(j,g,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Lo:return k.key===Z?h(j,g,k,F):null;case jr:return k.key===Z?v(j,g,k,F):null;case Cn:return Z=k._init,I(j,g,Z(k._payload),F)}if(Ni(k)||yi(k))return Z!==null?null:C(j,g,k,F,null);Qo(j,k)}return null}function L(j,g,k,F,Z){if(typeof F=="string"&&F!==""||typeof F=="number")return j=j.get(k)||null,d(g,j,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Lo:return j=j.get(F.key===null?k:F.key)||null,h(g,j,F,Z);case jr:return j=j.get(F.key===null?k:F.key)||null,v(g,j,F,Z);case Cn:var X=F._init;return L(j,g,k,X(F._payload),Z)}if(Ni(F)||yi(F))return j=j.get(k)||null,C(g,j,F,Z,null);Qo(g,F)}return null}function D(j,g,k,F){for(var Z=null,X=null,q=g,ne=g=0,_e=null;q!==null&&ne<k.length;ne++){q.index>ne?(_e=q,q=null):_e=q.sibling;var de=I(j,q,k[ne],F);if(de===null){q===null&&(q=_e);break}e&&q&&de.alternate===null&&t(j,q),g=s(de,g,ne),X===null?Z=de:X.sibling=de,X=de,q=_e}if(ne===k.length)return n(j,q),Ie&&er(j,ne),Z;if(q===null){for(;ne<k.length;ne++)q=O(j,k[ne],F),q!==null&&(g=s(q,g,ne),X===null?Z=q:X.sibling=q,X=q);return Ie&&er(j,ne),Z}for(q=r(j,q);ne<k.length;ne++)_e=L(q,j,ne,k[ne],F),_e!==null&&(e&&_e.alternate!==null&&q.delete(_e.key===null?ne:_e.key),g=s(_e,g,ne),X===null?Z=_e:X.sibling=_e,X=_e);return e&&q.forEach(function(He){return t(j,He)}),Ie&&er(j,ne),Z}function B(j,g,k,F){var Z=yi(k);if(typeof Z!="function")throw Error(V(150));if(k=Z.call(k),k==null)throw Error(V(151));for(var X=Z=null,q=g,ne=g=0,_e=null,de=k.next();q!==null&&!de.done;ne++,de=k.next()){q.index>ne?(_e=q,q=null):_e=q.sibling;var He=I(j,q,de.value,F);if(He===null){q===null&&(q=_e);break}e&&q&&He.alternate===null&&t(j,q),g=s(He,g,ne),X===null?Z=He:X.sibling=He,X=He,q=_e}if(de.done)return n(j,q),Ie&&er(j,ne),Z;if(q===null){for(;!de.done;ne++,de=k.next())de=O(j,de.value,F),de!==null&&(g=s(de,g,ne),X===null?Z=de:X.sibling=de,X=de);return Ie&&er(j,ne),Z}for(q=r(j,q);!de.done;ne++,de=k.next())de=L(q,j,ne,de.value,F),de!==null&&(e&&de.alternate!==null&&q.delete(de.key===null?ne:de.key),g=s(de,g,ne),X===null?Z=de:X.sibling=de,X=de);return e&&q.forEach(function(Le){return t(j,Le)}),Ie&&er(j,ne),Z}function G(j,g,k,F){if(typeof k=="object"&&k!==null&&k.type===Or&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Lo:e:{for(var Z=k.key,X=g;X!==null;){if(X.key===Z){if(Z=k.type,Z===Or){if(X.tag===7){n(j,X.sibling),g=o(X,k.props.children),g.return=j,j=g;break e}}else if(X.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Cn&&Ef(Z)===X.type){n(j,X.sibling),g=o(X,k.props),g.ref=ki(j,X,k),g.return=j,j=g;break e}n(j,X);break}else t(j,X);X=X.sibling}k.type===Or?(g=ur(k.props.children,j.mode,F,k.key),g.return=j,j=g):(F=fs(k.type,k.key,k.props,null,j.mode,F),F.ref=ki(j,g,k),F.return=j,j=F)}return a(j);case jr:e:{for(X=k.key;g!==null;){if(g.key===X)if(g.tag===4&&g.stateNode.containerInfo===k.containerInfo&&g.stateNode.implementation===k.implementation){n(j,g.sibling),g=o(g,k.children||[]),g.return=j,j=g;break e}else{n(j,g);break}else t(j,g);g=g.sibling}g=cu(k,j.mode,F),g.return=j,j=g}return a(j);case Cn:return X=k._init,G(j,g,X(k._payload),F)}if(Ni(k))return D(j,g,k,F);if(yi(k))return B(j,g,k,F);Qo(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,g!==null&&g.tag===6?(n(j,g.sibling),g=o(g,k),g.return=j,j=g):(n(j,g),g=au(k,j.mode,F),g.return=j,j=g),a(j)):n(j,g)}return G}var Gr=wp(!0),Sp=wp(!1),Cs=Hn(null),Ns=null,Fr=null,Aa=null;function Ma(){Aa=Fr=Ns=null}function ba(e){var t=Cs.current;Oe(Cs),e._currentValue=t}function Hu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $r(e,t){Ns=e,Aa=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(Ns===null)throw Error(V(308));Fr=e,Ns.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var or=null;function Da(e){or===null?or=[e]:or.push(e)}function kp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Da(t)):(n.next=o.next,o.next=n),t.interleaved=n,hn(e,r)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nn=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,hn(e,n)}return o=r.interleaved,o===null?(t.next=t,Da(r)):(t.next=o.next,o.next=t),r.interleaved=t,hn(e,n)}function os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xa(e,n)}}function Pf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ts(e,t,n,r){var o=e.updateQueue;Nn=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var h=d,v=h.next;h.next=null,a===null?s=v:a.next=v,a=h;var C=e.alternate;C!==null&&(C=C.updateQueue,d=C.lastBaseUpdate,d!==a&&(d===null?C.firstBaseUpdate=v:d.next=v,C.lastBaseUpdate=h))}if(s!==null){var O=o.baseState;a=0,C=v=h=null,d=s;do{var I=d.lane,L=d.eventTime;if((r&I)===I){C!==null&&(C=C.next={eventTime:L,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var D=e,B=d;switch(I=t,L=n,B.tag){case 1:if(D=B.payload,typeof D=="function"){O=D.call(L,O,I);break e}O=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=B.payload,I=typeof D=="function"?D.call(L,O,I):D,I==null)break e;O=De({},O,I);break e;case 2:Nn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,I=o.effects,I===null?o.effects=[d]:I.push(d))}else L={eventTime:L,lane:I,tag:d.tag,payload:d.payload,callback:d.callback,next:null},C===null?(v=C=L,h=O):C=C.next=L,a|=I;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;I=d,d=I.next,I.next=null,o.lastBaseUpdate=I,o.shared.pending=null}}while(!0);if(C===null&&(h=O),o.baseState=h,o.firstBaseUpdate=v,o.lastBaseUpdate=C,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);dr|=a,e.lanes=a,e.memoizedState=O}}function Cf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(V(191,o));o.call(r)}}}var so={},en=Hn(so),Gi=Hn(so),Xi=Hn(so);function sr(e){if(e===so)throw Error(V(174));return e}function Fa(e,t){switch(Te(Xi,t),Te(Gi,e),Te(en,so),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_u(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_u(t,e)}Oe(en),Te(en,t)}function Xr(){Oe(en),Oe(Gi),Oe(Xi)}function _p(e){sr(Xi.current);var t=sr(en.current),n=_u(t,e.type);t!==n&&(Te(Gi,e),Te(en,n))}function za(e){Gi.current===e&&(Oe(en),Oe(Gi))}var Me=Hn(0);function js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ru=[];function Ba(){for(var e=0;e<ru.length;e++)ru[e]._workInProgressVersionPrimary=null;ru.length=0}var ss=yn.ReactCurrentDispatcher,iu=yn.ReactCurrentBatchConfig,fr=0,be=null,Ye=null,Je=null,Os=!1,bi=!1,Zi=0,Yy=0;function st(){throw Error(V(321))}function Ka(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Ua(e,t,n,r,o,s){if(fr=s,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ss.current=e===null||e.memoizedState===null?Jy:ev,e=n(r,o),bi){s=0;do{if(bi=!1,Zi=0,25<=s)throw Error(V(301));s+=1,Je=Ye=null,t.updateQueue=null,ss.current=tv,e=n(r,o)}while(bi)}if(ss.current=Rs,t=Ye!==null&&Ye.next!==null,fr=0,Je=Ye=be=null,Os=!1,t)throw Error(V(300));return e}function Ha(){var e=Zi!==0;return Zi=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?be.memoizedState=Je=e:Je=Je.next=e,Je}function Lt(){if(Ye===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Je===null?be.memoizedState:Je.next;if(t!==null)Je=t,Ye=e;else{if(e===null)throw Error(V(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?be.memoizedState=Je=e:Je=Je.next=e}return Je}function Ji(e,t){return typeof t=="function"?t(e):t}function ou(e){var t=Lt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Ye,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var d=a=null,h=null,v=s;do{var C=v.lane;if((fr&C)===C)h!==null&&(h=h.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var O={lane:C,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};h===null?(d=h=O,a=r):h=h.next=O,be.lanes|=C,dr|=C}v=v.next}while(v!==null&&v!==s);h===null?a=r:h.next=d,$t(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,be.lanes|=s,dr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function su(e){var t=Lt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);$t(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ep(){}function Pp(e,t){var n=be,r=Lt(),o=t(),s=!$t(r.memoizedState,o);if(s&&(r.memoizedState=o,vt=!0),r=r.queue,Va(Tp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,eo(9,Np.bind(null,n,r,o,t),void 0,null),et===null)throw Error(V(349));fr&30||Cp(n,t,o)}return o}function Cp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Np(e,t,n,r){t.value=n,t.getSnapshot=r,jp(t)&&Op(e)}function Tp(e,t,n){return n(function(){jp(t)&&Op(e)})}function jp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function Op(e){var t=hn(e,1);t!==null&&Vt(t,e,1,-1)}function Nf(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t.queue=e,e=e.dispatch=Zy.bind(null,be,e),[t.memoizedState,e]}function eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rp(){return Lt().memoizedState}function ls(e,t,n,r){var o=Xt();be.flags|=e,o.memoizedState=eo(1|t,n,void 0,r===void 0?null:r)}function $s(e,t,n,r){var o=Lt();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var a=Ye.memoizedState;if(s=a.destroy,r!==null&&Ka(r,a.deps)){o.memoizedState=eo(t,n,s,r);return}}be.flags|=e,o.memoizedState=eo(1|t,n,s,r)}function Tf(e,t){return ls(8390656,8,e,t)}function Va(e,t){return $s(2048,8,e,t)}function Ip(e,t){return $s(4,2,e,t)}function Ap(e,t){return $s(4,4,e,t)}function Mp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bp(e,t,n){return n=n!=null?n.concat([e]):null,$s(4,4,Mp.bind(null,t,e),n)}function $a(){}function Dp(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lp(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fp(e,t,n){return fr&21?($t(n,t)||(n=Hd(),be.lanes|=n,dr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function Gy(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=iu.transition;iu.transition={};try{e(!1),t()}finally{Pe=n,iu.transition=r}}function zp(){return Lt().memoizedState}function Xy(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bp(e))Kp(t,n);else if(n=kp(e,t,n,r),n!==null){var o=dt();Vt(n,e,r,o),Up(n,t,r)}}function Zy(e,t,n){var r=Fn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bp(e))Kp(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,d=s(a,n);if(o.hasEagerState=!0,o.eagerState=d,$t(d,a)){var h=t.interleaved;h===null?(o.next=o,Da(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}finally{}n=kp(e,t,o,r),n!==null&&(o=dt(),Vt(n,e,r,o),Up(n,t,r))}}function Bp(e){var t=e.alternate;return e===be||t!==null&&t===be}function Kp(e,t){bi=Os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Up(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xa(e,n)}}var Rs={readContext:Dt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Jy={readContext:Dt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Tf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ls(4194308,4,Mp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xy.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Nf,useDebugValue:$a,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Nf(!1),t=e[0];return e=Gy.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=be,o=Xt();if(Ie){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),et===null)throw Error(V(349));fr&30||Cp(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Tf(Tp.bind(null,r,s,e),[e]),r.flags|=2048,eo(9,Np.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xt(),t=et.identifierPrefix;if(Ie){var n=cn,r=an;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ev={readContext:Dt,useCallback:Dp,useContext:Dt,useEffect:Va,useImperativeHandle:bp,useInsertionEffect:Ip,useLayoutEffect:Ap,useMemo:Lp,useReducer:ou,useRef:Rp,useState:function(){return ou(Ji)},useDebugValue:$a,useDeferredValue:function(e){var t=Lt();return Fp(t,Ye.memoizedState,e)},useTransition:function(){var e=ou(Ji)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Ep,useSyncExternalStore:Pp,useId:zp,unstable_isNewReconciler:!1},tv={readContext:Dt,useCallback:Dp,useContext:Dt,useEffect:Va,useImperativeHandle:bp,useInsertionEffect:Ip,useLayoutEffect:Ap,useMemo:Lp,useReducer:su,useRef:Rp,useState:function(){return su(Ji)},useDebugValue:$a,useDeferredValue:function(e){var t=Lt();return Ye===null?t.memoizedState=e:Fp(t,Ye.memoizedState,e)},useTransition:function(){var e=su(Ji)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Ep,useSyncExternalStore:Pp,useId:zp,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ws={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),o=Fn(e),s=fn(r,o);s.payload=t,n!=null&&(s.callback=n),t=Dn(e,s,o),t!==null&&(Vt(t,e,o,r),os(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),o=Fn(e),s=fn(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Dn(e,s,o),t!==null&&(Vt(t,e,o,r),os(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=Fn(e),o=fn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Dn(e,o,r),t!==null&&(Vt(t,e,r,n),os(t,e,r))}};function jf(e,t,n,r,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Wi(n,r)||!Wi(o,s):!0}function Hp(e,t,n){var r=!1,o=Kn,s=t.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(o=wt(t)?ar:at.current,r=t.contextTypes,s=(r=r!=null)?Qr(e,o):Kn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ws,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Of(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ws.enqueueReplaceState(t,t.state,null)}function $u(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},La(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Dt(s):(s=wt(t)?ar:at.current,o.context=Qr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Vu(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ws.enqueueReplaceState(o,o.state,null),Ts(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var n="",r=t;do n+=jm(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function lu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nv=typeof WeakMap=="function"?WeakMap:Map;function Vp(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,na=r),Wu(e,t)},n}function $p(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Wu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wu(e,t),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=yv.bind(null,e,t,n),t.then(e,e))}function If(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Af(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,Dn(n,t,1))),n.lanes|=1),e)}var rv=yn.ReactCurrentOwner,vt=!1;function ft(e,t,n,r){t.child=e===null?Sp(t,null,n,r):Gr(t,e.child,n,r)}function Mf(e,t,n,r,o){n=n.render;var s=t.ref;return $r(t,o),r=Ua(e,t,n,r,s,o),n=Ha(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mn(e,t,o)):(Ie&&n&&Oa(t),t.flags|=1,ft(e,t,r,o),t.child)}function bf(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Ja(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Wp(e,t,s,r,o)):(e=fs(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(a,r)&&e.ref===t.ref)return mn(e,t,o)}return t.flags|=1,e=zn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Wp(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Wi(s,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,mn(e,t,o)}return qu(e,t,n,r,o)}function qp(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Br,_t),_t|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Br,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Br,_t),_t|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Te(Br,_t),_t|=r;return ft(e,t,o,n),t.child}function Qp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qu(e,t,n,r,o){var s=wt(n)?ar:at.current;return s=Qr(t,s),$r(t,o),n=Ua(e,t,n,r,s,o),r=Ha(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mn(e,t,o)):(Ie&&r&&Oa(t),t.flags|=1,ft(e,t,n,o),t.child)}function Df(e,t,n,r,o){if(wt(n)){var s=!0;_s(t)}else s=!1;if($r(t,o),t.stateNode===null)us(e,t),Hp(t,n,r),$u(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,d=t.memoizedProps;a.props=d;var h=a.context,v=n.contextType;typeof v=="object"&&v!==null?v=Dt(v):(v=wt(n)?ar:at.current,v=Qr(t,v));var C=n.getDerivedStateFromProps,O=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function";O||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==r||h!==v)&&Of(t,a,r,v),Nn=!1;var I=t.memoizedState;a.state=I,Ts(t,r,a,o),h=t.memoizedState,d!==r||I!==h||gt.current||Nn?(typeof C=="function"&&(Vu(t,n,C,r),h=t.memoizedState),(d=Nn||jf(t,n,d,r,I,h,v))?(O||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=v,r=d):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,xp(e,t),d=t.memoizedProps,v=t.type===t.elementType?d:Bt(t.type,d),a.props=v,O=t.pendingProps,I=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Dt(h):(h=wt(n)?ar:at.current,h=Qr(t,h));var L=n.getDerivedStateFromProps;(C=typeof L=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==O||I!==h)&&Of(t,a,r,h),Nn=!1,I=t.memoizedState,a.state=I,Ts(t,r,a,o);var D=t.memoizedState;d!==O||I!==D||gt.current||Nn?(typeof L=="function"&&(Vu(t,n,L,r),D=t.memoizedState),(v=Nn||jf(t,n,v,r,I,D,h)||!1)?(C||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,D,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,D,h)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),a.props=r,a.state=D,a.context=h,r=v):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return Qu(e,t,n,r,s,o)}function Qu(e,t,n,r,o,s){Qp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&kf(t,n,!1),mn(e,t,s);r=t.stateNode,rv.current=t;var d=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Gr(t,e.child,null,s),t.child=Gr(t,null,d,s)):ft(e,t,d,s),t.memoizedState=r.state,o&&kf(t,n,!0),t.child}function Yp(e){var t=e.stateNode;t.pendingContext?Sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sf(e,t.context,!1),Fa(e,t.containerInfo)}function Lf(e,t,n,r,o){return Yr(),Ia(o),t.flags|=256,ft(e,t,n,r),t.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gp(e,t,n){var r=t.pendingProps,o=Me.current,s=!1,a=(t.flags&128)!==0,d;if((d=a)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Te(Me,o&1),e===null)return Uu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ys(a,r,0,null),e=ur(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Gu(n),t.memoizedState=Yu,e):Wa(t,a));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return iv(e,t,a,r,d,o,n);if(s){s=r.fallback,a=t.mode,o=e.child,d=o.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=zn(o,h),r.subtreeFlags=o.subtreeFlags&14680064),d!==null?s=zn(d,s):(s=ur(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Gu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Yu,r}return s=e.child,e=s.sibling,r=zn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wa(e,t){return t=Ys({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,n,r){return r!==null&&Ia(r),Gr(t,e.child,null,n),e=Wa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iv(e,t,n,r,o,s,a){if(n)return t.flags&256?(t.flags&=-257,r=lu(Error(V(422))),Yo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ys({mode:"visible",children:r.children},o,0,null),s=ur(s,o,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Gr(t,e.child,null,a),t.child.memoizedState=Gu(a),t.memoizedState=Yu,s);if(!(t.mode&1))return Yo(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var d=r.dgst;return r=d,s=Error(V(419)),r=lu(s,r,void 0),Yo(e,t,a,r)}if(d=(a&e.childLanes)!==0,vt||d){if(r=et,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,hn(e,o),Vt(r,e,o,-1))}return Za(),r=lu(Error(V(421))),Yo(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=vv.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Et=bn(o.nextSibling),Pt=t,Ie=!0,Ut=null,e!==null&&(It[At++]=an,It[At++]=cn,It[At++]=cr,an=e.id,cn=e.overflow,cr=t),t=Wa(t,r.children),t.flags|=4096,t)}function Ff(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hu(e.return,t,n)}function uu(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Xp(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(ft(e,t,r.children,n),r=Me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,n,t);else if(e.tag===19)Ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Me,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&js(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),uu(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&js(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}uu(t,!0,n,null,s);break;case"together":uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function us(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ov(e,t,n){switch(t.tag){case 3:Yp(t),Yr();break;case 5:_p(t);break;case 1:wt(t.type)&&_s(t);break;case 4:Fa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Te(Cs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Me,Me.current&1),t.flags|=128,null):n&t.child.childLanes?Gp(e,t,n):(Te(Me,Me.current&1),e=mn(e,t,n),e!==null?e.sibling:null);Te(Me,Me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Te(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,qp(e,t,n)}return mn(e,t,n)}var Zp,Xu,Jp,eh;Zp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xu=function(){};Jp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,sr(en.current);var s=null;switch(n){case"input":o=wu(e,o),r=wu(e,r),s=[];break;case"select":o=De({},o,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":o=xu(e,o),r=xu(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ks)}Eu(n,r);var a;n=null;for(v in o)if(!r.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var d=o[v];for(a in d)d.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(zi.hasOwnProperty(v)?s||(s=[]):(s=s||[]).push(v,null));for(v in r){var h=r[v];if(d=o!=null?o[v]:void 0,r.hasOwnProperty(v)&&h!==d&&(h!=null||d!=null))if(v==="style")if(d){for(a in d)!d.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&d[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(s||(s=[]),s.push(v,n)),n=h;else v==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(s=s||[]).push(v,h)):v==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(v,""+h):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(zi.hasOwnProperty(v)?(h!=null&&v==="onScroll"&&je("scroll",e),s||d===h||(s=[])):(s=s||[]).push(v,h))}n&&(s=s||[]).push("style",n);var v=s;(t.updateQueue=v)&&(t.flags|=4)}};eh=function(e,t,n,r){n!==r&&(t.flags|=4)};function xi(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sv(e,t,n){var r=t.pendingProps;switch(Ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return wt(t.type)&&xs(),lt(t),null;case 3:return r=t.stateNode,Xr(),Oe(gt),Oe(at),Ba(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(oa(Ut),Ut=null))),Xu(e,t),lt(t),null;case 5:za(t);var o=sr(Xi.current);if(n=t.type,e!==null&&t.stateNode!=null)Jp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return lt(t),null}if(e=sr(en.current),qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zt]=t,r[Yi]=s,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<ji.length;o++)je(ji[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Wc(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":Qc(r,s),je("invalid",r)}Eu(n,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var d=s[a];a==="children"?typeof d=="string"?r.textContent!==d&&(s.suppressHydrationWarning!==!0&&Wo(r.textContent,d,e),o=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(s.suppressHydrationWarning!==!0&&Wo(r.textContent,d,e),o=["children",""+d]):zi.hasOwnProperty(a)&&d!=null&&a==="onScroll"&&je("scroll",r)}switch(n){case"input":Fo(r),qc(r,s,!0);break;case"textarea":Fo(r),Yc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ks)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Td(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Zt]=t,e[Yi]=r,Zp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Pu(n,r),n){case"dialog":je("cancel",e),je("close",e),o=r;break;case"iframe":case"object":case"embed":je("load",e),o=r;break;case"video":case"audio":for(o=0;o<ji.length;o++)je(ji[o],e);o=r;break;case"source":je("error",e),o=r;break;case"img":case"image":case"link":je("error",e),je("load",e),o=r;break;case"details":je("toggle",e),o=r;break;case"input":Wc(e,r),o=wu(e,r),je("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=De({},r,{value:void 0}),je("invalid",e);break;case"textarea":Qc(e,r),o=xu(e,r),je("invalid",e);break;default:o=r}Eu(n,o),d=o;for(s in d)if(d.hasOwnProperty(s)){var h=d[s];s==="style"?Rd(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&jd(e,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Bi(e,h):typeof h=="number"&&Bi(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zi.hasOwnProperty(s)?h!=null&&s==="onScroll"&&je("scroll",e):h!=null&&ya(e,s,h,a))}switch(n){case"input":Fo(e),qc(e,r,!1);break;case"textarea":Fo(e),Yc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Kr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Kr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ks)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)eh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=sr(Xi.current),sr(en.current),qo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(s=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return lt(t),null;case 13:if(Oe(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Et!==null&&t.mode&1&&!(t.flags&128))gp(),Yr(),t.flags|=98560,s=!1;else if(s=qo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[Zt]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),s=!1}else Ut!==null&&(oa(Ut),Ut=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Ge===0&&(Ge=3):Za())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Xr(),Xu(e,t),e===null&&qi(t.stateNode.containerInfo),lt(t),null;case 10:return ba(t.type._context),lt(t),null;case 17:return wt(t.type)&&xs(),lt(t),null;case 19:if(Oe(Me),s=t.memoizedState,s===null)return lt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)xi(s,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=js(e),a!==null){for(t.flags|=128,xi(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Me,Me.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ue()>Jr&&(t.flags|=128,r=!0,xi(s,!1),t.lanes=4194304)}else{if(!r)if(e=js(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ie)return lt(t),null}else 2*Ue()-s.renderingStartTime>Jr&&n!==1073741824&&(t.flags|=128,r=!0,xi(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ue(),t.sibling=null,n=Me.current,Te(Me,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return Xa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function lv(e,t){switch(Ra(t),t.tag){case 1:return wt(t.type)&&xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),Oe(gt),Oe(at),Ba(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return za(t),null;case 13:if(Oe(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Me),null;case 4:return Xr(),null;case 10:return ba(t.type._context),null;case 22:case 23:return Xa(),null;case 24:return null;default:return null}}var Go=!1,ut=!1,uv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function Zu(e,t,n){try{n()}catch(r){ze(e,t,r)}}var zf=!1;function av(e,t){if(bu=gs,e=op(),ja(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,d=-1,h=-1,v=0,C=0,O=e,I=null;t:for(;;){for(var L;O!==n||o!==0&&O.nodeType!==3||(d=a+o),O!==s||r!==0&&O.nodeType!==3||(h=a+r),O.nodeType===3&&(a+=O.nodeValue.length),(L=O.firstChild)!==null;)I=O,O=L;for(;;){if(O===e)break t;if(I===n&&++v===o&&(d=a),I===s&&++C===r&&(h=a),(L=O.nextSibling)!==null)break;O=I,I=O.parentNode}O=L}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Du={focusedElem:e,selectionRange:n},gs=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var B=D.memoizedProps,G=D.memoizedState,j=t.stateNode,g=j.getSnapshotBeforeUpdate(t.elementType===t.type?B:Bt(t.type,B),G);j.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(F){ze(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return D=zf,zf=!1,D}function Di(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Zu(t,n,s)}o=o.next}while(o!==r)}}function qs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ju(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function th(e){var t=e.alternate;t!==null&&(e.alternate=null,th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Yi],delete t[zu],delete t[$y],delete t[Wy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nh(e){return e.tag===5||e.tag===3||e.tag===4}function Bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ea(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ks));else if(r!==4&&(e=e.child,e!==null))for(ea(e,t,n),e=e.sibling;e!==null;)ea(e,t,n),e=e.sibling}function ta(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ta(e,t,n),e=e.sibling;e!==null;)ta(e,t,n),e=e.sibling}var nt=null,Kt=!1;function Pn(e,t,n){for(n=n.child;n!==null;)rh(e,t,n),n=n.sibling}function rh(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(zs,n)}catch{}switch(n.tag){case 5:ut||zr(n,t);case 6:var r=nt,o=Kt;nt=null,Pn(e,t,n),nt=r,Kt=o,nt!==null&&(Kt?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(Kt?(e=nt,n=n.stateNode,e.nodeType===8?tu(e.parentNode,n):e.nodeType===1&&tu(e,n),Vi(e)):tu(nt,n.stateNode));break;case 4:r=nt,o=Kt,nt=n.stateNode.containerInfo,Kt=!0,Pn(e,t,n),nt=r,Kt=o;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Zu(n,t,a),o=o.next}while(o!==r)}Pn(e,t,n);break;case 1:if(!ut&&(zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){ze(n,t,d)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,Pn(e,t,n),ut=r):Pn(e,t,n);break;default:Pn(e,t,n)}}function Kf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uv),t.forEach(function(r){var o=gv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,d=a;e:for(;d!==null;){switch(d.tag){case 5:nt=d.stateNode,Kt=!1;break e;case 3:nt=d.stateNode.containerInfo,Kt=!0;break e;case 4:nt=d.stateNode.containerInfo,Kt=!0;break e}d=d.return}if(nt===null)throw Error(V(160));rh(s,a,o),nt=null,Kt=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(v){ze(o,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ih(t,e),t=t.sibling}function ih(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Gt(e),r&4){try{Di(3,e,e.return),qs(3,e)}catch(B){ze(e,e.return,B)}try{Di(5,e,e.return)}catch(B){ze(e,e.return,B)}}break;case 1:zt(t,e),Gt(e),r&512&&n!==null&&zr(n,n.return);break;case 5:if(zt(t,e),Gt(e),r&512&&n!==null&&zr(n,n.return),e.flags&32){var o=e.stateNode;try{Bi(o,"")}catch(B){ze(e,e.return,B)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&s.type==="radio"&&s.name!=null&&Cd(o,s),Pu(d,a);var v=Pu(d,s);for(a=0;a<h.length;a+=2){var C=h[a],O=h[a+1];C==="style"?Rd(o,O):C==="dangerouslySetInnerHTML"?jd(o,O):C==="children"?Bi(o,O):ya(o,C,O,v)}switch(d){case"input":Su(o,s);break;case"textarea":Nd(o,s);break;case"select":var I=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var L=s.value;L!=null?Kr(o,!!s.multiple,L,!1):I!==!!s.multiple&&(s.defaultValue!=null?Kr(o,!!s.multiple,s.defaultValue,!0):Kr(o,!!s.multiple,s.multiple?[]:"",!1))}o[Yi]=s}catch(B){ze(e,e.return,B)}}break;case 6:if(zt(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(V(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(B){ze(e,e.return,B)}}break;case 3:if(zt(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(B){ze(e,e.return,B)}break;case 4:zt(t,e),Gt(e);break;case 13:zt(t,e),Gt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ya=Ue())),r&4&&Kf(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(v=ut)||C,zt(t,e),ut=v):zt(t,e),Gt(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!C&&e.mode&1)for(oe=e,C=e.child;C!==null;){for(O=oe=C;oe!==null;){switch(I=oe,L=I.child,I.tag){case 0:case 11:case 14:case 15:Di(4,I,I.return);break;case 1:zr(I,I.return);var D=I.stateNode;if(typeof D.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(B){ze(r,n,B)}}break;case 5:zr(I,I.return);break;case 22:if(I.memoizedState!==null){Hf(O);continue}}L!==null?(L.return=I,oe=L):Hf(O)}C=C.sibling}e:for(C=null,O=e;;){if(O.tag===5){if(C===null){C=O;try{o=O.stateNode,v?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(d=O.stateNode,h=O.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=Od("display",a))}catch(B){ze(e,e.return,B)}}}else if(O.tag===6){if(C===null)try{O.stateNode.nodeValue=v?"":O.memoizedProps}catch(B){ze(e,e.return,B)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;C===O&&(C=null),O=O.return}C===O&&(C=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:zt(t,e),Gt(e),r&4&&Kf(e);break;case 21:break;default:zt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nh(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Bi(o,""),r.flags&=-33);var s=Bf(e);ta(e,s,o);break;case 3:case 4:var a=r.stateNode.containerInfo,d=Bf(e);ea(e,d,a);break;default:throw Error(V(161))}}catch(h){ze(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cv(e,t,n){oe=e,oh(e)}function oh(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var o=oe,s=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||Go;if(!a){var d=o.alternate,h=d!==null&&d.memoizedState!==null||ut;d=Go;var v=ut;if(Go=a,(ut=h)&&!v)for(oe=o;oe!==null;)a=oe,h=a.child,a.tag===22&&a.memoizedState!==null?Vf(o):h!==null?(h.return=a,oe=h):Vf(o);for(;s!==null;)oe=s,oh(s),s=s.sibling;oe=o,Go=d,ut=v}Uf(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,oe=s):Uf(e)}}function Uf(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||qs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Bt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Cf(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cf(t,a,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var C=v.memoizedState;if(C!==null){var O=C.dehydrated;O!==null&&Vi(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}ut||t.flags&512&&Ju(t)}catch(I){ze(t,t.return,I)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Hf(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Vf(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qs(4,t)}catch(h){ze(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(h){ze(t,o,h)}}var s=t.return;try{Ju(t)}catch(h){ze(t,s,h)}break;case 5:var a=t.return;try{Ju(t)}catch(h){ze(t,a,h)}}}catch(h){ze(t,t.return,h)}if(t===e){oe=null;break}var d=t.sibling;if(d!==null){d.return=t.return,oe=d;break}oe=t.return}}var fv=Math.ceil,Is=yn.ReactCurrentDispatcher,qa=yn.ReactCurrentOwner,bt=yn.ReactCurrentBatchConfig,we=0,et=null,qe=null,rt=0,_t=0,Br=Hn(0),Ge=0,to=null,dr=0,Qs=0,Qa=0,Li=null,yt=null,Ya=0,Jr=1/0,sn=null,As=!1,na=null,Ln=null,Xo=!1,Rn=null,Ms=0,Fi=0,ra=null,as=-1,cs=0;function dt(){return we&6?Ue():as!==-1?as:as=Ue()}function Fn(e){return e.mode&1?we&2&&rt!==0?rt&-rt:Qy.transition!==null?(cs===0&&(cs=Hd()),cs):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Gd(e.type)),e):1}function Vt(e,t,n,r){if(50<Fi)throw Fi=0,ra=null,Error(V(185));ro(e,n,r),(!(we&2)||e!==et)&&(e===et&&(!(we&2)&&(Qs|=n),Ge===4&&jn(e,rt)),St(e,r),n===1&&we===0&&!(t.mode&1)&&(Jr=Ue()+500,Vs&&Vn()))}function St(e,t){var n=e.callbackNode;Qm(e,t);var r=vs(e,e===et?rt:0);if(r===0)n!==null&&Zc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zc(n),t===1)e.tag===0?qy($f.bind(null,e)):mp($f.bind(null,e)),Hy(function(){!(we&6)&&Vn()}),n=null;else{switch(Vd(r)){case 1:n=ka;break;case 4:n=Kd;break;case 16:n=ys;break;case 536870912:n=Ud;break;default:n=ys}n=ph(n,sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sh(e,t){if(as=-1,cs=0,we&6)throw Error(V(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var r=vs(e,e===et?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bs(e,r);else{t=r;var o=we;we|=2;var s=uh();(et!==e||rt!==t)&&(sn=null,Jr=Ue()+500,lr(e,t));do try{hv();break}catch(d){lh(e,d)}while(!0);Ma(),Is.current=s,we=o,qe!==null?t=0:(et=null,rt=0,t=Ge)}if(t!==0){if(t===2&&(o=Ou(e),o!==0&&(r=o,t=ia(e,o))),t===1)throw n=to,lr(e,0),jn(e,r),St(e,Ue()),n;if(t===6)jn(e,r);else{if(o=e.current.alternate,!(r&30)&&!dv(o)&&(t=bs(e,r),t===2&&(s=Ou(e),s!==0&&(r=s,t=ia(e,s))),t===1))throw n=to,lr(e,0),jn(e,r),St(e,Ue()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:tr(e,yt,sn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=Ya+500-Ue(),10<t)){if(vs(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Fu(tr.bind(null,e,yt,sn),t);break}tr(e,yt,sn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Ht(r);s=1<<a,a=t[a],a>o&&(o=a),r&=~s}if(r=o,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fv(r/1960))-r,10<r){e.timeoutHandle=Fu(tr.bind(null,e,yt,sn),r);break}tr(e,yt,sn);break;case 5:tr(e,yt,sn);break;default:throw Error(V(329))}}}return St(e,Ue()),e.callbackNode===n?sh.bind(null,e):null}function ia(e,t){var n=Li;return e.current.memoizedState.isDehydrated&&(lr(e,t).flags|=256),e=bs(e,t),e!==2&&(t=yt,yt=n,t!==null&&oa(t)),e}function oa(e){yt===null?yt=e:yt.push.apply(yt,e)}function dv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!$t(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Qa,t&=~Qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function $f(e){if(we&6)throw Error(V(327));Wr();var t=vs(e,0);if(!(t&1))return St(e,Ue()),null;var n=bs(e,t);if(e.tag!==0&&n===2){var r=Ou(e);r!==0&&(t=r,n=ia(e,r))}if(n===1)throw n=to,lr(e,0),jn(e,t),St(e,Ue()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,yt,sn),St(e,Ue()),null}function Ga(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Jr=Ue()+500,Vs&&Vn())}}function pr(e){Rn!==null&&Rn.tag===0&&!(we&6)&&Wr();var t=we;we|=1;var n=bt.transition,r=Pe;try{if(bt.transition=null,Pe=1,e)return e()}finally{Pe=r,bt.transition=n,we=t,!(we&6)&&Vn()}}function Xa(){_t=Br.current,Oe(Br)}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Uy(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Ra(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xs();break;case 3:Xr(),Oe(gt),Oe(at),Ba();break;case 5:za(r);break;case 4:Xr();break;case 13:Oe(Me);break;case 19:Oe(Me);break;case 10:ba(r.type._context);break;case 22:case 23:Xa()}n=n.return}if(et=e,qe=e=zn(e.current,null),rt=_t=t,Ge=0,to=null,Qa=Qs=dr=0,yt=Li=null,or!==null){for(t=0;t<or.length;t++)if(n=or[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=o,r.next=a}n.pending=r}or=null}return e}function lh(e,t){do{var n=qe;try{if(Ma(),ss.current=Rs,Os){for(var r=be.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Os=!1}if(fr=0,Je=Ye=be=null,bi=!1,Zi=0,qa.current=null,n===null||n.return===null){Ge=1,to=t,qe=null;break}e:{var s=e,a=n.return,d=n,h=t;if(t=rt,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var v=h,C=d,O=C.tag;if(!(C.mode&1)&&(O===0||O===11||O===15)){var I=C.alternate;I?(C.updateQueue=I.updateQueue,C.memoizedState=I.memoizedState,C.lanes=I.lanes):(C.updateQueue=null,C.memoizedState=null)}var L=If(a);if(L!==null){L.flags&=-257,Af(L,a,d,s,t),L.mode&1&&Rf(s,v,t),t=L,h=v;var D=t.updateQueue;if(D===null){var B=new Set;B.add(h),t.updateQueue=B}else D.add(h);break e}else{if(!(t&1)){Rf(s,v,t),Za();break e}h=Error(V(426))}}else if(Ie&&d.mode&1){var G=If(a);if(G!==null){!(G.flags&65536)&&(G.flags|=256),Af(G,a,d,s,t),Ia(Zr(h,d));break e}}s=h=Zr(h,d),Ge!==4&&(Ge=2),Li===null?Li=[s]:Li.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var j=Vp(s,h,t);Pf(s,j);break e;case 1:d=h;var g=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ln===null||!Ln.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var F=$p(s,d,t);Pf(s,F);break e}}s=s.return}while(s!==null)}ch(n)}catch(Z){t=Z,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function uh(){var e=Is.current;return Is.current=Rs,e===null?Rs:e}function Za(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||!(dr&268435455)&&!(Qs&268435455)||jn(et,rt)}function bs(e,t){var n=we;we|=2;var r=uh();(et!==e||rt!==t)&&(sn=null,lr(e,t));do try{pv();break}catch(o){lh(e,o)}while(!0);if(Ma(),we=n,Is.current=r,qe!==null)throw Error(V(261));return et=null,rt=0,Ge}function pv(){for(;qe!==null;)ah(qe)}function hv(){for(;qe!==null&&!zm();)ah(qe)}function ah(e){var t=dh(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?ch(e):qe=t,qa.current=null}function ch(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lv(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,qe=null;return}}else if(n=sv(n,t,_t),n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ge===0&&(Ge=5)}function tr(e,t,n){var r=Pe,o=bt.transition;try{bt.transition=null,Pe=1,mv(e,t,n,r)}finally{bt.transition=o,Pe=r}return null}function mv(e,t,n,r){do Wr();while(Rn!==null);if(we&6)throw Error(V(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ym(e,s),e===et&&(qe=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xo||(Xo=!0,ph(ys,function(){return Wr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bt.transition,bt.transition=null;var a=Pe;Pe=1;var d=we;we|=4,qa.current=null,av(e,n),ih(n,e),by(Du),gs=!!bu,Du=bu=null,e.current=n,cv(n),Bm(),we=d,Pe=a,bt.transition=s}else e.current=n;if(Xo&&(Xo=!1,Rn=e,Ms=o),s=e.pendingLanes,s===0&&(Ln=null),Hm(n.stateNode),St(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(As)throw As=!1,e=na,na=null,e;return Ms&1&&e.tag!==0&&Wr(),s=e.pendingLanes,s&1?e===ra?Fi++:(Fi=0,ra=e):Fi=0,Vn(),null}function Wr(){if(Rn!==null){var e=Vd(Ms),t=bt.transition,n=Pe;try{if(bt.transition=null,Pe=16>e?16:e,Rn===null)var r=!1;else{if(e=Rn,Rn=null,Ms=0,we&6)throw Error(V(331));var o=we;for(we|=4,oe=e.current;oe!==null;){var s=oe,a=s.child;if(oe.flags&16){var d=s.deletions;if(d!==null){for(var h=0;h<d.length;h++){var v=d[h];for(oe=v;oe!==null;){var C=oe;switch(C.tag){case 0:case 11:case 15:Di(8,C,s)}var O=C.child;if(O!==null)O.return=C,oe=O;else for(;oe!==null;){C=oe;var I=C.sibling,L=C.return;if(th(C),C===v){oe=null;break}if(I!==null){I.return=L,oe=I;break}oe=L}}}var D=s.alternate;if(D!==null){var B=D.child;if(B!==null){D.child=null;do{var G=B.sibling;B.sibling=null,B=G}while(B!==null)}}oe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,oe=a;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Di(9,s,s.return)}var j=s.sibling;if(j!==null){j.return=s.return,oe=j;break e}oe=s.return}}var g=e.current;for(oe=g;oe!==null;){a=oe;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,oe=k;else e:for(a=g;oe!==null;){if(d=oe,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:qs(9,d)}}catch(Z){ze(d,d.return,Z)}if(d===a){oe=null;break e}var F=d.sibling;if(F!==null){F.return=d.return,oe=F;break e}oe=d.return}}if(we=o,Vn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(zs,e)}catch{}r=!0}return r}finally{Pe=n,bt.transition=t}}return!1}function Wf(e,t,n){t=Zr(n,t),t=Vp(e,t,1),e=Dn(e,t,1),t=dt(),e!==null&&(ro(e,1,t),St(e,t))}function ze(e,t,n){if(e.tag===3)Wf(e,e,n);else for(;t!==null;){if(t.tag===3){Wf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){e=Zr(n,e),e=$p(t,e,1),t=Dn(t,e,1),e=dt(),t!==null&&(ro(t,1,e),St(t,e));break}}t=t.return}}function yv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(rt&n)===n&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>Ue()-Ya?lr(e,0):Qa|=n),St(e,t)}function fh(e,t){t===0&&(e.mode&1?(t=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):t=1);var n=dt();e=hn(e,t),e!==null&&(ro(e,t,n),St(e,n))}function vv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fh(e,n)}function gv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),fh(e,n)}var dh;dh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,ov(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Ie&&t.flags&1048576&&yp(t,Ps,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;us(e,t),e=t.pendingProps;var o=Qr(t,at.current);$r(t,n),o=Ua(null,t,r,e,o,n);var s=Ha();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(s=!0,_s(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,La(t),o.updater=Ws,t.stateNode=o,o._reactInternals=t,$u(t,r,e,n),t=Qu(null,t,r,!0,s,n)):(t.tag=0,Ie&&s&&Oa(t),ft(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(us(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Sv(r),e=Bt(r,e),o){case 0:t=qu(null,t,r,e,n);break e;case 1:t=Df(null,t,r,e,n);break e;case 11:t=Mf(null,t,r,e,n);break e;case 14:t=bf(null,t,r,Bt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bt(r,o),qu(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bt(r,o),Df(e,t,r,o,n);case 3:e:{if(Yp(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,o=s.element,xp(e,t),Ts(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Zr(Error(V(423)),t),t=Lf(e,t,r,n,o);break e}else if(r!==o){o=Zr(Error(V(424)),t),t=Lf(e,t,r,n,o);break e}else for(Et=bn(t.stateNode.containerInfo.firstChild),Pt=t,Ie=!0,Ut=null,n=Sp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===o){t=mn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return _p(t),e===null&&Uu(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,Lu(r,o)?a=null:s!==null&&Lu(r,s)&&(t.flags|=32),Qp(e,t),ft(e,t,a,n),t.child;case 6:return e===null&&Uu(t),null;case 13:return Gp(e,t,n);case 4:return Fa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gr(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bt(r,o),Mf(e,t,r,o,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Te(Cs,r._currentValue),r._currentValue=a,s!==null)if($t(s.value,a)){if(s.children===o.children&&!gt.current){t=mn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var d=s.dependencies;if(d!==null){a=s.child;for(var h=d.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=fn(-1,n&-n),h.tag=2;var v=s.updateQueue;if(v!==null){v=v.shared;var C=v.pending;C===null?h.next=h:(h.next=C.next,C.next=h),v.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),Hu(s.return,n,t),d.lanes|=n;break}h=h.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Hu(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ft(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,$r(t,n),o=Dt(o),r=r(o),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,o=Bt(r,t.pendingProps),o=Bt(r.type,o),bf(e,t,r,o,n);case 15:return Wp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bt(r,o),us(e,t),t.tag=1,wt(r)?(e=!0,_s(t)):e=!1,$r(t,n),Hp(t,r,o),$u(t,r,o,n),Qu(null,t,r,!0,e,n);case 19:return Xp(e,t,n);case 22:return qp(e,t,n)}throw Error(V(156,t.tag))};function ph(e,t){return Bd(e,t)}function wv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new wv(e,t,n,r)}function Ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sv(e){if(typeof e=="function")return Ja(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ga)return 11;if(e===wa)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fs(e,t,n,r,o,s){var a=2;if(r=e,typeof e=="function")Ja(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Or:return ur(n.children,o,s,t);case va:a=8,o|=8;break;case mu:return e=Mt(12,n,t,o|2),e.elementType=mu,e.lanes=s,e;case yu:return e=Mt(13,n,t,o),e.elementType=yu,e.lanes=s,e;case vu:return e=Mt(19,n,t,o),e.elementType=vu,e.lanes=s,e;case _d:return Ys(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kd:a=10;break e;case xd:a=9;break e;case ga:a=11;break e;case wa:a=14;break e;case Cn:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Mt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function ur(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Ys(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=_d,e.lanes=n,e.stateNode={isHidden:!1},e}function au(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function cu(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ec(e,t,n,r,o,s,a,d,h){return e=new kv(e,t,n,d,h),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(s),e}function xv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hh(e){if(!e)return Kn;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(wt(n))return hp(e,n,t)}return t}function mh(e,t,n,r,o,s,a,d,h){return e=ec(n,r,!0,e,o,s,a,d,h),e.context=hh(null),n=e.current,r=dt(),o=Fn(n),s=fn(r,o),s.callback=t??null,Dn(n,s,o),e.current.lanes=o,ro(e,o,r),St(e,r),e}function Gs(e,t,n,r){var o=t.current,s=dt(),a=Fn(o);return n=hh(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dn(o,t,a),e!==null&&(Vt(e,o,a,s),os(e,o,a)),a}function Ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tc(e,t){qf(e,t),(e=e.alternate)&&qf(e,t)}function _v(){return null}var yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function nc(e){this._internalRoot=e}Xs.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Gs(e,t,null,null)};Xs.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){Gs(null,e,null,null)}),t[pn]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tn.length&&t!==0&&t<Tn[n].priority;n++);Tn.splice(n,0,e),n===0&&Yd(e)}};function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qf(){}function Ev(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var v=Ds(a);s.call(v)}}var a=mh(t,r,e,0,null,!1,!1,"",Qf);return e._reactRootContainer=a,e[pn]=a.current,qi(e.nodeType===8?e.parentNode:e),pr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var d=r;r=function(){var v=Ds(h);d.call(v)}}var h=ec(e,0,!1,null,null,!1,!1,"",Qf);return e._reactRootContainer=h,e[pn]=h.current,qi(e.nodeType===8?e.parentNode:e),pr(function(){Gs(t,h,n,r)}),h}function Js(e,t,n,r,o){var s=n._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var d=o;o=function(){var h=Ds(a);d.call(h)}}Gs(t,a,e,o)}else a=Ev(n,t,e,o,r);return Ds(a)}$d=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ti(t.pendingLanes);n!==0&&(xa(t,n|1),St(t,Ue()),!(we&6)&&(Jr=Ue()+500,Vn()))}break;case 13:pr(function(){var r=hn(e,1);if(r!==null){var o=dt();Vt(r,e,1,o)}}),tc(e,1)}};_a=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=dt();Vt(t,e,134217728,n)}tc(e,134217728)}};Wd=function(e){if(e.tag===13){var t=Fn(e),n=hn(e,t);if(n!==null){var r=dt();Vt(n,e,t,r)}tc(e,t)}};qd=function(){return Pe};Qd=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Nu=function(e,t,n){switch(t){case"input":if(Su(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Hs(r);if(!o)throw Error(V(90));Pd(r),Su(r,o)}}}break;case"textarea":Nd(e,n);break;case"select":t=n.value,t!=null&&Kr(e,!!n.multiple,t,!1)}};Md=Ga;bd=pr;var Pv={usingClientEntryPoint:!1,Events:[oo,Mr,Hs,Id,Ad,Ga]},_i={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cv={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fd(e),e===null?null:e.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||_v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{zs=Zo.inject(Cv),Jt=Zo}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pv;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(t))throw Error(V(200));return xv(e,t,null,n)};Nt.createRoot=function(e,t){if(!rc(e))throw Error(V(299));var n=!1,r="",o=yh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ec(e,1,!1,null,null,n,!1,r,o),e[pn]=t.current,qi(e.nodeType===8?e.parentNode:e),new nc(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Fd(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return pr(e)};Nt.hydrate=function(e,t,n){if(!Zs(t))throw Error(V(200));return Js(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!rc(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",a=yh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=mh(t,null,e,1,n??null,o,!1,s,a),e[pn]=t.current,qi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xs(t)};Nt.render=function(e,t,n){if(!Zs(t))throw Error(V(200));return Js(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Zs(e))throw Error(V(40));return e._reactRootContainer?(pr(function(){Js(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};Nt.unstable_batchedUpdates=Ga;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zs(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Js(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vh)}catch(e){console.error(e)}}vh(),vd.exports=Nt;var Nv=vd.exports,Yf=Nv;pu.createRoot=Yf.createRoot,pu.hydrateRoot=Yf.hydrateRoot;const Tv="modulepreload",jv=function(e,t){return new URL(e,t).href},Gf={},gh=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(n.map(v=>{if(v=jv(v,r),v in Gf)return;Gf[v]=!0;const C=v.endsWith(".css"),O=C?'[rel="stylesheet"]':"";if(!!r)for(let D=a.length-1;D>=0;D--){const B=a[D];if(B.href===v&&(!C||B.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${O}`))return;const L=document.createElement("link");if(L.rel=C?"stylesheet":Tv,C||(L.as="script"),L.crossOrigin="",L.href=v,h&&L.setAttribute("nonce",h),document.head.appendChild(L),C)return new Promise((D,B)=>{L.addEventListener("load",D),L.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${v}`)))})}))}function s(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return o.then(a=>{for(const d of a||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})};function Ov(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:s,onRegisterError:a}=e;let d,h;const v=async(O=!0)=>{await h};async function C(){if("serviceWorker"in navigator){if(d=await gh(async()=>{const{Workbox:O}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:O}},[],import.meta.url).then(({Workbox:O})=>new O("./sw.js",{scope:"./",type:"classic"})).catch(O=>{a==null||a(O)}),!d)return;d.addEventListener("activated",O=>{(O.isUpdate||O.isExternal)&&window.location.reload()}),d.addEventListener("installed",O=>{O.isUpdate||r==null||r()}),d.register({immediate:t}).then(O=>{s?s("./sw.js",O):o==null||o(O)}).catch(O=>{a==null||a(O)})}}return h=C(),v}function Rv({value:e,onChange:t}){const n=r=>{t({...e,[r]:!e[r]})};return w.jsxs("div",{className:"consent-checklist",children:[w.jsxs("label",{className:"consent-row",children:[w.jsx("input",{type:"checkbox",checked:e.privacy,onChange:()=>n("privacy")}),w.jsx("span",{children:"I understand no audio or transcripts are stored. Data stays on-device."})]}),w.jsxs("label",{className:"consent-row",children:[w.jsx("input",{type:"checkbox",checked:e.foreground,onChange:()=>n("foreground")}),w.jsx("span",{children:"Sessions require the screen on with the app open."})]}),w.jsxs("label",{className:"consent-row",children:[w.jsx("input",{type:"checkbox",checked:e.permissions,onChange:()=>n("permissions")}),w.jsx("span",{children:"Microphone permission is requested only at session start."})]}),w.jsxs("label",{className:"consent-row",children:[w.jsx("input",{type:"checkbox",checked:e.speechOptIn,onChange:()=>n("speechOptIn")}),w.jsx("span",{children:"Speech processing is off by default and can be enabled later."})]})]})}const Nr=[{eyebrow:"Privacy-first",title:"On-device, offline, and ephemeral",body:"Your session data stays on this device. Audio and transcripts are never stored."},{eyebrow:"Foreground only",title:"Screen on, app open",body:"The session runs only while the app is in the foreground. If the OS suspends it, the session ends."},{eyebrow:"No interpretation",title:"Numbers and timestamps only",body:"This is an instrument: timelines, counts, and durations. No advice, no judgment."}];function Iv({onFinish:e}){const[t,n]=$.useState(0),[r,o]=$.useState({privacy:!1,foreground:!1,permissions:!1,speechOptIn:!1}),s=t===Nr.length,a=$.useMemo(()=>s?r.privacy&&r.foreground&&r.permissions&&r.speechOptIn:!0,[s,r]),d=()=>{if(s){a&&e();return}n(v=>Math.min(v+1,Nr.length))},h=()=>n(v=>Math.max(v-1,0));return w.jsxs("div",{className:"onboarding-shell",children:[w.jsxs("div",{className:"onboarding-header",children:[w.jsx("div",{className:"logo",children:"SexMetrics"}),w.jsx("div",{className:"chip",children:"Private PWA"})]}),w.jsx("div",{className:"onboarding-body",children:s?w.jsxs("div",{className:"slide-card",children:[w.jsx("div",{className:"slide-eyebrow",children:"Consent"}),w.jsx("h1",{children:"Confirm before first use"}),w.jsx("p",{children:"You are in control. Review these constraints and acknowledgements before starting a session."}),w.jsx(Rv,{value:r,onChange:o})]}):w.jsxs("div",{className:"slide-card",children:[w.jsx("div",{className:"slide-eyebrow",children:Nr[t].eyebrow}),w.jsx("h1",{children:Nr[t].title}),w.jsx("p",{children:Nr[t].body})]})}),w.jsxs("div",{className:"onboarding-footer",children:[w.jsx("div",{className:"dots",children:Array.from({length:Nr.length+1}).map((v,C)=>w.jsx("button",{className:`dot ${C===t?"active":""}`,"aria-label":`Go to step ${C+1}`,onClick:()=>n(C)},C))}),w.jsxs("div",{className:"actions",children:[w.jsx("button",{className:"ghost",onClick:h,disabled:t===0,children:"Back"}),w.jsx("button",{className:"primary",onClick:d,disabled:!a,children:s?"Finish":"Next"})]})]})]})}function Av({micState:e,micActive:t,status:n,elapsed:r,onStart:o,onPause:s,onResume:a,onEnd:d,error:h,events:v,rms:C,silenceActive:O,rhythmStrength:I,asrReady:L,asrError:D,modelCached:B,modelDownloading:G,modelProgress:j,modelSizeBytes:g,modelError:k,onDownloadModel:F,onClearModel:Z,modelId:X,modelOptions:q,onModelChange:ne,crossOriginIsolated:_e,sharedArrayBuffer:de,speechEnabled:He,onToggleSpeech:Le,motionEnabled:Ce,motionSupported:tn,motionPermission:Ft,motionActive:Ve,onToggleMotion:Wt,secureContext:J,cacheAvailable:ue,onDeleteSession:ae,onExportSession:ge,sessionLabel:ye,sessionRating:ct,onSessionLabelChange:$e,onSessionRatingChange:kt}){return w.jsxs("section",{className:"card",children:[w.jsx("h1",{children:"Session controls"}),w.jsx("p",{children:"Microphone access is requested only when you start a session."}),w.jsxs("div",{className:"session-controls",children:[w.jsxs("div",{className:"session-meta",children:[w.jsxs("div",{children:["Status: ",w.jsx("strong",{children:n})]}),w.jsxs("div",{children:["Elapsed: ",w.jsx("strong",{children:r})]}),w.jsxs("div",{children:["Mic status: ",w.jsx("strong",{children:e})]}),w.jsxs("div",{children:["Mic capture: ",w.jsx("strong",{children:t?"on":"off"})]}),w.jsxs("div",{children:["Intensity (RMS): ",w.jsx("strong",{children:(C==null?void 0:C.toFixed(4))??"0.0000"})]}),w.jsxs("div",{children:["Silence: ",w.jsx("strong",{children:O?"yes":"no"})]}),w.jsxs("div",{children:["Rhythm strength: ",w.jsx("strong",{children:(I??0).toFixed(2)})]}),w.jsxs("div",{className:"toggle-row",children:["Speech recognition:"," ",w.jsx("strong",{children:He?"on":"off"}),w.jsx("button",{className:"ghost",onClick:Le,children:He?"Disable":"Enable"})]}),w.jsxs("div",{className:"toggle-row",children:["Motion capture:"," ",w.jsxs("strong",{children:[Ce?"on":"off",tn===!1?" (unsupported)":""]}),w.jsx("button",{className:"ghost",onClick:Wt,disabled:tn===!1,children:Ce?"Disable":"Enable"})]}),w.jsxs("div",{children:["Motion permission: ",w.jsx("strong",{children:Ft??"unknown"})]}),w.jsxs("div",{children:["Motion active: ",w.jsx("strong",{children:Ve?"yes":"no"})]}),w.jsxs("div",{children:["ASR ready: ",w.jsx("strong",{children:L?"yes":"no"})]}),w.jsxs("div",{children:["Model cached: ",w.jsx("strong",{children:B?"yes":"no"})]}),w.jsxs("div",{children:["COI: ",w.jsx("strong",{children:_e?"yes":"no"})]}),w.jsxs("div",{children:["SharedArrayBuffer:"," ",w.jsx("strong",{children:de?"yes":"no"})]}),w.jsxs("div",{children:["Secure context: ",w.jsx("strong",{children:J?"yes":"no"})]}),w.jsxs("div",{children:["Cache API: ",w.jsx("strong",{children:ue?"yes":"no"})]})]}),w.jsxs("div",{className:"session-actions",children:[n==="idle"||n==="ended"?w.jsx("button",{className:"primary",onClick:o,children:"Start session"}):null,n==="active"?w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"ghost",onClick:s,children:"Pause"}),w.jsx("button",{className:"primary",onClick:d,children:"End"})]}):null,n==="paused"?w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"ghost",onClick:a,children:"Resume"}),w.jsx("button",{className:"primary",onClick:d,children:"End"})]}):null,n==="ended"?w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"ghost",onClick:ge,children:"Export session"}),w.jsx("button",{className:"danger",onClick:ae,children:"Delete session"})]}):null]})]}),h?w.jsx("div",{className:"permission-error",children:h}):null,D?w.jsx("div",{className:"permission-error",children:D}):null,_e?null:w.jsx("div",{className:"permission-error",children:"ASR requires cross-origin isolation. Reload after service worker updates, or restart the dev server."}),B?null:w.jsxs("div",{className:"model-download",children:[q!=null&&q.length?w.jsx("select",{className:"model-select",value:X,onChange:xe=>ne==null?void 0:ne(xe.target.value),disabled:G,children:q.map(xe=>w.jsx("option",{value:xe.id,children:xe.label},xe.id))}):null,w.jsx("button",{className:"ghost",onClick:F,disabled:G,children:G?"Downloading model...":"Download Whisper model"}),g?w.jsxs("div",{className:"model-meta",children:[(g/(1024*1024)).toFixed(1)," MB",g>50*1024*1024?"  Wi-Fi recommended":""]}):null,G?w.jsxs("div",{className:"model-progress",children:[Math.round((j??0)*100),"%"]}):null]}),B?w.jsxs("div",{className:"model-download",children:[w.jsx("div",{className:"model-meta",children:"Model cached for offline use."}),w.jsx("button",{className:"ghost",onClick:Z,children:"Remove cached model"})]}):null,k?w.jsx("div",{className:"permission-error",children:k}):null,n==="ended"?w.jsxs("div",{className:"session-review",children:[w.jsx("div",{className:"detail-title",children:"Session reflection"}),w.jsxs("label",{className:"review-row",children:["Label",w.jsx("input",{type:"text",value:ye??"",placeholder:"Optional label (e.g. relaxed, energetic)",onChange:xe=>$e==null?void 0:$e(xe.target.value)})]}),w.jsxs("label",{className:"review-row",children:["Rating (1-5)",w.jsx("input",{type:"number",min:1,max:5,value:ct??"",onChange:xe=>{const Qe=xe.target.value;kt==null||kt(Qe===""?void 0:Number(Qe))}})]})]}):null,v.length?w.jsxs("div",{className:"event-log",children:[w.jsx("div",{className:"event-title",children:"Events"}),w.jsx("ul",{children:v.map(xe=>w.jsxs("li",{children:[w.jsx("span",{className:"event-type",children:xe.type}),w.jsxs("span",{className:"event-time",children:[xe.t.toFixed(1),"s"]}),typeof xe.confidence=="number"?w.jsxs("span",{className:"event-confidence",children:[Math.round(xe.confidence*100),"%"]}):null]},xe.id))})]}):null]})}function Mv(){const[e,t]=$.useState({mic:"unknown"}),n=$.useCallback(async()=>{var r;try{return(r=navigator.mediaDevices)!=null&&r.getUserMedia?((await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(s=>s.stop()),t({mic:"granted"}),"granted"):(t({mic:"denied",error:"Microphone API unavailable. Use HTTPS or install the PWA to enable mic access."}),"denied")}catch(o){const s=o instanceof Error?o.message:"Microphone permission denied.";return t({mic:"denied",error:s}),"denied"}},[]);return{status:e,requestMic:n}}const lo=1;var wh={exports:{}};(function(e,t){((n,r)=>{e.exports=r()})(zc,function(){var n=function(i,l){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(u,c){u.__proto__=c}:function(u,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f])}))(i,l)},r=function(){return(r=Object.assign||function(i){for(var l,u=1,c=arguments.length;u<c;u++)for(var f in l=arguments[u])Object.prototype.hasOwnProperty.call(l,f)&&(i[f]=l[f]);return i}).apply(this,arguments)};function o(i,l,u){for(var c,f=0,p=l.length;f<p;f++)!c&&f in l||((c=c||Array.prototype.slice.call(l,0,f))[f]=l[f]);return i.concat(c||Array.prototype.slice.call(l))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:zc,a=Object.keys,d=Array.isArray;function h(i,l){return typeof l=="object"&&a(l).forEach(function(u){i[u]=l[u]}),i}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var v=Object.getPrototypeOf,C={}.hasOwnProperty;function O(i,l){return C.call(i,l)}function I(i,l){typeof l=="function"&&(l=l(v(i))),(typeof Reflect>"u"?a:Reflect.ownKeys)(l).forEach(function(u){D(i,u,l[u])})}var L=Object.defineProperty;function D(i,l,u,c){L(i,l,h(u&&O(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},c))}function B(i){return{from:function(l){return i.prototype=Object.create(l.prototype),D(i.prototype,"constructor",i),{extend:I.bind(null,i.prototype)}}}}var G=Object.getOwnPropertyDescriptor,j=[].slice;function g(i,l,u){return j.call(i,l,u)}function k(i,l){return l(i)}function F(i){if(!i)throw new Error("Assertion Failed")}function Z(i){s.setImmediate?setImmediate(i):setTimeout(i,0)}function X(i,l){if(typeof l=="string"&&O(i,l))return i[l];if(!l)return i;if(typeof l!="string"){for(var u=[],c=0,f=l.length;c<f;++c){var p=X(i,l[c]);u.push(p)}return u}var m,y=l.indexOf(".");return y===-1||(m=i[l.substr(0,y)])==null?void 0:X(m,l.substr(y+1))}function q(i,l,u){if(i&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof l!="string"&&"length"in l){F(typeof u!="string"&&"length"in u);for(var c=0,f=l.length;c<f;++c)q(i,l[c],u[c])}else{var p,m,y=l.indexOf(".");y!==-1?(p=l.substr(0,y),(y=l.substr(y+1))===""?u===void 0?d(i)&&!isNaN(parseInt(p))?i.splice(p,1):delete i[p]:i[p]=u:q(m=(m=i[p])&&O(i,p)?m:i[p]={},y,u)):u===void 0?d(i)&&!isNaN(parseInt(l))?i.splice(l,1):delete i[l]:i[l]=u}}function ne(i){var l,u={};for(l in i)O(i,l)&&(u[l]=i[l]);return u}var _e=[].concat;function de(i){return _e.apply([],i)}var ye="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(de([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(l){return l+i+"Array"})}))).filter(function(i){return s[i]}),He=new Set(ye.map(function(i){return s[i]})),Le=null;function Ce(i){return Le=new WeakMap,i=function l(u){if(!u||typeof u!="object")return u;var c=Le.get(u);if(c)return c;if(d(u)){c=[],Le.set(u,c);for(var f=0,p=u.length;f<p;++f)c.push(l(u[f]))}else if(He.has(u.constructor))c=u;else{var m,y=v(u);for(m in c=y===Object.prototype?{}:Object.create(y),Le.set(u,c),u)O(u,m)&&(c[m]=l(u[m]))}return c}(i),Le=null,i}var tn={}.toString;function Ft(i){return tn.call(i).slice(8,-1)}var Ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Wt=typeof Ve=="symbol"?function(i){var l;return i!=null&&(l=i[Ve])&&l.apply(i)}:function(){return null};function J(i,l){l=i.indexOf(l),0<=l&&i.splice(l,1)}var ue={};function ae(i){var l,u,c,f;if(arguments.length===1){if(d(i))return i.slice();if(this===ue&&typeof i=="string")return[i];if(f=Wt(i))for(u=[];!(c=f.next()).done;)u.push(c.value);else{if(i==null)return[i];if(typeof(l=i.length)!="number")return[i];for(u=new Array(l);l--;)u[l]=i[l]}}else for(l=arguments.length,u=new Array(l);l--;)u[l]=arguments[l];return u}var ge=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ye=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],fe=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ye),ct={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $e(i,l){this.name=i,this.message=l}function kt(i,l){return i+". Errors: "+Object.keys(l).map(function(u){return l[u].toString()}).filter(function(u,c,f){return f.indexOf(u)===c}).join(`
`)}function xe(i,l,u,c){this.failures=l,this.failedKeys=c,this.successCount=u,this.message=kt(i,l)}function Qe(i,l){this.name="BulkError",this.failures=Object.keys(l).map(function(u){return l[u]}),this.failuresByPos=l,this.message=kt(i,this.failures)}B($e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(xe).from($e),B(Qe).from($e);var ri=fe.reduce(function(i,l){return i[l]=l+"Error",i},{}),nn=$e,le=fe.reduce(function(i,l){var u=l+"Error";function c(f,p){this.name=u,f?typeof f=="string"?(this.message="".concat(f).concat(p?`
 `+p:""),this.inner=p||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=ct[l]||u,this.inner=null)}return B(c).from(nn),i[l]=c,i},{}),ii=(le.Syntax=SyntaxError,le.Type=TypeError,le.Range=RangeError,ye.reduce(function(i,l){return i[l+"Error"]=le[l],i},{}));ye=fe.reduce(function(i,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(i[l+"Error"]=le[l]),i},{});function Ee(){}function vn(i){return i}function tl(i,l){return i==null||i===vn?l:function(u){return l(i(u))}}function qt(i,l){return function(){i.apply(this,arguments),l.apply(this,arguments)}}function nl(i,l){return i===Ee?l:function(){var u=i.apply(this,arguments),c=(u!==void 0&&(arguments[0]=u),this.onsuccess),f=this.onerror,p=(this.onsuccess=null,this.onerror=null,l.apply(this,arguments));return c&&(this.onsuccess=this.onsuccess?qt(c,this.onsuccess):c),f&&(this.onerror=this.onerror?qt(f,this.onerror):f),p!==void 0?p:u}}function rl(i,l){return i===Ee?l:function(){i.apply(this,arguments);var u=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?qt(u,this.onsuccess):u),c&&(this.onerror=this.onerror?qt(c,this.onerror):c)}}function il(i,l){return i===Ee?l:function(f){var c=i.apply(this,arguments),f=(h(f,c),this.onsuccess),p=this.onerror,m=(this.onsuccess=null,this.onerror=null,l.apply(this,arguments));return f&&(this.onsuccess=this.onsuccess?qt(f,this.onsuccess):f),p&&(this.onerror=this.onerror?qt(p,this.onerror):p),c===void 0?m===void 0?void 0:m:h(c,m)}}function ol(i,l){return i===Ee?l:function(){return l.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function oi(i,l){return i===Ee?l:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var c=this,f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];return u.then(function(){return l.apply(c,p)})}return l.apply(this,arguments)}}ye.ModifyError=xe,ye.DexieError=$e,ye.BulkError=Qe;var jt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function uo(i){jt=i}var $n={},ao=100,U=typeof Promise>"u"?[]:(fe=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[U=crypto.subtle.digest("SHA-512",new Uint8Array([0])),v(U),fe]:[fe,v(fe),fe]),fe=U[0],Er=U[1],Er=Er&&Er.then,tt=fe&&fe.constructor,mt=!!U[2],Ot=function(i,l){si.push([i,l]),co&&(queueMicrotask(Rh),co=!1)},sl=!0,co=!0,Wn=[],fo=[],ll=vn,gn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},se=gn,si=[],qn=0,po=[];function ee(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=se;if(typeof i!="function"){if(i!==$n)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&al(this,this._value)}else this._state=null,this._value=null,++l.ref,function u(c,f){try{f(function(p){if(c._state===null){if(p===c)throw new TypeError("A promise cannot be resolved with itself.");var m=c._lib&&vr();p&&typeof p.then=="function"?u(c,function(y,_){p instanceof ee?p._then(y,_):p.then(y,_)}):(c._state=!0,c._value=p,lc(c)),m&&gr()}},al.bind(null,c))}catch(p){al(c,p)}}(this,i)}var ul={get:function(){var i=se,l=vo;function u(c,f){var p=this,m=!i.global&&(i!==se||l!==vo),y=m&&!Sn(),_=new ee(function(A,E){cl(p,new sc(ac(c,i,m,y),ac(f,i,m,y),A,E,i))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return u.prototype=$n,u},set:function(i){D(this,"then",i&&i.prototype===$n?ul:{get:function(){return i},set:ul.set})}};function sc(i,l,u,c,f){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof l=="function"?l:null,this.resolve=u,this.reject=c,this.psd=f}function al(i,l){var u,c;fo.push(l),i._state===null&&(u=i._lib&&vr(),l=ll(l),i._state=!1,i._value=l,c=i,Wn.some(function(f){return f._value===c._value})||Wn.push(c),lc(i),u)&&gr()}function lc(i){var l=i._listeners;i._listeners=[];for(var u=0,c=l.length;u<c;++u)cl(i,l[u]);var f=i._PSD;--f.ref||f.finalize(),qn===0&&(++qn,Ot(function(){--qn==0&&fl()},[]))}function cl(i,l){if(i._state===null)i._listeners.push(l);else{var u=i._state?l.onFulfilled:l.onRejected;if(u===null)return(i._state?l.resolve:l.reject)(i._value);++l.psd.ref,++qn,Ot(Oh,[u,i,l])}}function Oh(i,l,u){try{var c,f=l._value;!l._state&&fo.length&&(fo=[]),c=jt&&l._consoleTask?l._consoleTask.run(function(){return i(f)}):i(f),l._state||fo.indexOf(f)!==-1||(p=>{for(var m=Wn.length;m;)if(Wn[--m]._value===p._value)return Wn.splice(m,1)})(l),u.resolve(c)}catch(p){u.reject(p)}finally{--qn==0&&fl(),--u.psd.ref||u.psd.finalize()}}function Rh(){Qn(gn,function(){vr()&&gr()})}function vr(){var i=sl;return co=sl=!1,i}function gr(){var i,l,u;do for(;0<si.length;)for(i=si,si=[],u=i.length,l=0;l<u;++l){var c=i[l];c[0].apply(null,c[1])}while(0<si.length);co=sl=!0}function fl(){for(var i=Wn,l=(Wn=[],i.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)}),po.slice(0)),u=l.length;u;)l[--u]()}function ho(i){return new ee($n,!1,i)}function Re(i,l){var u=se;return function(){var c=vr(),f=se;try{return kn(u,!0),i.apply(this,arguments)}catch(p){l&&l(p)}finally{kn(f,!1),c&&gr()}}}I(ee.prototype,{then:ul,_then:function(i,l){cl(this,new sc(null,null,i,l,se))},catch:function(i){var l,u;return arguments.length===1?this.then(null,i):(l=i,u=arguments[1],typeof l=="function"?this.then(null,function(c){return(c instanceof l?u:ho)(c)}):this.then(null,function(c){return(c&&c.name===l?u:ho)(c)}))},finally:function(i){return this.then(function(l){return ee.resolve(i()).then(function(){return l})},function(l){return ee.resolve(i()).then(function(){return ho(l)})})},timeout:function(i,l){var u=this;return i<1/0?new ee(function(c,f){var p=setTimeout(function(){return f(new le.Timeout(l))},i);u.then(c,f).finally(clearTimeout.bind(null,p))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&D(ee.prototype,Symbol.toStringTag,"Dexie.Promise"),gn.env=uc(),I(ee,{all:function(){var i=ae.apply(null,arguments).map(go);return new ee(function(l,u){i.length===0&&l([]);var c=i.length;i.forEach(function(f,p){return ee.resolve(f).then(function(m){i[p]=m,--c||l(i)},u)})})},resolve:function(i){return i instanceof ee?i:i&&typeof i.then=="function"?new ee(function(l,u){i.then(l,u)}):new ee($n,!0,i)},reject:ho,race:function(){var i=ae.apply(null,arguments).map(go);return new ee(function(l,u){i.map(function(c){return ee.resolve(c).then(l,u)})})},PSD:{get:function(){return se},set:function(i){return se=i}},totalEchoes:{get:function(){return vo}},newPSD:wn,usePSD:Qn,scheduler:{get:function(){return Ot},set:function(i){Ot=i}},rejectionMapper:{get:function(){return ll},set:function(i){ll=i}},follow:function(i,l){return new ee(function(u,c){return wn(function(f,p){var m=se;m.unhandleds=[],m.onunhandled=p,m.finalize=qt(function(){var y,_=this;y=function(){_.unhandleds.length===0?f():p(_.unhandleds[0])},po.push(function A(){y(),po.splice(po.indexOf(A),1)}),++qn,Ot(function(){--qn==0&&fl()},[])},m.finalize),i()},l,u,c)})}}),tt&&(tt.allSettled&&D(ee,"allSettled",function(){var i=ae.apply(null,arguments).map(go);return new ee(function(l){i.length===0&&l([]);var u=i.length,c=new Array(u);i.forEach(function(f,p){return ee.resolve(f).then(function(m){return c[p]={status:"fulfilled",value:m}},function(m){return c[p]={status:"rejected",reason:m}}).then(function(){return--u||l(c)})})})}),tt.any&&typeof AggregateError<"u"&&D(ee,"any",function(){var i=ae.apply(null,arguments).map(go);return new ee(function(l,u){i.length===0&&u(new AggregateError([]));var c=i.length,f=new Array(c);i.forEach(function(p,m){return ee.resolve(p).then(function(y){return l(y)},function(y){f[m]=y,--c||u(new AggregateError(f))})})})}),tt.withResolvers)&&(ee.withResolvers=tt.withResolvers);var Xe={awaits:0,echoes:0,id:0},Ih=0,mo=[],yo=0,vo=0,Ah=0;function wn(i,m,u,c){var f=se,p=Object.create(f),m=(p.parent=f,p.ref=0,p.global=!1,p.id=++Ah,gn.env,p.env=mt?{Promise:ee,PromiseProp:{value:ee,configurable:!0,writable:!0},all:ee.all,race:ee.race,allSettled:ee.allSettled,any:ee.any,resolve:ee.resolve,reject:ee.reject}:{},m&&h(p,m),++f.ref,p.finalize=function(){--this.parent.ref||this.parent.finalize()},Qn(p,i,u,c));return p.ref===0&&p.finalize(),m}function wr(){return Xe.id||(Xe.id=++Ih),++Xe.awaits,Xe.echoes+=ao,Xe.id}function Sn(){return!!Xe.awaits&&(--Xe.awaits==0&&(Xe.id=0),Xe.echoes=Xe.awaits*ao,!0)}function go(i){return Xe.echoes&&i&&i.constructor===tt?(wr(),i.then(function(l){return Sn(),l},function(l){return Sn(),Be(l)})):i}function Mh(){var i=mo[mo.length-1];mo.pop(),kn(i,!1)}function kn(i,l){var u,c,f=se;(l?!Xe.echoes||yo++&&i===se:!yo||--yo&&i===se)||queueMicrotask(l?(function(p){++vo,Xe.echoes&&--Xe.echoes!=0||(Xe.echoes=Xe.awaits=Xe.id=0),mo.push(se),kn(p,!0)}).bind(null,i):Mh),i!==se&&(se=i,f===gn&&(gn.env=uc()),mt)&&(u=gn.env.Promise,c=i.env,f.global||i.global)&&(Object.defineProperty(s,"Promise",c.PromiseProp),u.all=c.all,u.race=c.race,u.resolve=c.resolve,u.reject=c.reject,c.allSettled&&(u.allSettled=c.allSettled),c.any)&&(u.any=c.any)}function uc(){var i=s.Promise;return mt?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Qn(i,l,u,c,f){var p=se;try{return kn(i,!0),l(u,c,f)}finally{kn(p,!1)}}function ac(i,l,u,c){return typeof i!="function"?i:function(){var f=se;u&&wr(),kn(l,!0);try{return i.apply(this,arguments)}finally{kn(f,!1),c&&queueMicrotask(Sn)}}}function dl(i){Promise===tt&&Xe.echoes===0?yo===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Er).indexOf("[native code]")===-1&&(wr=Sn=Ee);var Be=ee.reject,Yn="",rn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",cc="String expected.",Sr=[],wo="__dbnames",pl="readonly",hl="readwrite";function Gn(i,l){return i?l?function(){return i.apply(this,arguments)&&l.apply(this,arguments)}:i:l}var fc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function So(i){return typeof i!="string"||/\./.test(i)?function(l){return l}:function(l){return l[i]===void 0&&i in l&&delete(l=Ce(l))[i],l}}function dc(){throw le.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function me(i,l){try{var u=pc(i),c=pc(l);if(u!==c)return u==="Array"?1:c==="Array"?-1:u==="binary"?1:c==="binary"?-1:u==="string"?1:c==="string"?-1:u==="Date"?1:c!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return l<i?1:i<l?-1:0;case"binary":for(var f=hc(i),p=hc(l),m=f.length,y=p.length,_=m<y?m:y,A=0;A<_;++A)if(f[A]!==p[A])return f[A]<p[A]?-1:1;return m===y?0:m<y?-1:1;case"Array":for(var E=i,S=l,N=E.length,T=S.length,P=N<T?N:T,x=0;x<P;++x){var M=me(E[x],S[x]);if(M!==0)return M}return N===T?0:N<T?-1:1}}catch{}return NaN}function pc(i){var l=typeof i;return l=="object"&&(ArrayBuffer.isView(i)||(l=Ft(i))==="ArrayBuffer")?"binary":l}function hc(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function ko(i,l,u){var c=i.schema.yProps;return c?(l&&0<u.numFailures&&(l=l.filter(function(f,p){return!u.failures[p]})),Promise.all(c.map(function(f){return f=f.updatesTable,l?i.db.table(f).where("k").anyOf(l).delete():i.db.table(f).clear()})).then(function(){return u})):u}mc.prototype.execute=function(i){var l=this["@@propmod"];if(l.add!==void 0){var u=l.add;if(d(u))return o(o([],d(i)?i:[],!0),u).sort();if(typeof u=="number")return(Number(i)||0)+u;if(typeof u=="bigint")try{return BigInt(i)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(l.remove!==void 0){var c=l.remove;if(d(c))return d(i)?i.filter(function(f){return!c.includes(f)}).sort():[];if(typeof c=="number")return Number(i)-c;if(typeof c=="bigint")try{return BigInt(i)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return u=(u=l.replacePrefix)==null?void 0:u[0],u&&typeof i=="string"&&i.startsWith(u)?l.replacePrefix[1]+i.substring(u.length):i};var li=mc;function mc(i){this["@@propmod"]=i}function yc(i,l){for(var u=a(l),c=u.length,f=!1,p=0;p<c;++p){var m=u[p],y=l[m],_=X(i,m);y instanceof li?(q(i,m,y.execute(_)),f=!0):_!==y&&(q(i,m,y),f=!0)}return f}Ne.prototype._trans=function(i,l,u){var c=this._tx||se.trans,f=this.name,p=jt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function m(A,E,S){if(S.schema[f])return l(S.idbtrans,S);throw new le.NotFound("Table "+f+" not part of transaction")}var y=vr();try{var _=c&&c.db._novip===this.db._novip?c===se.trans?c._promise(i,m,u):wn(function(){return c._promise(i,m,u)},{trans:c,transless:se.transless||se}):function A(E,S,N,T){if(E.idbdb&&(E._state.openComplete||se.letThrough||E._vip)){var P=E._createTransaction(S,N,E._dbSchema);try{P.create(),E._state.PR1398_maxLoop=3}catch(x){return x.name===ri.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return A(E,S,N,T)})):Be(x)}return P._promise(S,function(x,M){return wn(function(){return se.trans=P,T(x,M,P)})}).then(function(x){if(S==="readwrite")try{P.idbtrans.commit()}catch{}return S==="readonly"?x:P._completion.then(function(){return x})})}if(E._state.openComplete)return Be(new le.DatabaseClosed(E._state.dbOpenError));if(!E._state.isBeingOpened){if(!E._state.autoOpen)return Be(new le.DatabaseClosed);E.open().catch(Ee)}return E._state.dbReadyPromise.then(function(){return A(E,S,N,T)})}(this.db,i,[this.name],m);return p&&(_._consoleTask=p,_=_.catch(function(A){return console.trace(A),Be(A)})),_}finally{y&&gr()}},Ne.prototype.get=function(i,l){var u=this;return i&&i.constructor===Object?this.where(i).first(l):i==null?Be(new le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return u.core.get({trans:c,key:i}).then(function(f){return u.hook.reading.fire(f)})}).then(l)},Ne.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(d(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var l=a(i);if(l.length===1)return this.where(l[0]).equals(i[l[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(y){if(y.compound&&l.every(function(A){return 0<=y.keyPath.indexOf(A)})){for(var _=0;_<l.length;++_)if(l.indexOf(y.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(y,_){return y.keyPath.length-_.keyPath.length})[0];if(u&&this.db._maxKey!==Yn)return m=u.keyPath.slice(0,l.length),this.where(m).equals(m.map(function(y){return i[y]}));!u&&jt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var c=this.schema.idxByName;function f(y,_){return me(y,_)===0}var m=l.reduce(function(E,_){var A=E[0],E=E[1],S=c[_],N=i[_];return[A||S,A||!S?Gn(E,S&&S.multi?function(T){return T=X(T,_),d(T)&&T.some(function(P){return f(N,P)})}:function(T){return f(N,X(T,_))}):E]},[null,null]),p=m[0],m=m[1];return p?this.where(p.name).equals(i[p.keyPath]).filter(m):u?this.filter(m):this.where(l).equals("")},Ne.prototype.filter=function(i){return this.toCollection().and(i)},Ne.prototype.count=function(i){return this.toCollection().count(i)},Ne.prototype.offset=function(i){return this.toCollection().offset(i)},Ne.prototype.limit=function(i){return this.toCollection().limit(i)},Ne.prototype.each=function(i){return this.toCollection().each(i)},Ne.prototype.toArray=function(i){return this.toCollection().toArray(i)},Ne.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ne.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,d(i)?"[".concat(i.join("+"),"]"):i))},Ne.prototype.reverse=function(){return this.toCollection().reverse()},Ne.prototype.mapToClass=function(i){for(var l=this.db,u=this.name,c=((this.schema.mappedClass=i).prototype instanceof dc&&(i=(m=>{var y=E,_=m;if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function A(){this.constructor=y}function E(){return m!==null&&m.apply(this,arguments)||this}return n(y,_),y.prototype=_===null?Object.create(_):(A.prototype=_.prototype,new A),Object.defineProperty(E.prototype,"db",{get:function(){return l},enumerable:!1,configurable:!0}),E.prototype.table=function(){return u},E})(i)),new Set),f=i.prototype;f;f=v(f))Object.getOwnPropertyNames(f).forEach(function(m){return c.add(m)});function p(m){if(!m)return m;var y,_=Object.create(i.prototype);for(y in m)if(!c.has(y))try{_[y]=m[y]}catch{}return _}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=p,this.hook("reading",p),i},Ne.prototype.defineClass=function(){return this.mapToClass(function(i){h(this,i)})},Ne.prototype.add=function(i,l){var u=this,c=this.schema.primKey,f=c.auto,p=c.keyPath,m=i;return p&&f&&(m=So(p)(i)),this._trans("readwrite",function(y){return u.core.mutate({trans:y,type:"add",keys:l!=null?[l]:null,values:[m]})}).then(function(y){return y.numFailures?ee.reject(y.failures[0]):y.lastResult}).then(function(y){if(p)try{q(i,p,y)}catch{}return y})},Ne.prototype.upsert=function(i,l){var u=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return u.core.get({trans:f,key:i}).then(function(p){var m=p??{};return yc(m,l),c&&q(m,c,i),u.core.mutate({trans:f,type:"put",values:[m],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[l]}}).then(function(y){return y.numFailures?ee.reject(y.failures[0]):!!p})})})},Ne.prototype.update=function(i,l){return typeof i!="object"||d(i)?this.where(":id").equals(i).modify(l):(i=X(i,this.schema.primKey.keyPath))===void 0?Be(new le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(l)},Ne.prototype.put=function(i,l){var u=this,c=this.schema.primKey,f=c.auto,p=c.keyPath,m=i;return p&&f&&(m=So(p)(i)),this._trans("readwrite",function(y){return u.core.mutate({trans:y,type:"put",values:[m],keys:l!=null?[l]:null})}).then(function(y){return y.numFailures?ee.reject(y.failures[0]):y.lastResult}).then(function(y){if(p)try{q(i,p,y)}catch{}return y})},Ne.prototype.delete=function(i){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:[i]}).then(function(c){return ko(l,[i],c)}).then(function(c){return c.numFailures?ee.reject(c.failures[0]):void 0})})},Ne.prototype.clear=function(){var i=this;return this._trans("readwrite",function(l){return i.core.mutate({trans:l,type:"deleteRange",range:fc}).then(function(u){return ko(i,null,u)})}).then(function(l){return l.numFailures?ee.reject(l.failures[0]):void 0})},Ne.prototype.bulkGet=function(i){var l=this;return this._trans("readonly",function(u){return l.core.getMany({keys:i,trans:u}).then(function(c){return c.map(function(f){return l.hook.reading.fire(f)})})})},Ne.prototype.bulkAdd=function(i,l,u){var c=this,f=Array.isArray(l)?l:void 0,p=(u=u||(f?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(m){var y=c.schema.primKey,A=y.auto,y=y.keyPath;if(y&&f)throw new le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==i.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var _=i.length,A=y&&A?i.map(So(y)):i;return c.core.mutate({trans:m,type:"add",keys:f,values:A,wantResults:p}).then(function(E){var S=E.numFailures,N=E.failures;if(S===0)return p?E.results:E.lastResult;throw new Qe("".concat(c.name,".bulkAdd(): ").concat(S," of ").concat(_," operations failed"),N)})})},Ne.prototype.bulkPut=function(i,l,u){var c=this,f=Array.isArray(l)?l:void 0,p=(u=u||(f?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(m){var y=c.schema.primKey,A=y.auto,y=y.keyPath;if(y&&f)throw new le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==i.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var _=i.length,A=y&&A?i.map(So(y)):i;return c.core.mutate({trans:m,type:"put",keys:f,values:A,wantResults:p}).then(function(E){var S=E.numFailures,N=E.failures;if(S===0)return p?E.results:E.lastResult;throw new Qe("".concat(c.name,".bulkPut(): ").concat(S," of ").concat(_," operations failed"),N)})})},Ne.prototype.bulkUpdate=function(i){var l=this,u=this.core,c=i.map(function(m){return m.key}),f=i.map(function(m){return m.changes}),p=[];return this._trans("readwrite",function(m){return u.getMany({trans:m,keys:c,cache:"clone"}).then(function(y){var _=[],A=[],E=(i.forEach(function(S,N){var T=S.key,P=S.changes,x=y[N];if(x){for(var M=0,b=Object.keys(P);M<b.length;M++){var R=b[M],z=P[R];if(R===l.schema.primKey.keyPath){if(me(z,T)!==0)throw new le.Constraint("Cannot update primary key in bulkUpdate()")}else q(x,R,z)}p.push(N),_.push(T),A.push(x)}}),_.length);return u.mutate({trans:m,type:"put",keys:_,values:A,updates:{keys:c,changeSpecs:f}}).then(function(S){var N=S.numFailures,T=S.failures;if(N===0)return E;for(var P=0,x=Object.keys(T);P<x.length;P++){var M,b=x[P],R=p[Number(b)];R!=null&&(M=T[b],delete T[b],T[R]=M)}throw new Qe("".concat(l.name,".bulkUpdate(): ").concat(N," of ").concat(E," operations failed"),T)})})})},Ne.prototype.bulkDelete=function(i){var l=this,u=i.length;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:i}).then(function(f){return ko(l,i,f)})}).then(function(c){var f=c.numFailures,p=c.failures;if(f===0)return c.lastResult;throw new Qe("".concat(l.name,".bulkDelete(): ").concat(f," of ").concat(u," operations failed"),p)})};var vc=Ne;function Ne(){}function ui(i){function l(m,y){if(y){for(var _=arguments.length,A=new Array(_-1);--_;)A[_-1]=arguments[_];return u[m].subscribe.apply(null,A),i}if(typeof m=="string")return u[m]}var u={};l.addEventType=p;for(var c=1,f=arguments.length;c<f;++c)p(arguments[c]);return l;function p(m,y,_){var A,E;if(typeof m!="object")return y=y||ol,E={subscribers:[],fire:_=_||Ee,subscribe:function(S){E.subscribers.indexOf(S)===-1&&(E.subscribers.push(S),E.fire=y(E.fire,S))},unsubscribe:function(S){E.subscribers=E.subscribers.filter(function(N){return N!==S}),E.fire=E.subscribers.reduce(y,_)}},u[m]=l[m]=E;a(A=m).forEach(function(S){var N=A[S];if(d(N))p(S,A[S][0],A[S][1]);else{if(N!=="asap")throw new le.InvalidArgument("Invalid event config");var T=p(S,vn,function(){for(var P=arguments.length,x=new Array(P);P--;)x[P]=arguments[P];T.subscribers.forEach(function(M){Z(function(){M.apply(null,x)})})})}})}}function ai(i,l){return B(l).from({prototype:i}),l}function kr(i,l){return!(i.filter||i.algorithm||i.or)&&(l?i.justLimit:!i.replayFilter)}function ml(i,l){i.filter=Gn(i.filter,l)}function yl(i,l,u){var c=i.replayFilter;i.replayFilter=c?function(){return Gn(c(),l())}:l,i.justLimit=u&&!c}function xo(i,l){if(i.isPrimKey)return l.primaryKey;var u=l.getIndexByKeyPath(i.index);if(u)return u;throw new le.Schema("KeyPath "+i.index+" on object store "+l.name+" is not indexed")}function gc(i,l,u){var c=xo(i,l.schema);return l.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:c,range:i.range}})}function _o(i,l,u,c){var f,p,m=i.replayFilter?Gn(i.filter,i.replayFilter()):i.filter;return i.or?(f={},p=function(y,_,A){var E,S;m&&!m(_,A,function(N){return _.stop(N)},function(N){return _.fail(N)})||((S=""+(E=_.primaryKey))=="[object ArrayBuffer]"&&(S=""+new Uint8Array(E)),O(f,S))||(f[S]=!0,l(y,_,A))},Promise.all([i.or._iterate(p,u),wc(gc(i,c,u),i.algorithm,p,!i.keysOnly&&i.valueMapper)])):wc(gc(i,c,u),Gn(i.algorithm,m),l,!i.keysOnly&&i.valueMapper)}function wc(i,l,u,c){var f=Re(c?function(p,m,y){return u(c(p),m,y)}:u);return i.then(function(p){if(p)return p.start(function(){var m=function(){return p.continue()};l&&!l(p,function(y){return m=y},function(y){p.stop(y),m=Ee},function(y){p.fail(y),m=Ee})||f(p.value,p,function(y){return m=y}),m()})})}Se.prototype._read=function(i,l){var u=this._ctx;return u.error?u.table._trans(null,Be.bind(null,u.error)):u.table._trans("readonly",i).then(l)},Se.prototype._write=function(i){var l=this._ctx;return l.error?l.table._trans(null,Be.bind(null,l.error)):l.table._trans("readwrite",i,"locked")},Se.prototype._addAlgorithm=function(i){var l=this._ctx;l.algorithm=Gn(l.algorithm,i)},Se.prototype._iterate=function(i,l){return _o(this._ctx,i,l,this._ctx.table.core)},Se.prototype.clone=function(i){var l=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&h(u,i),l._ctx=u,l},Se.prototype.raw=function(){return this._ctx.valueMapper=null,this},Se.prototype.each=function(i){var l=this._ctx;return this._read(function(u){return _o(l,i,u,l.table.core)})},Se.prototype.count=function(i){var l=this;return this._read(function(u){var c,f=l._ctx,p=f.table.core;return kr(f,!0)?p.count({trans:u,query:{index:xo(f,p.schema),range:f.range}}).then(function(m){return Math.min(m,f.limit)}):(c=0,_o(f,function(){return++c,!1},u,p).then(function(){return c}))}).then(i)},Se.prototype.sortBy=function(i,l){var u=i.split(".").reverse(),c=u[0],f=u.length-1;function p(_,A){return A?p(_[u[A]],A-1):_[c]}var m=this._ctx.dir==="next"?1:-1;function y(_,A){return me(p(_,f),p(A,f))*m}return this.toArray(function(_){return _.sort(y)}).then(l)},Se.prototype.toArray=function(i){var l=this;return this._read(function(u){var c,f,p,m=l._ctx;return m.dir==="next"&&kr(m,!0)&&0<m.limit?(c=m.valueMapper,f=xo(m,m.table.core.schema),m.table.core.query({trans:u,limit:m.limit,values:!0,query:{index:f,range:m.range}}).then(function(y){return y=y.result,c?y.map(c):y})):(p=[],_o(m,function(y){return p.push(y)},u,m.table.core).then(function(){return p}))},i)},Se.prototype.offset=function(i){var l=this._ctx;return i<=0||(l.offset+=i,kr(l)?yl(l,function(){var u=i;return function(c,f){return u===0||(u===1?--u:f(function(){c.advance(u),u=0}),!1)}}):yl(l,function(){var u=i;return function(){return--u<0}})),this},Se.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),yl(this._ctx,function(){var l=i;return function(u,c,f){return--l<=0&&c(f),0<=l}},!0),this},Se.prototype.until=function(i,l){return ml(this._ctx,function(u,c,f){return!i(u.value)||(c(f),l)}),this},Se.prototype.first=function(i){return this.limit(1).toArray(function(l){return l[0]}).then(i)},Se.prototype.last=function(i){return this.reverse().first(i)},Se.prototype.filter=function(i){var l;return ml(this._ctx,function(u){return i(u.value)}),(l=this._ctx).isMatch=Gn(l.isMatch,i),this},Se.prototype.and=function(i){return this.filter(i)},Se.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Se.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Se.prototype.desc=function(){return this.reverse()},Se.prototype.eachKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,c){i(c.key,c)})},Se.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Se.prototype.eachPrimaryKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,c){i(c.primaryKey,c)})},Se.prototype.keys=function(i){var l=this._ctx,u=(l.keysOnly=!l.isMatch,[]);return this.each(function(c,f){u.push(f.key)}).then(function(){return u}).then(i)},Se.prototype.primaryKeys=function(i){var l=this._ctx;if(l.dir==="next"&&kr(l,!0)&&0<l.limit)return this._read(function(c){var f=xo(l,l.table.core.schema);return l.table.core.query({trans:c,values:!1,limit:l.limit,query:{index:f,range:l.range}})}).then(function(c){return c.result}).then(i);l.keysOnly=!l.isMatch;var u=[];return this.each(function(c,f){u.push(f.primaryKey)}).then(function(){return u}).then(i)},Se.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Se.prototype.firstKey=function(i){return this.limit(1).keys(function(l){return l[0]}).then(i)},Se.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Se.prototype.distinct=function(){var i,l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];return l&&l.multi&&(i={},ml(this._ctx,function(c){var c=c.primaryKey.toString(),f=O(i,c);return i[c]=!0,!f})),this},Se.prototype.modify=function(i){var l=this,u=this._ctx;return this._write(function(c){function f(x,M){var b=M.failures;N+=x-M.numFailures;for(var R=0,z=a(b);R<z.length;R++){var K=z[R];S.push(b[K])}}var p=typeof i=="function"?i:function(x){return yc(x,i)},m=u.table.core,E=m.schema.primaryKey,y=E.outbound,_=E.extractKey,A=200,E=l.db._options.modifyChunkSize,S=(E&&(A=typeof E=="object"?E[m.name]||E["*"]||200:E),[]),N=0,T=[],P=i===Sc;return l.clone().primaryKeys().then(function(x){function M(R){var z=Math.min(A,x.length-R),K=x.slice(R,R+z);return(P?Promise.resolve([]):m.getMany({trans:c,keys:K,cache:"immutable"})).then(function(Q){var Y=[],H=[],re=y?[]:null,te=P?K:[];if(!P)for(var W=0;W<z;++W){var ie=Q[W],ve={value:Ce(ie),primKey:x[R+W]};p.call(ve,ve.value,ve)!==!1&&(ve.value==null?te.push(x[R+W]):y||me(_(ie),_(ve.value))===0?(H.push(ve.value),y&&re.push(x[R+W])):(te.push(x[R+W]),Y.push(ve.value)))}return Promise.resolve(0<Y.length&&m.mutate({trans:c,type:"add",values:Y}).then(function(ke){for(var ce in ke.failures)te.splice(parseInt(ce),1);f(Y.length,ke)})).then(function(){return(0<H.length||b&&typeof i=="object")&&m.mutate({trans:c,type:"put",keys:re,values:H,criteria:b,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<R}).then(function(ke){return f(H.length,ke)})}).then(function(){return(0<te.length||b&&P)&&m.mutate({trans:c,type:"delete",keys:te,criteria:b,isAdditionalChunk:0<R}).then(function(ke){return ko(u.table,te,ke)}).then(function(ke){return f(te.length,ke)})}).then(function(){return x.length>R+z&&M(R+A)})})}var b=kr(u)&&u.limit===1/0&&(typeof i!="function"||P)&&{index:u.index,range:u.range};return M(0).then(function(){if(0<S.length)throw new xe("Error modifying one or more objects",S,N,T);return x.length})})})},Se.prototype.delete=function(){var i=this._ctx,l=i.range;return!kr(i)||i.table.schema.yProps||!i.isPrimKey&&l.type!==3?this.modify(Sc):this._write(function(u){var c=i.table.core.schema.primaryKey,f=l;return i.table.core.count({trans:u,query:{index:c,range:f}}).then(function(p){return i.table.core.mutate({trans:u,type:"deleteRange",range:f}).then(function(_){var y=_.failures,_=_.numFailures;if(_)throw new xe("Could not delete some values",Object.keys(y).map(function(A){return y[A]}),p-_);return p-_})})})};var bh=Se;function Se(){}var Sc=function(i,l){return l.value=null};function Dh(i,l){return i<l?-1:i===l?0:1}function Lh(i,l){return l<i?-1:i===l?0:1}function xt(i,l,u){return i=i instanceof xc?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(l),i}function xr(i){return new i.Collection(i,function(){return kc("")}).limit(0)}function Eo(T,l,u,c){var f,p,m,y,_,A,E,S=u.length;if(!u.every(function(x){return typeof x=="string"}))return xt(T,cc);function N(x){f=x==="next"?function(b){return b.toUpperCase()}:function(b){return b.toLowerCase()},p=x==="next"?function(b){return b.toLowerCase()}:function(b){return b.toUpperCase()},m=x==="next"?Dh:Lh;var M=u.map(function(b){return{lower:p(b),upper:f(b)}}).sort(function(b,R){return m(b.lower,R.lower)});y=M.map(function(b){return b.upper}),_=M.map(function(b){return b.lower}),E=(A=x)==="next"?"":c}N("next");var T=new T.Collection(T,function(){return xn(y[0],_[S-1]+c)}),P=(T._ondirectionchange=function(x){N(x)},0);return T._addAlgorithm(function(x,M,b){var R=x.key;if(typeof R=="string"){var z=p(R);if(l(z,_,P))return!0;for(var K=null,Q=P;Q<S;++Q){var Y=((H,re,te,W,ie,ve)=>{for(var ke=Math.min(H.length,W.length),ce=-1,pe=0;pe<ke;++pe){var Ae=re[pe];if(Ae!==W[pe])return ie(H[pe],te[pe])<0?H.substr(0,pe)+te[pe]+te.substr(pe+1):ie(H[pe],W[pe])<0?H.substr(0,pe)+W[pe]+te.substr(pe+1):0<=ce?H.substr(0,ce)+re[ce]+te.substr(ce+1):null;ie(H[pe],Ae)<0&&(ce=pe)}return ke<W.length&&ve==="next"?H+te.substr(H.length):ke<H.length&&ve==="prev"?H.substr(0,te.length):ce<0?null:H.substr(0,ce)+W[ce]+te.substr(ce+1)})(R,z,y[Q],_[Q],m,A);Y===null&&K===null?P=Q+1:(K===null||0<m(K,Y))&&(K=Y)}M(K!==null?function(){x.continue(K+E)}:b)}return!1}),T}function xn(i,l,u,c){return{type:2,lower:i,upper:l,lowerOpen:u,upperOpen:c}}function kc(i){return{type:1,lower:i,upper:i}}Object.defineProperty(Ze.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ze.prototype.between=function(i,l,u,c){u=u!==!1,c=c===!0;try{return 0<this._cmp(i,l)||this._cmp(i,l)===0&&(u||c)&&(!u||!c)?xr(this):new this.Collection(this,function(){return xn(i,l,!u,!c)})}catch{return xt(this,rn)}},Ze.prototype.equals=function(i){return i==null?xt(this,rn):new this.Collection(this,function(){return kc(i)})},Ze.prototype.above=function(i){return i==null?xt(this,rn):new this.Collection(this,function(){return xn(i,void 0,!0)})},Ze.prototype.aboveOrEqual=function(i){return i==null?xt(this,rn):new this.Collection(this,function(){return xn(i,void 0,!1)})},Ze.prototype.below=function(i){return i==null?xt(this,rn):new this.Collection(this,function(){return xn(void 0,i,!1,!0)})},Ze.prototype.belowOrEqual=function(i){return i==null?xt(this,rn):new this.Collection(this,function(){return xn(void 0,i)})},Ze.prototype.startsWith=function(i){return typeof i!="string"?xt(this,cc):this.between(i,i+Yn,!0,!0)},Ze.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Eo(this,function(l,u){return l.indexOf(u[0])===0},[i],Yn)},Ze.prototype.equalsIgnoreCase=function(i){return Eo(this,function(l,u){return l===u[0]},[i],"")},Ze.prototype.anyOfIgnoreCase=function(){var i=ae.apply(ue,arguments);return i.length===0?xr(this):Eo(this,function(l,u){return u.indexOf(l)!==-1},i,"")},Ze.prototype.startsWithAnyOfIgnoreCase=function(){var i=ae.apply(ue,arguments);return i.length===0?xr(this):Eo(this,function(l,u){return u.some(function(c){return l.indexOf(c)===0})},i,Yn)},Ze.prototype.anyOf=function(){var i,l,u=this,c=ae.apply(ue,arguments),f=this._cmp;try{c.sort(f)}catch{return xt(this,rn)}return c.length===0?xr(this):((i=new this.Collection(this,function(){return xn(c[0],c[c.length-1])}))._ondirectionchange=function(p){f=p==="next"?u._ascending:u._descending,c.sort(f)},l=0,i._addAlgorithm(function(p,m,y){for(var _=p.key;0<f(_,c[l]);)if(++l===c.length)return m(y),!1;return f(_,c[l])===0||(m(function(){p.continue(c[l])}),!1)}),i)},Ze.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ze.prototype.noneOf=function(){var i=ae.apply(ue,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return xt(this,rn)}var l=i.reduce(function(u,c){return u?u.concat([[u[u.length-1][1],c]]):[[-1/0,c]]},null);return l.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Ze.prototype.inAnyRange=function(i,b){var u=this,c=this._cmp,f=this._ascending,p=this._descending,m=this._min,y=this._max;if(i.length===0)return xr(this);if(!i.every(function(R){return R[0]!==void 0&&R[1]!==void 0&&f(R[0],R[1])<=0}))return xt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",le.InvalidArgument);var _=!b||b.includeLowers!==!1,A=b&&b.includeUppers===!0,E,S=f;function N(R,z){return S(R[0],z[0])}try{(E=i.reduce(function(R,z){for(var K=0,Q=R.length;K<Q;++K){var Y=R[K];if(c(z[0],Y[1])<0&&0<c(z[1],Y[0])){Y[0]=m(Y[0],z[0]),Y[1]=y(Y[1],z[1]);break}}return K===Q&&R.push(z),R},[])).sort(N)}catch{return xt(this,rn)}var T=0,P=A?function(R){return 0<f(R,E[T][1])}:function(R){return 0<=f(R,E[T][1])},x=_?function(R){return 0<p(R,E[T][0])}:function(R){return 0<=p(R,E[T][0])},M=P,b=new this.Collection(this,function(){return xn(E[0][0],E[E.length-1][1],!_,!A)});return b._ondirectionchange=function(R){S=R==="next"?(M=P,f):(M=x,p),E.sort(N)},b._addAlgorithm(function(R,z,K){for(var Q,Y=R.key;M(Y);)if(++T===E.length)return z(K),!1;return!P(Q=Y)&&!x(Q)||(u._cmp(Y,E[T][1])===0||u._cmp(Y,E[T][0])===0||z(function(){S===f?R.continue(E[T][0]):R.continue(E[T][1])}),!1)}),b},Ze.prototype.startsWithAnyOf=function(){var i=ae.apply(ue,arguments);return i.every(function(l){return typeof l=="string"})?i.length===0?xr(this):this.inAnyRange(i.map(function(l){return[l,l+Yn]})):xt(this,"startsWithAnyOf() only works with strings")};var xc=Ze;function Ze(){}function Qt(i){return Re(function(l){return ci(l),i(l.target.error),!1})}function ci(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var fi="storagemutated",vl="x-storagemutated-1",_n=ui(null,fi),Fh=(Yt.prototype._lock=function(){return F(!se.global),++this._reculock,this._reculock!==1||se.global||(se.lockOwnerFor=this),this},Yt.prototype._unlock=function(){if(F(!se.global),--this._reculock==0)for(se.global||(se.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Qn(i[1],i[0])}catch{}}return this},Yt.prototype._locked=function(){return this._reculock&&se.lockOwnerFor!==this},Yt.prototype.create=function(i){var l=this;if(this.mode){var u=this.db.idbdb,c=this.db._state.dbOpenError;if(F(!this.idbtrans),!i&&!u)switch(c&&c.name){case"DatabaseClosedError":throw new le.DatabaseClosed(c);case"MissingAPIError":throw new le.MissingAPI(c.message,c);default:throw new le.OpenFailed(c)}if(!this.active)throw new le.TransactionInactive;F(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Re(function(f){ci(f),l._reject(i.error)}),i.onabort=Re(function(f){ci(f),l.active&&l._reject(new le.Abort(i.error)),l.active=!1,l.on("abort").fire(f)}),i.oncomplete=Re(function(){l.active=!1,l._resolve(),"mutatedParts"in i&&_n.storagemutated.fire(i.mutatedParts)})}return this},Yt.prototype._promise=function(i,l,u){var c,f=this;return i==="readwrite"&&this.mode!=="readwrite"?Be(new le.ReadOnly("Transaction is readonly")):this.active?this._locked()?new ee(function(p,m){f._blockedFuncs.push([function(){f._promise(i,l,u).then(p,m)},se])}):u?wn(function(){var p=new ee(function(m,y){f._lock();var _=l(m,y,f);_&&_.then&&_.then(m,y)});return p.finally(function(){return f._unlock()}),p._lib=!0,p}):((c=new ee(function(p,m){var y=l(p,m,f);y&&y.then&&y.then(p,m)}))._lib=!0,c):Be(new le.TransactionInactive)},Yt.prototype._root=function(){return this.parent?this.parent._root():this},Yt.prototype.waitFor=function(i){var l,u=this._root(),c=ee.resolve(i),f=(u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return c}):(u._waitingFor=c,u._waitingQueue=[],l=u.idbtrans.objectStore(u.storeNames[0]),function p(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(l.get(-1/0).onsuccess=p)}()),u._waitingFor);return new ee(function(p,m){c.then(function(y){return u._waitingQueue.push(Re(p.bind(null,y)))},function(y){return u._waitingQueue.push(Re(m.bind(null,y)))}).finally(function(){u._waitingFor===f&&(u._waitingFor=null)})})},Yt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new le.Abort))},Yt.prototype.table=function(i){var l=this._memoizedTables||(this._memoizedTables={});if(O(l,i))return l[i];var u=this.schema[i];if(u)return(u=new this.db.Table(i,u,this)).core=this.db.core.table(i),l[i]=u;throw new le.NotFound("Table "+i+" not part of transaction")},Yt);function Yt(){}function gl(i,l,u,c,f,p,m,y){return{name:i,keyPath:l,unique:u,multi:c,auto:f,compound:p,src:(u&&!m?"&":"")+(c?"*":"")+(f?"++":"")+_c(l),type:y}}function _c(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function wl(i,l,u){return{name:i,primKey:l,indexes:u,mappedClass:null,idxByName:(c=function(f){return[f.name,f]},u.reduce(function(f,p,m){return p=c(p,m),p&&(f[p[0]]=p[1]),f},{}))};var c}var di=function(i){try{return i.only([[]]),di=function(){return[[]]},[[]]}catch{return di=function(){return Yn},Yn}};function Sl(i){return i==null?function(){}:typeof i=="string"?(l=i).split(".").length===1?function(u){return u[l]}:function(u){return X(u,l)}:function(u){return X(u,i)};var l}function Ec(i){return[].slice.call(i)}var zh=0;function pi(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Bh(i,l,_){function c(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=P.lower,N=P.upper,T=P.lowerOpen,P=P.upperOpen;return S===void 0?N===void 0?null:l.upperBound(N,!!P):N===void 0?l.lowerBound(S,!!T):l.bound(S,N,!!T,!!P)}function f(E){var S,N=E.name;return{name:N,schema:E,mutate:function(T){var P=T.trans,x=T.type,M=T.keys,b=T.values,R=T.range;return new Promise(function(z,K){z=Re(z);var Q=P.objectStore(N),Y=Q.keyPath==null,H=x==="put"||x==="add";if(!H&&x!=="delete"&&x!=="deleteRange")throw new Error("Invalid operation type: "+x);var re,te=(M||b||{length:1}).length;if(M&&b&&M.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(te===0)return z({numFailures:0,failures:{},results:[],lastResult:void 0});function W(Fe){++ke,ci(Fe)}var ie=[],ve=[],ke=0;if(x==="deleteRange"){if(R.type===4)return z({numFailures:ke,failures:ve,results:[],lastResult:void 0});R.type===3?ie.push(re=Q.clear()):ie.push(re=Q.delete(c(R)))}else{var Y=H?Y?[b,M]:[b,null]:[M,null],ce=Y[0],pe=Y[1];if(H)for(var Ae=0;Ae<te;++Ae)ie.push(re=pe&&pe[Ae]!==void 0?Q[x](ce[Ae],pe[Ae]):Q[x](ce[Ae])),re.onerror=W;else for(Ae=0;Ae<te;++Ae)ie.push(re=Q[x](ce[Ae])),re.onerror=W}function Rt(Fe){Fe=Fe.target.result,ie.forEach(function(Jn,Fl){return Jn.error!=null&&(ve[Fl]=Jn.error)}),z({numFailures:ke,failures:ve,results:x==="delete"?M:ie.map(function(Jn){return Jn.result}),lastResult:Fe})}re.onerror=function(Fe){W(Fe),Rt(Fe)},re.onsuccess=Rt})},getMany:function(T){var P=T.trans,x=T.keys;return new Promise(function(M,b){M=Re(M);for(var R,z=P.objectStore(N),K=x.length,Q=new Array(K),Y=0,H=0,re=function(ie){ie=ie.target,Q[ie._pos]=ie.result,++H===Y&&M(Q)},te=Qt(b),W=0;W<K;++W)x[W]!=null&&((R=z.get(x[W]))._pos=W,R.onsuccess=re,R.onerror=te,++Y);Y===0&&M(Q)})},get:function(T){var P=T.trans,x=T.key;return new Promise(function(M,b){M=Re(M);var R=P.objectStore(N).get(x);R.onsuccess=function(z){return M(z.target.result)},R.onerror=Qt(b)})},query:(S=y,function(T){return new Promise(function(P,x){P=Re(P);var M,b,R,H=T.trans,z=T.values,K=T.limit,Y=T.query,Q=K===1/0?void 0:K,re=Y.index,Y=Y.range,H=H.objectStore(N),H=re.isPrimaryKey?H:H.index(re.name),re=c(Y);if(K===0)return P({result:[]});S?((Y=z?H.getAll(re,Q):H.getAllKeys(re,Q)).onsuccess=function(te){return P({result:te.target.result})},Y.onerror=Qt(x)):(M=0,b=!z&&"openKeyCursor"in H?H.openKeyCursor(re):H.openCursor(re),R=[],b.onsuccess=function(te){var W=b.result;return!W||(R.push(z?W.value:W.primaryKey),++M===K)?P({result:R}):void W.continue()},b.onerror=Qt(x))})}),openCursor:function(T){var P=T.trans,x=T.values,M=T.query,b=T.reverse,R=T.unique;return new Promise(function(z,K){z=Re(z);var H=M.index,Q=M.range,Y=P.objectStore(N),Y=H.isPrimaryKey?Y:Y.index(H.name),H=b?R?"prevunique":"prev":R?"nextunique":"next",re=!x&&"openKeyCursor"in Y?Y.openKeyCursor(c(Q),H):Y.openCursor(c(Q),H);re.onerror=Qt(K),re.onsuccess=Re(function(te){var W,ie,ve,ke,ce=re.result;ce?(ce.___id=++zh,ce.done=!1,W=ce.continue.bind(ce),ie=(ie=ce.continuePrimaryKey)&&ie.bind(ce),ve=ce.advance.bind(ce),ke=function(){throw new Error("Cursor not stopped")},ce.trans=P,ce.stop=ce.continue=ce.continuePrimaryKey=ce.advance=function(){throw new Error("Cursor not started")},ce.fail=Re(K),ce.next=function(){var pe=this,Ae=1;return this.start(function(){return Ae--?pe.continue():pe.stop()}).then(function(){return pe})},ce.start=function(pe){function Ae(){if(re.result)try{pe()}catch(Fe){ce.fail(Fe)}else ce.done=!0,ce.start=function(){throw new Error("Cursor behind last entry")},ce.stop()}var Rt=new Promise(function(Fe,Jn){Fe=Re(Fe),re.onerror=Qt(Jn),ce.fail=Jn,ce.stop=function(Fl){ce.stop=ce.continue=ce.continuePrimaryKey=ce.advance=ke,Fe(Fl)}});return re.onsuccess=Re(function(Fe){re.onsuccess=Ae,Ae()}),ce.continue=W,ce.continuePrimaryKey=ie,ce.advance=ve,Ae(),Rt},z(ce)):z(null)},K)})},count:function(T){var P=T.query,x=T.trans,M=P.index,b=P.range;return new Promise(function(R,z){var K=x.objectStore(N),K=M.isPrimaryKey?K:K.index(M.name),Q=c(b),Q=Q?K.count(Q):K.count();Q.onsuccess=Re(function(Y){return R(Y.target.result)}),Q.onerror=Qt(z)})}}}p=_,m=Ec((_=i).objectStoreNames);var p,_={schema:{name:_.name,tables:m.map(function(E){return p.objectStore(E)}).map(function(E){var S=E.keyPath,N=E.autoIncrement,P=d(S),T={},P={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:P,keyPath:S,autoIncrement:N,unique:!0,extractKey:Sl(S)},indexes:Ec(E.indexNames).map(function(x){return E.index(x)}).map(function(R){var z=R.name,M=R.unique,b=R.multiEntry,R=R.keyPath,z={name:z,compound:d(R),keyPath:R,unique:M,multiEntry:b,extractKey:Sl(R)};return T[pi(R)]=z}),getIndexByKeyPath:function(x){return T[pi(x)]}};return T[":id"]=P.primaryKey,S!=null&&(T[pi(S)]=P.primaryKey),P})},hasGetAll:0<m.length&&"getAll"in p.objectStore(m[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},m=_.schema,y=_.hasGetAll,_=m.tables.map(f),A={};return _.forEach(function(E){return A[E.name]=E}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(E){if(A[E])return A[E];throw new Error("Table '".concat(E,"' not found"))},MIN_KEY:-1/0,MAX_KEY:di(l),schema:m}}function Kh(i,l,u,c){return u=u.IDBKeyRange,l=Bh(l,u,c),{dbcore:i.dbcore.reduce(function(f,p){return p=p.create,r(r({},f),p(f))},l)}}function Po(i,l){var u=l.db,u=Kh(i._middlewares,u,i._deps,l);i.core=u.dbcore,i.tables.forEach(function(c){var f=c.name;i.core.schema.tables.some(function(p){return p.name===f})&&(c.core=i.core.table(f),i[f]instanceof i.Table)&&(i[f].core=c.core)})}function Co(i,l,u,c){u.forEach(function(f){var p=c[f];l.forEach(function(m){var y=function _(A,E){return G(A,E)||(A=v(A))&&_(A,E)}(m,f);(!y||"value"in y&&y.value===void 0)&&(m===i.Transaction.prototype||m instanceof i.Transaction?D(m,f,{get:function(){return this.table(f)},set:function(_){L(this,f,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):m[f]=new i.Table(f,p))})})}function kl(i,l){l.forEach(function(u){for(var c in u)u[c]instanceof i.Table&&delete u[c]})}function Uh(i,l){return i._cfg.version-l._cfg.version}function Hh(i,l,u,c){var f=i._dbSchema,p=(u.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=wl("$meta",Cc("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,f)),m=(p.create(u),p._completion.catch(c),p._reject.bind(p)),y=se.transless||se;wn(function(){if(se.trans=p,se.transless=y,l!==0)return Po(i,u),A=l,((_=p).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(E){return E??A}):ee.resolve(A)).then(function(M){var S=i,N=M,T=p,P=u,x=[],M=S._versions,b=S._dbSchema=To(0,S.idbdb,P);return(M=M.filter(function(R){return R._cfg.version>=N})).length===0?ee.resolve():(M.forEach(function(R){x.push(function(){var z,K,Q,Y=b,H=R._cfg.dbschema,re=(jo(S,Y,P),jo(S,H,P),b=S._dbSchema=H,xl(Y,H)),te=(re.add.forEach(function(W){_l(P,W[0],W[1].primKey,W[1].indexes)}),re.change.forEach(function(W){if(W.recreate)throw new le.Upgrade("Not yet support for changing primary key");var ie=P.objectStore(W.name);W.add.forEach(function(ve){return No(ie,ve)}),W.change.forEach(function(ve){ie.deleteIndex(ve.name),No(ie,ve)}),W.del.forEach(function(ve){return ie.deleteIndex(ve)})}),R._cfg.contentUpgrade);if(te&&R._cfg.version>N)return Po(S,P),T._memoizedTables={},z=ne(H),re.del.forEach(function(W){z[W]=Y[W]}),kl(S,[S.Transaction.prototype]),Co(S,[S.Transaction.prototype],a(z),z),T.schema=z,(K=ge(te))&&wr(),H=ee.follow(function(){var W;(Q=te(T))&&K&&(W=Sn.bind(null,null),Q.then(W,W))}),Q&&typeof Q.then=="function"?ee.resolve(Q):H.then(function(){return Q})}),x.push(function(z){var K,Q,Y=R._cfg.dbschema;K=Y,Q=z,[].slice.call(Q.db.objectStoreNames).forEach(function(H){return K[H]==null&&Q.db.deleteObjectStore(H)}),kl(S,[S.Transaction.prototype]),Co(S,[S.Transaction.prototype],S._storeNames,S._dbSchema),T.schema=S._dbSchema}),x.push(function(z){S.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(S.idbdb.version/10)===R._cfg.version?(S.idbdb.deleteObjectStore("$meta"),delete S._dbSchema.$meta,S._storeNames=S._storeNames.filter(function(K){return K!=="$meta"})):z.objectStore("$meta").put(R._cfg.version,"version"))})}),function R(){return x.length?ee.resolve(x.shift()(T.idbtrans)).then(R):ee.resolve()}().then(function(){Pc(b,P)}))}).catch(m);var _,A;a(f).forEach(function(E){_l(u,E,f[E].primKey,f[E].indexes)}),Po(i,u),ee.follow(function(){return i.on.populate.fire(p)}).catch(m)})}function Vh(i,l){Pc(i._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var u=To(0,i.idbdb,l);jo(i,i._dbSchema,l);for(var c=0,f=xl(u,i._dbSchema).change;c<f.length;c++){var p=(m=>{if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var y=l.objectStore(m.name);m.add.forEach(function(_){jt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(_.src)),No(y,_)})})(f[c]);if(typeof p=="object")return p.value}}function xl(i,l){var u,c={del:[],add:[],change:[]};for(u in i)l[u]||c.del.push(u);for(u in l){var f=i[u],p=l[u];if(f){var m={name:u,def:p,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(p.primKey.keyPath||"")||f.primKey.auto!==p.primKey.auto)m.recreate=!0,c.change.push(m);else{var y=f.idxByName,_=p.idxByName,A=void 0;for(A in y)_[A]||m.del.push(A);for(A in _){var E=y[A],S=_[A];E?E.src!==S.src&&m.change.push(S):m.add.push(S)}(0<m.del.length||0<m.add.length||0<m.change.length)&&c.change.push(m)}}else c.add.push([u,p])}return c}function _l(i,l,u,c){var f=i.db.createObjectStore(l,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});c.forEach(function(p){return No(f,p)})}function Pc(i,l){a(i).forEach(function(u){l.db.objectStoreNames.contains(u)||(jt&&console.debug("Dexie: Creating missing table",u),_l(l,u,i[u].primKey,i[u].indexes))})}function No(i,l){i.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function To(i,l,u){var c={};return g(l.objectStoreNames,0).forEach(function(f){for(var p=u.objectStore(f),m=gl(_c(A=p.keyPath),A||"",!0,!1,!!p.autoIncrement,A&&typeof A!="string",!0),y=[],_=0;_<p.indexNames.length;++_){var E=p.index(p.indexNames[_]),A=E.keyPath,E=gl(E.name,A,!!E.unique,!!E.multiEntry,!1,A&&typeof A!="string",!1);y.push(E)}c[f]=wl(f,m,y)}),c}function jo(i,l,u){for(var c=u.db.objectStoreNames,f=0;f<c.length;++f){var p=c[f],m=u.objectStore(p);i._hasGetAll="getAll"in m;for(var y=0;y<m.indexNames.length;++y){var _,A=m.indexNames[y],E=m.index(A).keyPath,E=typeof E=="string"?E:"["+g(E).join("+")+"]";l[p]&&(_=l[p].idxByName[E])&&(_.name=A,delete l[p].idxByName[E],l[p].idxByName[A]=_)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Cc(i){return i.split(",").map(function(l,u){var f=l.split(":"),c=(c=f[1])==null?void 0:c.trim(),f=(l=f[0].trim()).replace(/([&*]|\+\+)/g,""),p=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return gl(f,p||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),d(p),u===0,c)})}_r.prototype._createTableSchema=wl,_r.prototype._parseIndexSyntax=Cc,_r.prototype._parseStoresSpec=function(i,l){var u=this;a(i).forEach(function(c){if(i[c]!==null){var f=u._parseIndexSyntax(i[c]),p=f.shift();if(!p)throw new le.Schema("Invalid schema for table "+c+": "+i[c]);if(p.unique=!0,p.multi)throw new le.Schema("Primary key cannot be multiEntry*");f.forEach(function(m){if(m.auto)throw new le.Schema("Only primary key can be marked as autoIncrement (++)");if(!m.keyPath)throw new le.Schema("Index must have a name and cannot be an empty string")}),p=u._createTableSchema(c,p,f),l[c]=p}})},_r.prototype.stores=function(u){var l=this.db,u=(this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,u):u,l._versions),c={},f={};return u.forEach(function(p){h(c,p._cfg.storesSource),f=p._cfg.dbschema={},p._parseStoresSpec(c,f)}),l._dbSchema=f,kl(l,[l._allTables,l,l.Transaction.prototype]),Co(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],a(f),f),l._storeNames=a(f),this},_r.prototype.upgrade=function(i){return this._cfg.contentUpgrade=oi(this._cfg.contentUpgrade||Ee,i),this};var $h=_r;function _r(){}function El(i,l){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new on(wo,{addons:[],indexedDB:i,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Pl(i){return i&&typeof i.databases=="function"}function Cl(i){return wn(function(){return se.letThrough=!0,i()})}function Nl(i){return!("from"in i)}var ot=function(i,l){var u;if(!this)return u=new ot,i&&"d"in i&&h(u,i),u;h(this,arguments.length?{d:1,from:i,to:1<arguments.length?l:i}:{d:0})};function hi(i,l,u){var c=me(l,u);if(!isNaN(c)){if(0<c)throw RangeError();if(Nl(i))return h(i,{from:l,to:u,d:1});var c=i.l,f=i.r;if(me(u,i.from)<0)return c?hi(c,l,u):i.l={from:l,to:u,d:1,l:null,r:null},Tc(i);if(0<me(l,i.to))return f?hi(f,l,u):i.r={from:l,to:u,d:1,l:null,r:null},Tc(i);me(l,i.from)<0&&(i.from=l,i.l=null,i.d=f?f.d+1:1),0<me(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),l=!i.r,c&&!i.l&&mi(i,c),f&&l&&mi(i,f)}}function mi(i,l){Nl(l)||function u(c,f){var p=f.from,m=f.l,y=f.r;hi(c,p,f.to),m&&u(c,m),y&&u(c,y)}(i,l)}function Nc(i,l){var u=Oo(l),c=u.next();if(!c.done)for(var f=c.value,p=Oo(i),m=p.next(f.from),y=m.value;!c.done&&!m.done;){if(me(y.from,f.to)<=0&&0<=me(y.to,f.from))return!0;me(f.from,y.from)<0?f=(c=u.next(y.from)).value:y=(m=p.next(f.from)).value}return!1}function Oo(i){var l=Nl(i)?null:{s:0,n:i};return{next:function(u){for(var c=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,c)for(;l.n.l&&me(u,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!c||me(u,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Tc(i){var l,u,c,f=(((f=i.r)==null?void 0:f.d)||0)-(((f=i.l)==null?void 0:f.d)||0),f=1<f?"r":f<-1?"l":"";f&&(l=f=="r"?"l":"r",u=r({},i),c=i[f],i.from=c.from,i.to=c.to,i[f]=c[f],u[f]=c[l],(i[l]=u).d=jc(u)),i.d=jc(i)}function jc(u){var l=u.r,u=u.l;return(l?u?Math.max(l.d,u.d):l.d:u?u.d:0)+1}function Ro(i,l){return a(l).forEach(function(u){i[u]?mi(i[u],l[u]):i[u]=function c(f){var p,m,y={};for(p in f)O(f,p)&&(m=f[p],y[p]=!m||typeof m!="object"||He.has(m.constructor)?m:c(m));return y}(l[u])}),i}function Tl(i,l){return i.all||l.all||Object.keys(i).some(function(u){return l[u]&&Nc(l[u],i[u])})}I(ot.prototype,((fe={add:function(i){return mi(this,i),this},addKey:function(i){return hi(this,i,i),this},addKeys:function(i){var l=this;return i.forEach(function(u){return hi(l,u,u)}),this},hasKey:function(i){var l=Oo(this).next(i).value;return l&&me(l.from,i)<=0&&0<=me(l.to,i)}})[Ve]=function(){return Oo(this)},fe));var Xn={},jl={},Ol=!1;function Io(i){Ro(jl,i),Ol||(Ol=!0,setTimeout(function(){Ol=!1,Rl(jl,!(jl={}))},0))}function Rl(i,l){l===void 0&&(l=!1);var u=new Set;if(i.all)for(var c=0,f=Object.values(Xn);c<f.length;c++)Oc(y=f[c],i,u,l);else for(var p in i){var m,y,p=/^idb\:\/\/(.*)\/(.*)\//.exec(p);p&&(m=p[1],p=p[2],y=Xn["idb://".concat(m,"/").concat(p)])&&Oc(y,i,u,l)}u.forEach(function(_){return _()})}function Oc(i,l,u,c){for(var f=[],p=0,m=Object.entries(i.queries.query);p<m.length;p++){for(var y=m[p],_=y[0],A=[],E=0,S=y[1];E<S.length;E++){var N=S[E];Tl(l,N.obsSet)?N.subscribers.forEach(function(M){return u.add(M)}):c&&A.push(N)}c&&f.push([_,A])}if(c)for(var T=0,P=f;T<P.length;T++){var x=P[T],_=x[0],A=x[1];i.queries.query[_]=A}}function Wh(i){var l=i._state,u=i._deps.indexedDB;if(l.isBeingOpened||i.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Be(l.dbOpenError):i});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var c=l.openCanceller,f=Math.round(10*i.verno),p=!1;function m(){if(l.openCanceller!==c)throw new le.DatabaseClosed("db.open() was cancelled")}function y(){return new ee(function(N,T){if(m(),!u)throw new le.MissingAPI;var P=i.name,x=l.autoSchema||!f?u.open(P):u.open(P,f);if(!x)throw new le.MissingAPI;x.onerror=Qt(T),x.onblocked=Re(i._fireOnBlocked),x.onupgradeneeded=Re(function(M){var b;E=x.transaction,l.autoSchema&&!i._options.allowEmptyDB?(x.onerror=ci,E.abort(),x.result.close(),(b=u.deleteDatabase(P)).onsuccess=b.onerror=Re(function(){T(new le.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(E.onerror=Qt(T),b=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,S=b<1,i.idbdb=x.result,p&&Vh(i,E),Hh(i,b/10,E,T))},T),x.onsuccess=Re(function(){E=null;var M,b,R,z,K,Q,Y=i.idbdb=x.result,H=g(Y.objectStoreNames);if(0<H.length)try{var re=Y.transaction((K=H).length===1?K[0]:K,"readonly");if(l.autoSchema)Q=Y,z=re,(R=i).verno=Q.version/10,z=R._dbSchema=To(0,Q,z),R._storeNames=g(Q.objectStoreNames,0),Co(R,[R._allTables],a(z),z);else if(jo(i,i._dbSchema,re),b=re,((b=xl(To(0,(M=i).idbdb,b),M._dbSchema)).add.length||b.change.some(function(te){return te.add.length||te.change.length}))&&!p)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Y.close(),f=Y.version+1,p=!0,N(y());Po(i,re)}catch{}Sr.push(i),Y.onversionchange=Re(function(te){l.vcFired=!0,i.on("versionchange").fire(te)}),Y.onclose=Re(function(){i.close({disableAutoOpen:!1})}),S&&(H=i._deps,K=P,Pl(Q=H.indexedDB)||K===wo||El(Q,H.IDBKeyRange).put({name:K}).catch(Ee)),N()},T)}).catch(function(N){switch(N==null?void 0:N.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<f)return f=0,y()}return ee.reject(N)})}var _,A=l.dbReadyResolve,E=null,S=!1;return ee.race([c,(typeof navigator>"u"?ee.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(N){function T(){return indexedDB.databases().finally(N)}_=setInterval(T,100),T()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(y)]).then(function(){return m(),l.onReadyBeingFired=[],ee.resolve(Cl(function(){return i.on.ready.fire(i.vip)})).then(function N(){var T;if(0<l.onReadyBeingFired.length)return T=l.onReadyBeingFired.reduce(oi,Ee),l.onReadyBeingFired=[],ee.resolve(Cl(function(){return T(i.vip)})).then(N)})}).finally(function(){l.openCanceller===c&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(N){l.dbOpenError=N;try{E&&E.abort()}catch{}return c===l.openCanceller&&i._close(),Be(N)}).finally(function(){l.openComplete=!0,A()}).then(function(){var N;return S&&(N={},i.tables.forEach(function(T){T.schema.indexes.forEach(function(P){P.name&&(N["idb://".concat(i.name,"/").concat(T.name,"/").concat(P.name)]=new ot(-1/0,[[[]]]))}),N["idb://".concat(i.name,"/").concat(T.name,"/")]=N["idb://".concat(i.name,"/").concat(T.name,"/:dels")]=new ot(-1/0,[[[]]])}),_n(fi).fire(N),Rl(N,!0)),i})}function Il(i){function l(p){return i.next(p)}var u=f(l),c=f(function(p){return i.throw(p)});function f(p){return function(y){var y=p(y),_=y.value;return y.done?_:_&&typeof _.then=="function"?_.then(u,c):d(_)?Promise.all(_).then(u,c):u(_)}}return f(l)()}function Ao(i,l,u){for(var c=d(i)?i.slice():[i],f=0;f<u;++f)c.push(l);return c}var qh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(c){var u=i.table(c),c=u.schema,f={},p=[];function m(N,T,P){var R=pi(N),x=f[R]=f[R]||[],M=N==null?0:typeof N=="string"?1:N.length,b=0<T,R=r(r({},P),{name:b?"".concat(R,"(virtual-from:").concat(P.name,")"):P.name,lowLevelIndex:P,isVirtual:b,keyTail:T,keyLength:M,extractKey:Sl(N),unique:!b&&P.unique});return x.push(R),R.isPrimaryKey||p.push(R),1<M&&m(M===2?N[0]:N.slice(0,M-1),T+1,P),x.sort(function(z,K){return z.keyTail-K.keyTail}),R}var y=m(c.primaryKey.keyPath,0,c.primaryKey);f[":id"]=[y];for(var _=0,A=c.indexes;_<A.length;_++){var E=A[_];m(E.keyPath,0,E)}function S(N){var T,P=N.query.index;return P.isVirtual?r(r({},N),{query:{index:P.lowLevelIndex,range:(T=N.query.range,P=P.keyTail,{type:T.type===1?2:T.type,lower:Ao(T.lower,T.lowerOpen?i.MAX_KEY:i.MIN_KEY,P),lowerOpen:!0,upper:Ao(T.upper,T.upperOpen?i.MIN_KEY:i.MAX_KEY,P),upperOpen:!0})}}):N}return r(r({},u),{schema:r(r({},c),{primaryKey:y,indexes:p,getIndexByKeyPath:function(N){return(N=f[pi(N)])&&N[0]}}),count:function(N){return u.count(S(N))},query:function(N){return u.query(S(N))},openCursor:function(N){var T=N.query.index,P=T.keyTail,x=T.keyLength;return T.isVirtual?u.openCursor(S(N)).then(function(b){return b&&M(b)}):u.openCursor(N);function M(b){return Object.create(b,{continue:{value:function(R){R!=null?b.continue(Ao(R,N.reverse?i.MAX_KEY:i.MIN_KEY,P)):N.unique?b.continue(b.key.slice(0,x).concat(N.reverse?i.MIN_KEY:i.MAX_KEY,P)):b.continue()}},continuePrimaryKey:{value:function(R,z){b.continuePrimaryKey(Ao(R,i.MAX_KEY,P),z)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var R=b.key;return x===1?R[0]:R.slice(0,x)}},value:{get:function(){return b.value}}})}}})}})}};function Al(i,l,u,c){return u=u||{},c=c||"",a(i).forEach(function(f){var p,m,y;O(l,f)?(p=i[f],m=l[f],typeof p=="object"&&typeof m=="object"&&p&&m?(y=Ft(p))!==Ft(m)?u[c+f]=l[f]:y==="Object"?Al(p,m,u,c+f+"."):p!==m&&(u[c+f]=l[f]):p!==m&&(u[c+f]=l[f])):u[c+f]=void 0}),a(l).forEach(function(f){O(i,f)||(u[c+f]=l[f])}),u}function Ml(i,l){return l.type==="delete"?l.keys:l.keys||l.values.map(i.extractKey)}var Qh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(l){var u=i.table(l),c=u.schema.primaryKey;return r(r({},u),{mutate:function(f){var p=se.trans,m=p.table(l).hook,y=m.deleting,_=m.creating,A=m.updating;switch(f.type){case"add":if(_.fire===Ee)break;return p._promise("readwrite",function(){return E(f)},!0);case"put":if(_.fire===Ee&&A.fire===Ee)break;return p._promise("readwrite",function(){return E(f)},!0);case"delete":if(y.fire===Ee)break;return p._promise("readwrite",function(){return E(f)},!0);case"deleteRange":if(y.fire===Ee)break;return p._promise("readwrite",function(){return function S(N,T,P){return u.query({trans:N,values:!1,query:{index:c,range:T},limit:P}).then(function(x){var M=x.result;return E({type:"delete",keys:M,trans:N}).then(function(b){return 0<b.numFailures?Promise.reject(b.failures[0]):M.length<P?{failures:[],numFailures:0,lastResult:void 0}:S(N,r(r({},T),{lower:M[M.length-1],lowerOpen:!0}),P)})})}(f.trans,f.range,1e4)},!0)}return u.mutate(f);function E(S){var N,T,P,x=se.trans,M=S.keys||Ml(c,S);if(M)return(S=S.type==="add"||S.type==="put"?r(r({},S),{keys:M}):r({},S)).type!=="delete"&&(S.values=o([],S.values)),S.keys&&(S.keys=o([],S.keys)),N=u,P=M,((T=S).type==="add"?Promise.resolve([]):N.getMany({trans:T.trans,keys:P,cache:"immutable"})).then(function(b){var R=M.map(function(z,K){var Q,Y,H,re=b[K],te={onerror:null,onsuccess:null};return S.type==="delete"?y.fire.call(te,z,re,x):S.type==="add"||re===void 0?(Q=_.fire.call(te,z,S.values[K],x),z==null&&Q!=null&&(S.keys[K]=z=Q,c.outbound||q(S.values[K],c.keyPath,z))):(Q=Al(re,S.values[K]),(Y=A.fire.call(te,Q,z,re,x))&&(H=S.values[K],Object.keys(Y).forEach(function(W){O(H,W)?H[W]=Y[W]:q(H,W,Y[W])}))),te});return u.mutate(S).then(function(z){for(var K=z.failures,Q=z.results,Y=z.numFailures,z=z.lastResult,H=0;H<M.length;++H){var re=(Q||M)[H],te=R[H];re==null?te.onerror&&te.onerror(K[H]):te.onsuccess&&te.onsuccess(S.type==="put"&&b[H]?S.values[H]:re)}return{failures:K,results:Q,numFailures:Y,lastResult:z}}).catch(function(z){return R.forEach(function(K){return K.onerror&&K.onerror(z)}),Promise.reject(z)})});throw new Error("Keys missing")}}})}})}};function Rc(i,l,u){try{if(!l||l.keys.length<i.length)return null;for(var c=[],f=0,p=0;f<l.keys.length&&p<i.length;++f)me(l.keys[f],i[p])===0&&(c.push(u?Ce(l.values[f]):l.values[f]),++p);return c.length===i.length?c:null}catch{return null}}var Yh={stack:"dbcore",level:-1,create:function(i){return{table:function(l){var u=i.table(l);return r(r({},u),{getMany:function(c){var f;return c.cache?(f=Rc(c.keys,c.trans._cache,c.cache==="clone"))?ee.resolve(f):u.getMany(c).then(function(p){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?Ce(p):p},p}):u.getMany(c)},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),u.mutate(c)}})}}}};function Ic(i,l){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Ac(i,l){switch(i){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Gh={stack:"dbcore",level:0,name:"Observability",create:function(i){var l=i.schema.name,u=new ot(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(c,f,p){if(se.subscr&&f!=="readonly")throw new le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(se.querier));return i.transaction(c,f,p)},table:function(c){function f(M){var x,M=M.query;return[x=M.index,new ot((x=(M=M.range).lower)!=null?x:i.MIN_KEY,(x=M.upper)!=null?x:i.MAX_KEY)]}var p=i.table(c),m=p.schema,y=m.primaryKey,_=m.indexes,A=y.extractKey,E=y.outbound,S=y.autoIncrement&&_.filter(function(P){return P.compound&&P.keyPath.includes(y.keyPath)}),N=r(r({},p),{mutate:function(P){function x(ie){return ie="idb://".concat(l,"/").concat(c,"/").concat(ie),K[ie]||(K[ie]=new ot)}var M,b,R,z=P.trans,K=P.mutatedParts||(P.mutatedParts={}),Q=x(""),Y=x(":dels"),H=P.type,te=P.type==="deleteRange"?[P.range]:P.type==="delete"?[P.keys]:P.values.length<50?[Ml(y,P).filter(function(ie){return ie}),P.values]:[],re=te[0],te=te[1],W=P.trans._cache;return d(re)?(Q.addKeys(re),(H=H==="delete"||re.length===te.length?Rc(re,W):null)||Y.addKeys(re),(H||te)&&(M=x,b=H,R=te,m.indexes.forEach(function(ie){var ve=M(ie.name||"");function ke(pe){return pe!=null?ie.extractKey(pe):null}function ce(pe){ie.multiEntry&&d(pe)?pe.forEach(function(Ae){return ve.addKey(Ae)}):ve.addKey(pe)}(b||R).forEach(function(pe,Fe){var Rt=b&&ke(b[Fe]),Fe=R&&ke(R[Fe]);me(Rt,Fe)!==0&&(Rt!=null&&ce(Rt),Fe!=null)&&ce(Fe)})}))):re?(te={from:(W=re.lower)!=null?W:i.MIN_KEY,to:(H=re.upper)!=null?H:i.MAX_KEY},Y.add(te),Q.add(te)):(Q.add(u),Y.add(u),m.indexes.forEach(function(ie){return x(ie.name).add(u)})),p.mutate(P).then(function(ie){return!re||P.type!=="add"&&P.type!=="put"||(Q.addKeys(ie.results),S&&S.forEach(function(ve){for(var ke=P.values.map(function(Rt){return ve.extractKey(Rt)}),ce=ve.keyPath.findIndex(function(Rt){return Rt===y.keyPath}),pe=0,Ae=ie.results.length;pe<Ae;++pe)ke[pe][ce]=ie.results[pe];x(ve.name).addKeys(ke)})),z.mutatedParts=Ro(z.mutatedParts||{},K),ie})}}),T={get:function(P){return[y,new ot(P.key)]},getMany:function(P){return[y,new ot().addKeys(P.keys)]},count:f,query:f,openCursor:f};return a(T).forEach(function(P){N[P]=function(x){var M=se.subscr,b=!!M,R=Ic(se,p)&&Ac(P,x)?x.obsSet={}:M;if(b){var z,M=function(te){return te="idb://".concat(l,"/").concat(c,"/").concat(te),R[te]||(R[te]=new ot)},K=M(""),Q=M(":dels"),b=T[P](x),Y=b[0],b=b[1];if((P==="query"&&Y.isPrimaryKey&&!x.values?Q:M(Y.name||"")).add(b),!Y.isPrimaryKey){if(P!=="count")return z=P==="query"&&E&&x.values&&p.query(r(r({},x),{values:!1})),p[P].apply(this,arguments).then(function(te){if(P==="query"){if(E&&x.values)return z.then(function(ke){return ke=ke.result,K.addKeys(ke),te});var W=x.values?te.result.map(A):te.result;(x.values?K:Q).addKeys(W)}else{var ie,ve;if(P==="openCursor")return ve=x.values,(ie=te)&&Object.create(ie,{key:{get:function(){return Q.addKey(ie.primaryKey),ie.key}},primaryKey:{get:function(){var ke=ie.primaryKey;return Q.addKey(ke),ke}},value:{get:function(){return ve&&K.addKey(ie.primaryKey),ie.value}}})}return te});Q.add(u)}}return p[P].apply(this,arguments)}}),N}})}};function Mc(i,l,u){var c;return u.numFailures===0?l:l.type==="deleteRange"||(c=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1,u.numFailures===c)?null:(c=r({},l),d(c.keys)&&(c.keys=c.keys.filter(function(f,p){return!(p in u.failures)})),"values"in c&&d(c.values)&&(c.values=c.values.filter(function(f,p){return!(p in u.failures)})),c)}function bl(i,l){return u=i,((c=l).lower===void 0||(c.lowerOpen?0<me(u,c.lower):0<=me(u,c.lower)))&&(u=i,(c=l).upper===void 0||(c.upperOpen?me(u,c.upper)<0:me(u,c.upper)<=0));var u,c}function bc(i,l,u,c,f,p){var m,y,_,A,E,S;return!u||u.length===0||(m=l.query.index,y=m.multiEntry,_=l.query.range,A=c.schema.primaryKey.extractKey,E=m.extractKey,S=(m.lowLevelIndex||m).extractKey,(c=u.reduce(function(N,T){var P=N,x=[];if(T.type==="add"||T.type==="put")for(var M=new ot,b=T.values.length-1;0<=b;--b){var R,z=T.values[b],K=A(z);!M.hasKey(K)&&(R=E(z),y&&d(R)?R.some(function(te){return bl(te,_)}):bl(R,_))&&(M.addKey(K),x.push(z))}switch(T.type){case"add":var Q=new ot().addKeys(l.values?N.map(function(W){return A(W)}):N),P=N.concat(l.values?x.filter(function(W){return W=A(W),!Q.hasKey(W)&&(Q.addKey(W),!0)}):x.map(function(W){return A(W)}).filter(function(W){return!Q.hasKey(W)&&(Q.addKey(W),!0)}));break;case"put":var Y=new ot().addKeys(T.values.map(function(W){return A(W)}));P=N.filter(function(W){return!Y.hasKey(l.values?A(W):W)}).concat(l.values?x:x.map(function(W){return A(W)}));break;case"delete":var H=new ot().addKeys(T.keys);P=N.filter(function(W){return!H.hasKey(l.values?A(W):W)});break;case"deleteRange":var re=T.range;P=N.filter(function(W){return!bl(A(W),re)})}return P},i))===i)?i:(c.sort(function(N,T){return me(S(N),S(T))||me(A(N),A(T))}),l.limit&&l.limit<1/0&&(c.length>l.limit?c.length=l.limit:i.length===l.limit&&c.length<l.limit&&(f.dirty=!0)),p?Object.freeze(c):c)}function Dc(i,l){return me(i.lower,l.lower)===0&&me(i.upper,l.upper)===0&&!!i.lowerOpen==!!l.lowerOpen&&!!i.upperOpen==!!l.upperOpen}function Xh(i,l){return((u,c,f,p)=>{if(u===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((u=me(u,c))===0){if(f&&p)return 0;if(f)return 1;if(p)return-1}return u})(i.lower,l.lower,i.lowerOpen,l.lowerOpen)<=0&&0<=((u,c,f,p)=>{if(u===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((u=me(u,c))===0){if(f&&p)return 0;if(f)return-1;if(p)return 1}return u})(i.upper,l.upper,i.upperOpen,l.upperOpen)}function Zh(i,l,u,c){i.subscribers.add(u),c.addEventListener("abort",function(){var f,p;i.subscribers.delete(u),i.subscribers.size===0&&(f=i,p=l,setTimeout(function(){f.subscribers.size===0&&J(p,f)},3e3))})}var Jh={stack:"dbcore",level:0,name:"Cache",create:function(i){var l=i.schema.name;return r(r({},i),{transaction:function(u,c,f){var p,m,y=i.transaction(u,c,f);return c==="readwrite"&&(f=(p=new AbortController).signal,y.addEventListener("abort",(m=function(_){return function(){if(p.abort(),c==="readwrite"){for(var A=new Set,E=0,S=u;E<S.length;E++){var N=S[E],T=Xn["idb://".concat(l,"/").concat(N)];if(T){var P=i.table(N),x=T.optimisticOps.filter(function(ie){return ie.trans===y});if(y._explicit&&_&&y.mutatedParts)for(var M=0,b=Object.values(T.queries.query);M<b.length;M++)for(var R=0,z=(Y=b[M]).slice();R<z.length;R++)Tl((H=z[R]).obsSet,y.mutatedParts)&&(J(Y,H),H.subscribers.forEach(function(ie){return A.add(ie)}));else if(0<x.length){T.optimisticOps=T.optimisticOps.filter(function(ie){return ie.trans!==y});for(var K=0,Q=Object.values(T.queries.query);K<Q.length;K++)for(var Y,H,re,te=0,W=(Y=Q[K]).slice();te<W.length;te++)(H=W[te]).res!=null&&y.mutatedParts&&(_&&!H.dirty?(re=Object.isFrozen(H.res),re=bc(H.res,H.req,x,P,H,re),H.dirty?(J(Y,H),H.subscribers.forEach(function(ie){return A.add(ie)})):re!==H.res&&(H.res=re,H.promise=ee.resolve({result:re}))):(H.dirty&&J(Y,H),H.subscribers.forEach(function(ie){return A.add(ie)})))}}}A.forEach(function(ie){return ie()})}}})(!1),{signal:f}),y.addEventListener("error",m(!1),{signal:f}),y.addEventListener("complete",m(!0),{signal:f})),y},table:function(u){var c=i.table(u),f=c.schema.primaryKey;return r(r({},c),{mutate:function(p){var m,y=se.trans;return!f.outbound&&y.db._options.cache!=="disabled"&&!y.explicit&&y.idbtrans.mode==="readwrite"&&(m=Xn["idb://".concat(l,"/").concat(u)])?(y=c.mutate(p),p.type!=="add"&&p.type!=="put"||!(50<=p.values.length||Ml(f,p).some(function(_){return _==null}))?(m.optimisticOps.push(p),p.mutatedParts&&Io(p.mutatedParts),y.then(function(_){0<_.numFailures&&(J(m.optimisticOps,p),(_=Mc(0,p,_))&&m.optimisticOps.push(_),p.mutatedParts)&&Io(p.mutatedParts)}),y.catch(function(){J(m.optimisticOps,p),p.mutatedParts&&Io(p.mutatedParts)})):y.then(function(_){var A=Mc(0,r(r({},p),{values:p.values.map(function(E,S){var N;return _.failures[S]?E:(q(N=(N=f.keyPath)!=null&&N.includes(".")?Ce(E):r({},E),f.keyPath,_.results[S]),N)})}),_);m.optimisticOps.push(A),queueMicrotask(function(){return p.mutatedParts&&Io(p.mutatedParts)})}),y):c.mutate(p)},query:function(p){var m,y,_,A,E,S,N;return Ic(se,c)&&Ac("query",p)?(m=((_=se.trans)==null?void 0:_.db._options.cache)==="immutable",y=(_=se).requery,_=_.signal,S=((T,P,x,M)=>{var b=Xn["idb://".concat(T,"/").concat(P)];if(!b)return[];if(!(T=b.queries[x]))return[null,!1,b,null];var R=T[(M.query?M.query.index.name:null)||""];if(!R)return[null,!1,b,null];switch(x){case"query":var z=R.find(function(K){return K.req.limit===M.limit&&K.req.values===M.values&&Dc(K.req.query.range,M.query.range)});return z?[z,!0,b,R]:[R.find(function(K){return("limit"in K.req?K.req.limit:1/0)>=M.limit&&(!M.values||K.req.values)&&Xh(K.req.query.range,M.query.range)}),!1,b,R];case"count":return z=R.find(function(K){return Dc(K.req.query.range,M.query.range)}),[z,!!z,b,R]}})(l,u,"query",p),N=S[0],A=S[2],E=S[3],N&&S[1]?N.obsSet=p.obsSet:(S=c.query(p).then(function(T){var P=T.result;if(N&&(N.res=P),m){for(var x=0,M=P.length;x<M;++x)Object.freeze(P[x]);Object.freeze(P)}else T.result=Ce(P);return T}).catch(function(T){return E&&N&&J(E,N),Promise.reject(T)}),N={obsSet:p.obsSet,promise:S,subscribers:new Set,type:"query",req:p,dirty:!1},E?E.push(N):(E=[N],(A=A||(Xn["idb://".concat(l,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[p.query.index.name||""]=E)),Zh(N,E,y,_),N.promise.then(function(T){return{result:bc(T.result,p,A==null?void 0:A.optimisticOps,c,N,m)}})):c.query(p)}})}})}};function Mo(i,l){return new Proxy(i,{get:function(u,c,f){return c==="db"?l:Reflect.get(u,c,f)}})}Ke.prototype.version=function(i){if(isNaN(i)||i<.1)throw new le.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var l=this._versions,u=l.filter(function(c){return c._cfg.version===i})[0];return u||(u=new this.Version(i),l.push(u),l.sort(Uh),u.stores({}),this._state.autoSchema=!1),u},Ke.prototype._whenReady=function(i){var l=this;return this.idbdb&&(this._state.openComplete||se.letThrough||this._vip)?i():new ee(function(u,c){if(l._state.openComplete)return c(new le.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void c(new le.DatabaseClosed);l.open().catch(Ee)}l._state.dbReadyPromise.then(u,c)}).then(i)},Ke.prototype.use=function(f){var l=f.stack,u=f.create,c=f.level,f=f.name,p=(f&&this.unuse({stack:l,name:f}),this._middlewares[l]||(this._middlewares[l]=[]));return p.push({stack:l,create:u,level:c??10,name:f}),p.sort(function(m,y){return m.level-y.level}),this},Ke.prototype.unuse=function(i){var l=i.stack,u=i.name,c=i.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(f){return c?f.create!==c:!!u&&f.name!==u})),this},Ke.prototype.open=function(){var i=this;return Qn(gn,function(){return Wh(i)})},Ke.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,l=Sr.indexOf(this);if(0<=l&&Sr.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new ee(function(u){i.dbReadyResolve=u}),i.openCanceller=new ee(function(u,c){i.cancelOpen=c}))},Ke.prototype.close=function(l){var l=(l===void 0?{disableAutoOpen:!0}:l).disableAutoOpen,u=this._state;l?(u.isBeingOpened&&u.cancelOpen(new le.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new le.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Ke.prototype.delete=function(i){var l=this,u=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),c=this._state;return new ee(function(f,p){function m(){l.close(i);var y=l._deps.indexedDB.deleteDatabase(l.name);y.onsuccess=Re(function(){var _,A,E;_=l._deps,A=l.name,Pl(E=_.indexedDB)||A===wo||El(E,_.IDBKeyRange).delete(A).catch(Ee),f()}),y.onerror=Qt(p),y.onblocked=l._fireOnBlocked}if(u)throw new le.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(m):m()})},Ke.prototype.backendDB=function(){return this.idbdb},Ke.prototype.isOpen=function(){return this.idbdb!==null},Ke.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},Ke.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ke.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ke.prototype,"tables",{get:function(){var i=this;return a(this._allTables).map(function(l){return i._allTables[l]})},enumerable:!1,configurable:!0}),Ke.prototype.transaction=function(){var i=(function(l,u,c){var f=arguments.length;if(f<2)throw new le.InvalidArgument("Too few arguments");for(var p=new Array(f-1);--f;)p[f-1]=arguments[f];return c=p.pop(),[l,de(p),c]}).apply(this,arguments);return this._transaction.apply(this,i)},Ke.prototype._transaction=function(i,l,u){var c,f,p=this,m=se.trans,y=(m&&m.db===this&&i.indexOf("!")===-1||(m=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(f=l.map(function(A){if(A=A instanceof p.Table?A.name:A,typeof A!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return A}),i=="r"||i===pl)c=pl;else{if(i!="rw"&&i!=hl)throw new le.InvalidArgument("Invalid transaction mode: "+i);c=hl}if(m){if(m.mode===pl&&c===hl){if(!y)throw new le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&f.forEach(function(A){if(m&&m.storeNames.indexOf(A)===-1){if(!y)throw new le.SubTransaction("Table "+A+" not included in parent transaction.");m=null}}),y&&m&&!m.active&&(m=null)}}catch(A){return m?m._promise(null,function(E,S){S(A)}):Be(A)}var _=(function A(E,S,N,T,P){return ee.resolve().then(function(){var R=se.transless||se,x=E._createTransaction(S,N,E._dbSchema,T),R=(x.explicit=!0,{trans:x,transless:R});if(T)x.idbtrans=T.idbtrans;else try{x.create(),x.idbtrans._explicit=!0,E._state.PR1398_maxLoop=3}catch(z){return z.name===ri.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return A(E,S,N,null,P)})):Be(z)}var M,b=ge(P),R=(b&&wr(),ee.follow(function(){var z;(M=P.call(x,x))&&(b?(z=Sn.bind(null,null),M.then(z,z)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=Il(M)))},R));return(M&&typeof M.then=="function"?ee.resolve(M).then(function(z){return x.active?z:Be(new le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return M})).then(function(z){return T&&x._resolve(),x._completion.then(function(){return z})}).catch(function(z){return x._reject(z),Be(z)})})}).bind(null,this,c,f,m,u);return m?m._promise(c,_,"lock"):se.trans?Qn(se.transless,function(){return p._whenReady(_)}):this._whenReady(_)},Ke.prototype.table=function(i){if(O(this._allTables,i))return this._allTables[i];throw new le.InvalidTable("Table ".concat(i," does not exist"))};var on=Ke;function Ke(i,l){var u,c,f,p,m,y=this,_=(this._middlewares={},this.verno=0,Ke.dependencies),_=(this._options=l=r({addons:Ke.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},l.addons),A=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen}),E=(A.dbReadyPromise=new ee(function(S){A.dbReadyResolve=S}),A.openCanceller=new ee(function(S,N){A.cancelOpen=N}),this._state=A,this.name=i,this.on=ui(this,"populate","blocked","versionchange","close",{ready:[oi,Ee]}),this.once=function(S,N){var T=function(){for(var P=[],x=0;x<arguments.length;x++)P[x]=arguments[x];y.on(S).unsubscribe(T),N.apply(y,P)};return y.on(S,T)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(S){return function(N,T){Ke.vip(function(){var P,x=y._state;x.openComplete?(x.dbOpenError||ee.resolve().then(N),T&&S(N)):x.onReadyBeingFired?(x.onReadyBeingFired.push(N),T&&S(N)):(S(N),P=y,T||S(function M(){P.on.ready.unsubscribe(N),P.on.ready.unsubscribe(M)}))})}}),this.Collection=(u=this,ai(bh.prototype,function(M,x){this.db=u;var T=fc,P=null;if(x)try{T=x()}catch(R){P=R}var x=M._ctx,M=x.table,b=M.hook.reading.fire;this._ctx={table:M,index:x.index,isPrimKey:!x.index||M.schema.primKey.keyPath&&x.index===M.schema.primKey.name,range:T,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:x.or,valueMapper:b!==vn?b:null}})),this.Table=(c=this,ai(vc.prototype,function(S,N,T){this.db=c,this._tx=T,this.name=S,this.schema=N,this.hook=c._allTables[S]?c._allTables[S].hook:ui(null,{creating:[nl,Ee],reading:[tl,vn],updating:[il,Ee],deleting:[rl,Ee]})})),this.Transaction=(f=this,ai(Fh.prototype,function(S,N,T,P,x){var M=this;S!=="readonly"&&N.forEach(function(b){b=(b=T[b])==null?void 0:b.yProps,b&&(N=N.concat(b.map(function(R){return R.updatesTable})))}),this.db=f,this.mode=S,this.storeNames=N,this.schema=T,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=ui(this,"complete","error","abort"),this.parent=x||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ee(function(b,R){M._resolve=b,M._reject=R}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(b){var R=M.active;return M.active=!1,M.on.error.fire(b),M.parent?M.parent._reject(b):R&&M.idbtrans&&M.idbtrans.abort(),Be(b)})})),this.Version=(p=this,ai($h.prototype,function(S){this.db=p,this._cfg={version:S,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(m=this,ai(xc.prototype,function(S,N,T){if(this.db=m,this._ctx={table:S,index:N===":id"?null:N,or:T},this._cmp=this._ascending=me,this._descending=function(P,x){return me(x,P)},this._max=function(P,x){return 0<me(P,x)?P:x},this._min=function(P,x){return me(P,x)<0?P:x},this._IDBKeyRange=m._deps.IDBKeyRange,!this._IDBKeyRange)throw new le.MissingAPI})),this.on("versionchange",function(S){0<S.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(S){!S.newVersion||S.newVersion<S.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(S.oldVersion/10))}),this._maxKey=di(l.IDBKeyRange),this._createTransaction=function(S,N,T,P){return new y.Transaction(S,N,T,y._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(S){y.on("blocked").fire(S),Sr.filter(function(N){return N.name===y.name&&N!==y&&!N._state.vcFired}).map(function(N){return N.on("versionchange").fire(S)})},this.use(Yh),this.use(Jh),this.use(Gh),this.use(qh),this.use(Qh),new Proxy(this,{get:function(S,N,T){var P;return N==="_vip"||(N==="table"?function(x){return Mo(y.table(x),E)}:(P=Reflect.get(S,N,T))instanceof vc?Mo(P,E):N==="tables"?P.map(function(x){return Mo(x,E)}):N==="_createTransaction"?function(){return Mo(P.apply(this,arguments),E)}:P)}}));this.vip=E,_.forEach(function(S){return S(y)})}var bo,Er=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",em=(Dl.prototype.subscribe=function(i,l,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:l,complete:u})},Dl.prototype[Er]=function(){return this},Dl);function Dl(i){this._subscribe=i}try{bo={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{bo={indexedDB:null,IDBKeyRange:null}}function Lc(i){var l,u=!1,c=new em(function(f){var p=ge(i),m,y=!1,_={},A={},E={get closed(){return y},unsubscribe:function(){y||(y=!0,m&&m.abort(),S&&_n.storagemutated.unsubscribe(T))}},S=(f.start&&f.start(E),!1),N=function(){return dl(P)},T=function(x){Ro(_,x),Tl(A,_)&&N()},P=function(){var x,M,b;!y&&bo.indexedDB&&(_={},x={},m&&m.abort(),m=new AbortController,b=(R=>{var z=vr();try{p&&wr();var K=wn(i,R);return K=p?K.finally(Sn):K}finally{z&&gr()}})(M={subscr:x,signal:m.signal,requery:N,querier:i,trans:null}),Promise.resolve(b).then(function(R){u=!0,l=R,y||M.signal.aborted||(_={},(z=>{for(var K in z)if(O(z,K))return;return 1})(A=x)||S||(_n(fi,T),S=!0),dl(function(){return!y&&f.next&&f.next(R)}))},function(R){u=!1,["DatabaseClosedError","AbortError"].includes(R==null?void 0:R.name)||y||dl(function(){y||f.error&&f.error(R)})}))};return setTimeout(N,0),E});return c.hasValue=function(){return u},c.getValue=function(){return l},c}var Zn=on;function Ll(i){var l=En;try{En=!0,_n.storagemutated.fire(i),Rl(i,!0)}finally{En=l}}I(Zn,r(r({},ye),{delete:function(i){return new Zn(i,{addons:[]}).delete()},exists:function(i){return new Zn(i,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return l=Zn.dependencies,u=l.indexedDB,l=l.IDBKeyRange,(Pl(u)?Promise.resolve(u.databases()).then(function(c){return c.map(function(f){return f.name}).filter(function(f){return f!==wo})}):El(u,l).toCollection().primaryKeys()).then(i)}catch{return Be(new le.MissingAPI)}var l,u},defineClass:function(){return function(i){h(this,i)}},ignoreTransaction:function(i){return se.trans?Qn(se.transless,i):i()},vip:Cl,async:function(i){return function(){try{var l=Il(i.apply(this,arguments));return l&&typeof l.then=="function"?l:ee.resolve(l)}catch(u){return Be(u)}}},spawn:function(i,l,u){try{var c=Il(i.apply(u,l||[]));return c&&typeof c.then=="function"?c:ee.resolve(c)}catch(f){return Be(f)}},currentTransaction:{get:function(){return se.trans||null}},waitFor:function(i,l){return i=ee.resolve(typeof i=="function"?Zn.ignoreTransaction(i):i).timeout(l||6e4),se.trans?se.trans.waitFor(i):i},Promise:ee,debug:{get:function(){return jt},set:function(i){uo(i)}},derive:B,extend:h,props:I,override:k,Events:ui,on:_n,liveQuery:Lc,extendObservabilitySet:Ro,getByKeyPath:X,setByKeyPath:q,delByKeyPath:function(i,l){typeof l=="string"?q(i,l,void 0):"length"in l&&[].map.call(l,function(u){q(i,u,void 0)})},shallowClone:ne,deepClone:Ce,getObjectDiff:Al,cmp:me,asap:Z,minKey:-1/0,addons:[],connections:Sr,errnames:ri,dependencies:bo,cache:Xn,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,l,u){return i+l/Math.pow(10,2*u)})})),Zn.maxKey=di(Zn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(_n(fi,function(i){En||(i=new CustomEvent(vl,{detail:i}),En=!0,dispatchEvent(i),En=!1)}),addEventListener(vl,function(i){i=i.detail,En||Ll(i)}));var Pr,En=!1,Fc=function(){};return typeof BroadcastChannel<"u"&&((Fc=function(){(Pr=new BroadcastChannel(vl)).onmessage=function(i){return i.data&&Ll(i.data)}})(),typeof Pr.unref=="function"&&Pr.unref(),_n(fi,function(i){En||Pr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!on.disableBfCache&&i.persisted){jt&&console.debug("Dexie: handling persisted pagehide"),Pr!=null&&Pr.close();for(var l=0,u=Sr;l<u.length;l++)u[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!on.disableBfCache&&i.persisted&&(jt&&console.debug("Dexie: handling persisted pageshow"),Fc(),Ll({all:new ot(-1/0,[[]])}))})),ee.rejectionMapper=function(i,l){return!i||i instanceof $e||i instanceof TypeError||i instanceof SyntaxError||!i.name||!ii[i.name]?i:(l=new ii[i.name](l||i.message,i),"stack"in i&&D(l,"stack",{get:function(){return this.inner.stack}}),l)},uo(jt),r(on,Object.freeze({__proto__:null,Dexie:on,Entity:dc,PropModification:li,RangeSet:ot,add:function(i){return new li({add:i})},cmp:me,default:on,liveQuery:Lc,mergeRanges:mi,rangesOverlap:Nc,remove:function(i){return new li({remove:i})},replacePrefix:function(i,l){return new li({replacePrefix:[i,l]})}}),{default:on}),on})})(wh);var bv=wh.exports;const sa=od(bv),Xf=Symbol.for("Dexie"),Ls=globalThis[Xf]||(globalThis[Xf]=sa);if(sa.semVer!==Ls.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${sa.semVer} and ${Ls.semVer}`);const{liveQuery:a0,mergeRanges:c0,rangesOverlap:f0,RangeSet:d0,cmp:p0,Entity:h0,PropModification:m0,replacePrefix:y0,add:v0,remove:g0,DexieYProvider:w0}=Ls;class Sh extends Ls{constructor(){super("sexmetrics"),this.version(1).stores({sessions:"id, createdAt, status",events:"id, sessionId, t, type",signals:"id, sessionId, t, type",metrics:"id, sessionId, key"})}}const We=new Sh,Dv=["audio","transcript","pcm","wave","wav","mp3","ogg","flac","text"];function el(e,t){const n=new Set,r=(o,s)=>{if(!(!o||typeof o!="object")&&!n.has(o)){if(n.add(o),Array.isArray(o)){for(let a=0;a<o.length;a+=1)r(o[a],`${s}[${a}]`);return}for(const[a,d]of Object.entries(o)){if(Dv.includes(a)){const h=s?`${s}.${a}`:a;throw new Error(`Forbidden persistence key "${a}" detected in ${t} at ${h}.`)}r(d,s?`${s}.${a}`:a)}}};r(e,"")}function hr(){return Date.now()}async function kh(e){const t={...e,schemaVersion:lo,updatedAt:hr()};return el(t,"session"),await We.sessions.put(t),t}async function xh(){return We.sessions.where("status").anyOf(["active","paused"]).last()}async function la(e=50){return We.sessions.orderBy("createdAt").reverse().limit(e).toArray()}async function _h(e){const t={...e,schemaVersion:lo,createdAt:hr(),updatedAt:hr()};return el(t,"event"),await We.events.put(t),t}async function ic(e){return We.events.where("sessionId").equals(e).sortBy("t")}async function Eh(e){const t={...e,schemaVersion:lo,createdAt:hr(),updatedAt:hr()};return el(t,"signal"),await We.signals.put(t),t}async function Ph(e){return We.signals.where("sessionId").equals(e).sortBy("t")}async function Ch(e){const t={...e,schemaVersion:lo,createdAt:hr(),updatedAt:hr()};return el(t,"metric"),await We.metrics.put(t),t}async function oc(e){const t=await We.sessions.get(e);if(!t)return null;const n=await ic(e),r=await Ph(e),o=await We.metrics.where("sessionId").equals(e).toArray();return{session:t,events:n,signals:r,metrics:o}}async function Nh(e){await We.transaction("rw",We.sessions,We.events,We.signals,We.metrics,async()=>{await We.events.where("sessionId").equals(e).delete(),await We.signals.where("sessionId").equals(e).delete(),await We.metrics.where("sessionId").equals(e).delete(),await We.sessions.delete(e)})}const Lv=Object.freeze(Object.defineProperty({__proto__:null,SCHEMA_VERSION:lo,SexMetricsDB:Sh,addEvent:_h,addMetric:Ch,addSignal:Eh,db:We,deleteSession:Nh,exportSession:oc,getActiveSession:xh,getEventsForSession:ic,getSignalsForSession:Ph,listSessions:la,upsertSession:kh},Symbol.toStringTag,{value:"Module"})),Fv={status:"idle",totalPausedMs:0};function zv(e){return{status:"active",startedAt:e,totalPausedMs:0}}function Bv(e,t){return e.status!=="active"||!e.startedAt?e:{...e,status:"paused",pausedAt:t}}function Kv(e,t){if(e.status!=="paused"||!e.pausedAt)return e;const n=t-e.pausedAt;return{...e,status:"active",pausedAt:void 0,totalPausedMs:e.totalPausedMs+n}}function Uv(e,t){if(!e.startedAt)return e;let n=e.totalPausedMs;return e.status==="paused"&&e.pausedAt&&(n+=t-e.pausedAt),{...e,status:"ended",endedAt:t,pausedAt:void 0,totalPausedMs:n}}function Tr(e,t){return e.startedAt?e.status==="paused"&&e.pausedAt?e.pausedAt-e.startedAt-e.totalPausedMs:(e.status==="ended"&&e.endedAt?e.endedAt:t)-e.startedAt-e.totalPausedMs:0}class Hv{constructor(){this.listeners=new Set}emit(t){const n=typeof t=="string"?{type:t}:t;for(const r of this.listeners)r(n)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}}const nr=new Hv,ds={...Fv};function rr(){return Date.now()}function Zf(e){return Math.max(0,e/1e3)}function Vv(e){return Tr(e,rr())}async function $v(){const e=await xh();return e?{status:e.status,sessionId:e.id,startedAt:e.createdAt,pausedAt:e.pausedAt,endedAt:e.endedAt,totalPausedMs:e.totalPausedMs,label:e.label,rating:e.rating}:ds}async function Wv(e){return(await ic(e)).map(n=>({id:n.id,sessionId:n.sessionId,t:n.t,type:n.type,source:n.source,confidence:n.confidence,payload:n.payload}))}function qv(e){const[t,n]=$.useState(ds),[r,o]=$.useState([]),[s,a]=$.useState(0);$.useEffect(()=>{let k=!0;return $v().then(F=>{k&&(n(F),F.sessionId&&Wv(F.sessionId).then(Z=>{k&&o(Z)}))}),()=>{k=!1}},[]),$.useEffect(()=>{t.sessionId&&kh({id:t.sessionId,createdAt:t.startedAt??Date.now(),endedAt:t.endedAt,engineVersion:(e==null?void 0:e.engineVersion)??"v1",settingsSnapshot:{inferenceVersion:(e==null?void 0:e.inferenceVersion)??"v1",asrModelId:e==null?void 0:e.asrModelId,asrModelUrl:e==null?void 0:e.asrModelUrl,speechEnabled:(e==null?void 0:e.speechEnabled)??!1,motionEnabled:(e==null?void 0:e.motionEnabled)??!1},label:t.label,rating:t.rating,status:t.status,pausedAt:t.pausedAt,totalPausedMs:t.totalPausedMs}).catch(()=>{})},[t,e]),$.useEffect(()=>{if(t.status==="active"){const k=window.setInterval(()=>a(F=>F+1),500);return()=>window.clearInterval(k)}},[t.status]);const d=$.useMemo(()=>Zf(Vv(t)),[t,s]),h=(k,F,Z)=>{const X=typeof k=="string"?{type:k}:k,q=Z??t.sessionId;if(!q)return;const ne={id:crypto.randomUUID(),sessionId:q,t:Zf(F),type:X.type,source:"user",confidence:X.confidence??1,payload:X.payload};o(_e=>[..._e,ne]),_h({id:ne.id,sessionId:ne.sessionId,t:ne.t,type:ne.type,source:ne.source,confidence:ne.confidence,payload:ne.payload}).catch(()=>{})},v=()=>{const k=crypto.randomUUID(),F=rr(),X={...zv(F),sessionId:k};n(X),h("SESSION_START",0,k)},C=()=>{if(t.status!=="active"||!t.startedAt)return;const k=rr(),F=Tr(t,k);n(Bv(t,k)),h("SESSION_PAUSE",F)},O=()=>{if(t.status!=="paused"||!t.pausedAt)return;const k=rr(),F=Tr(t,k);n(Kv(t,k)),h("SESSION_RESUME",F)},I=()=>{if(t.status==="idle"||!t.startedAt)return;const k=rr(),F=Tr(t,k);n(Uv(t,k)),h("SESSION_END",F)},L=()=>{n(ds),o([])},D=async()=>{t.sessionId&&(await Nh(t.sessionId),n(ds),o([]))},B=async()=>t.sessionId?oc(t.sessionId):null,G=k=>{t.sessionId&&n(F=>({...F,label:k.label??F.label,rating:k.rating??F.rating}))},j=r.length?r[r.length-1].type:null,g=()=>t.status==="idle"||!t.startedAt?0:Tr(t,rr())/1e3;return $.useEffect(()=>nr.subscribe(k=>{if(t.status==="idle"||!t.startedAt)return;const F=Tr(t,rr());h(k,F)}),[t]),{state:t,events:r,lastEventType:j,elapsedSeconds:d,startSession:v,pauseSession:C,resumeSession:O,endSession:I,resetSession:L,getElapsedNow:g,hardDeleteSession:D,exportSessionData:B,sessionReview:{label:t.label,rating:t.rating},setSessionReview:G}}function Jo(e){const t=Math.max(0,Math.floor(e)),n=Math.floor(t/60),r=t%60;return`${n}:${r.toString().padStart(2,"0")}`}async function Qv(e={}){const t=await navigator.mediaDevices.getUserMedia({audio:!0}),n=new AudioContext,r=n.createMediaStreamSource(t),o=n.createScriptProcessor(2048,1,1);return o.onaudioprocess=s=>{var d;const a=s.inputBuffer.getChannelData(0);(d=e.onAudioFrame)==null||d.call(e,new Float32Array(a),n.sampleRate)},r.connect(o),o.connect(n.destination),{stream:t,context:n,source:r,processor:o,sampleRate:n.sampleRate}}async function Yv(e){var t,n,r,o,s;(t=e.processor)==null||t.disconnect(),(n=e.source)==null||n.disconnect(),(r=e.stream)==null||r.getTracks().forEach(a=>a.stop()),((o=e.context)==null?void 0:o.state)!=="closed"&&await((s=e.context)==null?void 0:s.close())}function Gv(e,t){const n=Math.max(1,Math.floor(e*t));return{capacity:n,sampleRate:t,data:new Float32Array(n),writeIndex:0,filled:!1}}function Xv(e,t){const n=t.length;for(let r=0;r<n;r+=1)e.data[e.writeIndex]=t[r],e.writeIndex=(e.writeIndex+1)%e.capacity,e.writeIndex===0&&(e.filled=!0)}function Zv(e){e.data.fill(0),e.writeIndex=0,e.filled=!1}function Jv(e){if(!e.filled&&e.writeIndex===0)return e.data.slice(0,0);if(!e.filled)return e.data.slice(0,e.writeIndex);const t=new Float32Array(e.capacity);return t.set(e.data.subarray(e.writeIndex)),t.set(e.data.subarray(0,e.writeIndex),e.capacity-e.writeIndex),t}const eg={active:!1,permission:"unknown",supported:typeof window<"u"&&typeof DeviceMotionEvent<"u",magnitude:0};function tg(e,t,n){const r=e??0,o=t??0,s=n??0;return Math.sqrt(r*r+o*o+s*s)}async function ng(){if(typeof DeviceMotionEvent>"u")return"denied";const e=DeviceMotionEvent.requestPermission;if(typeof e!="function")return"granted";try{return await e()==="granted"?"granted":"denied"}catch{return"denied"}}function Jf(){return{...eg}}function rg(e,t={}){if(!e.supported||e.active)return;const n=r=>{var d;const o=r.acceleration??r.accelerationIncludingGravity,s=tg(o==null?void 0:o.x,o==null?void 0:o.y,o==null?void 0:o.z),a=r.timeStamp||Date.now();e.lastUpdate&&a-e.lastUpdate<100||(e.magnitude=s,e.lastUpdate=a,(d=t.onSample)==null||d.call(t,s))};return window.addEventListener("devicemotion",n),e.active=!0,()=>{window.removeEventListener("devicemotion",n),e.active=!1}}function fu(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n+=1){const r=e[n];t+=r*r}return Math.sqrt(t/e.length)}function ig(e,t){return e<=t}function og(e,t,n=30,r=180){if(e.length<6||t<=0)return{strength:0};const o=e.reduce((I,L)=>I+L,0)/e.length,s=e.map(I=>I-o),a=s.reduce((I,L)=>I+L*L,0);if(a===0)return{strength:0};const d=Math.max(1,Math.floor(60*t/r)),h=Math.min(e.length-2,Math.ceil(60*t/n));if(h<=d)return{strength:0};let v=d,C=0;for(let I=d;I<=h;I+=1){let L=0;for(let D=I;D<s.length;D+=1)L+=s[D]*s[D-I];L/=a,L>C&&(C=L,v=I)}const O=60*t/v;return{strength:Math.max(0,Math.min(1,C)),bpm:Number.isFinite(O)?O:void 0}}function sg(){const[e,t]=$.useState(!1),[n,r]=$.useState(0),o=$.useRef(null),s=$.useRef(null),a=$.useRef(null),d=$.useRef(null),h=$.useCallback(async()=>{var I;if(o.current)return;if(!((I=navigator.mediaDevices)!=null&&I.getUserMedia))throw new Error("Microphone API unavailable. Use HTTPS or install the PWA.");const O=await Qv({onAudioFrame:(L,D)=>{s.current||(s.current=Gv(10,D),a.current=D),Xv(s.current,L)}});o.current=O,t(!0),d.current&&window.clearInterval(d.current),d.current=window.setInterval(()=>{const L=s.current;if(!L)return;const D=Math.min(2048,L.capacity),B=L.writeIndex,G=Math.max(0,B-D);if(!L.filled&&B===0){r(0);return}if(G<B){const g=L.data.subarray(G,B);r(fu(g));return}if(L.filled){const g=L.data.subarray(G),k=L.data.subarray(0,B),F=new Float32Array(g.length+k.length);F.set(g),F.set(k,g.length),r(fu(F));return}const j=L.data.subarray(0,B);r(fu(j))},500)},[]),v=$.useCallback(async()=>{o.current&&(await Yv(o.current),o.current=null,t(!1),s.current&&Zv(s.current),a.current=null,d.current&&(window.clearInterval(d.current),d.current=null))},[]),C=$.useCallback(()=>!s.current||!a.current?null:{samples:Jv(s.current),sampleRate:a.current},[]);return{active:e,rms:n,start:h,stop:v,getWindow:C}}const lg=.01,ug=2,ag=4e3,cg=.35;function fg(e,t){const[n,r]=$.useState({silenceActive:!1,silenceSeconds:0,rhythm:{active:!1,strength:0}}),o=$.useRef(null),s=$.useRef([]);return $.useEffect(()=>{if(!t){o.current=null,s.current=[],r({silenceActive:!1,silenceSeconds:0,rhythm:{active:!1,strength:0}});return}const a=Date.now();if(ig(e,lg)){o.current||(o.current=a);const C=(a-o.current)/1e3;r(O=>({...O,silenceActive:C>=ug,silenceSeconds:C}))}else o.current=null,r(C=>({...C,silenceActive:!1,silenceSeconds:0}));s.current.push({t:a,v:e});const d=a-ag;s.current=s.current.filter(C=>C.t>=d);const h=s.current;let v=0;if(h.length>=4){const C=(h[h.length-1].t-h[0].t)/1e3,O=C>0?(h.length-1)/C:0,I=h.map(L=>L.v);v=og(I,O).strength}r(C=>({...C,rhythm:{active:v>=cg,strength:v}}))},[e,t]),$.useMemo(()=>n,[n])}function dg(){let e="none",t="idle",n=null,r=null;const o=4e3,s=4e3;return{update:({status:h,rhythmActive:v,nowMs:C})=>{const O=[];return h==="active"&&t!=="active"&&e==="none"&&(e="foreplay",O.push("PHASE_START_FOREPLAY")),h==="ended"&&t!=="ended"&&e!=="cooldown"&&(e="cooldown",O.push("PHASE_START_COOLDOWN")),h==="active"&&(v?(n||(n=C),r=null,e==="foreplay"&&C-n>=o&&(e="intercourse",O.push("PHASE_END_FOREPLAY","PHASE_START_INTERCOURSE"))):(r||(r=C),n=null,e==="intercourse"&&C-r>=s&&(e="cooldown",O.push("PHASE_START_COOLDOWN")))),t=h,O},reset:()=>{e="none",t="idle",n=null,r=null}}}function pg(){let e=0,t=null,n=0,r=0;const o=8e3,s=.35;return{update:({status:h,events:v,rhythmActive:C,rhythmStrength:O,nowMs:I})=>{const L=[];if(h!=="active")return L;const D=v.slice(e);for(const G of D)G.type==="POSITION_CHANGE_REQUEST"&&L.push("POSITION_CHANGE");return e=v.length,t===null?(t=C,n=O,L):(t&&!C&&L.push("POSITION_CHANGE"),t=C,Math.abs(O-n)>=s&&I-r>o&&(L.push("POSITION_CHANGE"),r=I),n=O,L)},reset:()=>{e=0,t=null,n=0,r=0}}}function hg(){let e=null,t=0,n=0;return{update:({status:s,rms:a,rhythmStrength:d,silenceActive:h,nowMs:v})=>{const C=[];if(s!=="active")return C;const O=a-n;if(n=a,O>.02&&a>.05&&d>.4&&(e=v),e&&h&&v-e<12e3&&v-t>6e4){t=v,e=null;const D=Math.min(1,Math.max(0,(a-.05)/.2)),B=Math.min(1,.4+d*.4+D*.2);C.push({type:"ORGASM_EVENT",confidence:B})}return C},reset:()=>{e=null,t=0,n=0}}}function mg(e,t,n){const r=$.useRef(dg());$.useEffect(()=>{const o=r.current.update({status:e,rhythmActive:t,nowMs:Date.now()});for(const s of o)n(s)},[e,t,n])}function yg(e,t,n,r,o){const s=$.useRef(pg());$.useEffect(()=>{const a=s.current.update({status:e,events:t,rhythmActive:n,rhythmStrength:r,nowMs:Date.now()});for(const d of a)o(d)},[t,n,e,o])}function vg(e,t,n,r,o){const s=$.useRef(hg());$.useEffect(()=>{const a=s.current.update({status:e,rms:t,rhythmStrength:n,silenceActive:r,nowMs:Date.now()});for(const d of a)o(d)},[e,t,n,r,o])}const gg=[{type:"STOP",minScore:1.2,patterns:[{regex:/\bstop\b/i,weight:1.4},{regex:/\bwait\b/i,weight:1},{regex:/\bhold on\b/i,weight:1.2},{regex:/\bno\b/i,weight:.6},{regex:/\bdon'?t\b/i,weight:1.1}]},{type:"GO",minScore:1.1,patterns:[{regex:/\bgo\b/i,weight:.8},{regex:/\bkeep going\b/i,weight:1.4},{regex:/\bcontinue\b/i,weight:1.1},{regex:/\bmore\b/i,weight:.7}]},{type:"POSITIVE_FEEDBACK",minScore:1.1,patterns:[{regex:/\byes\b/i,weight:.7},{regex:/\bgood\b/i,weight:.7},{regex:/\bthat feels good\b/i,weight:1.5},{regex:/\blike that\b/i,weight:1.2},{regex:/\bright there\b/i,weight:1}]},{type:"NEGATIVE_FEEDBACK",minScore:1.1,patterns:[{regex:/\bnope\b/i,weight:1},{regex:/\bnot that\b/i,weight:1.2},{regex:/\btoo much\b/i,weight:1.1},{regex:/\bdon'?t\b/i,weight:.8}]},{type:"POSITION_CHANGE_REQUEST",minScore:1.1,patterns:[{regex:/\bswitch\b/i,weight:1},{regex:/\bchange position\b/i,weight:1.4},{regex:/\bturn around\b/i,weight:1.3},{regex:/\bnew position\b/i,weight:1.1}]},{type:"PACE_CHANGE_REQUEST",minScore:1.1,patterns:[{regex:/\bslower\b/i,weight:1.2},{regex:/\bfaster\b/i,weight:1.2},{regex:/\bgentle\b/i,weight:.9},{regex:/\bsofter\b/i,weight:.9}]}];function wg(e){return e.toLowerCase().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim()}function Sg(e){const t=[],n=wg(e);if(!n)return t;for(const r of gg){let o=0,s=0;for(const a of r.patterns)s+=a.weight,a.regex.test(n)&&(o+=a.weight);o>=r.minScore&&t.push({type:r.type,confidence:Math.min(1,o/Math.max(1,s))})}return t}function kg(e,t,n){return t-e>=n.stepSeconds*1e3}class xg{constructor(){this.modelReady=!1}async init(t){this.worker||(this.worker=new Worker(new URL(""+new URL("whisper.worker-C_ypNrsC.js",import.meta.url).href,import.meta.url),{type:"module"}),await new Promise((n,r)=>{if(!this.worker)return r(new Error("Worker missing."));this.worker.onmessage=o=>{var s,a,d,h,v,C;if(((s=o.data)==null?void 0:s.type)==="ready"&&(this.modelReady=!0,n()),((a=o.data)==null?void 0:a.type)==="error"){const O=new Error(((d=o.data.payload)==null?void 0:d.message)??"Whisper init failed.");(h=this.pendingError)==null||h.call(this,O),this.pending=void 0,this.pendingError=void 0,r(O)}((v=o.data)==null?void 0:v.type)==="result"&&((C=this.pending)==null||C.call(this,o.data.payload),this.pending=void 0,this.pendingError=void 0)},this.worker.onerror=()=>r(new Error("Whisper worker crashed.")),this.worker.postMessage({type:"init",payload:{modelUrl:t}})}))}async transcribe(t,n){if(!this.modelReady)throw new Error("Whisper model not initialized.");if(!this.worker)throw new Error("Whisper worker missing.");return new Promise((r,o)=>{var s;this.pending=r,this.pendingError=o,(s=this.worker)==null||s.postMessage({type:"transcribe",payload:{audio:t,sampleRate:n}})})}async dispose(){var t;this.modelReady=!1,(t=this.worker)==null||t.terminate(),this.worker=void 0}}const _g=10,Eg=2.5,Pg=6,Cg=4,Ng=.015;function Tg(){const e=navigator.deviceMemory,t=navigator.hardwareConcurrency??4,n=navigator.userAgent??"",r=/Android|iPhone|iPad|iPod/i.test(n),o=navigator.connection,s=(o==null?void 0:o.saveData)??!1,a=r||(e?e<=4:!1)||t<=4||s;return{lowPower:a,windowSeconds:a?Pg:_g,stepSeconds:a?Cg:Eg}}function jg(e,t,n,r,o,s,a){const[d,h]=$.useState({ready:!1,lastTranscript:"",events:[]}),v=$.useRef(Tg()),C=$.useRef(null),O=$.useRef(0),I=$.useRef(!1),L=$.useRef({});$.useEffect(()=>{let G=!0;return(async()=>{try{if(!e||!o)return;C.current||(C.current=new xg),await C.current.init(s),G&&h(g=>({...g,ready:!0}))}catch(g){if(!G)return;const k=g instanceof Error?g.message:"ASR init failed.";h(F=>({...F,error:k}))}})(),()=>{G=!1}},[e,o,s]),$.useEffect(()=>{e||C.current&&(C.current.dispose().catch(()=>{}),C.current=null,h(G=>({...G,ready:!1})))},[e]);const D=$.useCallback(async()=>{if(!C.current)return;const G=r();if(!(!G||G.samples.length===0))try{const j=await C.current.transcribe(G.samples,G.sampleRate),g=Date.now(),k=Sg(j.text),F=v.current.windowSeconds*1e3,Z=[];for(const X of k){const q=L.current[X.type]??0;g-q<F||(L.current[X.type]=g,Z.push(X.type))}h({ready:!0,lastTranscript:"",events:Z})}catch(j){const g=j instanceof Error?j.message:"ASR failed.";h(k=>({...k,error:g}))}},[r]);$.useEffect(()=>{if(!e||!t)return;const G=Date.now(),j=I.current&&!a;I.current=a,!(!kg(O.current,G,{windowSeconds:v.current.windowSeconds,stepSeconds:v.current.stepSeconds})&&!j)&&(v.current.lowPower&&document.visibilityState!=="visible"||n<Ng&&!j||(O.current=G,D()))},[e,t,n,a,D]);const B=$.useCallback(()=>{h(G=>({...G,events:[]}))},[]);return $.useMemo(()=>({...d,clearEvents:B}),[d,B])}const ua="sm-models-v1";function aa(){return typeof caches<"u"}async function Og(e){return aa()?!!await(await caches.open(ua)).match(e):!1}function Rg(e){const[t,n]=$.useState({cached:!1,downloading:!1,progress:0});$.useEffect(()=>{let s=!0;return Og(e).then(a=>{s&&n(d=>({...d,cached:a}))}),()=>{s=!1}},[e]);const r=$.useCallback(async()=>{n(s=>({...s,downloading:!0,error:void 0}));try{if(!aa())throw new Error("Cache API unavailable. Use HTTPS or install the PWA for offline model caching.");const s=await fetch(e);if(!s.ok||!s.body)throw new Error("Model download failed.");const a=s.body.getReader(),d=Number(s.headers.get("Content-Length")??0);d&&n(I=>({...I,sizeBytes:d}));let h=0;const v=[];for(;;){const{done:I,value:L}=await a.read();if(I)break;if(L){v.push(L),h+=L.length;const D=d?h/d:0;n(B=>({...B,progress:D}))}}const C=new Blob(v);await(await caches.open(ua)).put(e,new Response(C)),n({cached:!0,downloading:!1,progress:1})}catch(s){const a=s instanceof Error?s.message:"Download failed.";n(d=>({...d,downloading:!1,error:a}))}},[e]),o=$.useCallback(async()=>{if(!aa()){n(a=>({...a,cached:!1}));return}await(await caches.open(ua)).delete(e),n({cached:!1,downloading:!1,progress:0})},[e]);return{...t,download:r,clear:o}}const un=[{id:"ggml-tiny.en-q5_1.bin",label:"Whisper tiny.en q5_1 (fast, smaller)",url:"https://huggingface.co/ggerganov/whisper.cpp/resolve/main/ggml-tiny.en-q5_1.bin",tier:"light"},{id:"ggml-base.en-q5_1.bin",label:"Whisper base.en q5_1 (slower, better)",url:"https://huggingface.co/ggerganov/whisper.cpp/resolve/main/ggml-base.en-q5_1.bin",tier:"power"}],Th=[{id:"session",label:"Session",kind:"segment"},{id:"phases",label:"Phases",kind:"segment"},{id:"positions",label:"Positions",kind:"segment"},{id:"speech",label:"Speech",kind:"marker"},{id:"orgasm",label:"Orgasm",kind:"marker"},{id:"intensity",label:"Intensity",kind:"series"},{id:"rhythm",label:"Rhythm",kind:"series"},{id:"silence",label:"Silence",kind:"segment"},{id:"motion",label:"Motion",kind:"series"}],ed=Th.map(e=>e.id),Ig=new Set(["STOP","GO","POSITIVE_FEEDBACK","NEGATIVE_FEEDBACK","POSITION_CHANGE_REQUEST","PACE_CHANGE_REQUEST"]);function Ag(e,t=[],n="full"){const r=[...e].sort((D,B)=>D.t-B.t),o=r.length?r[r.length-1].t:0,s=Mg(r,o,n),a=[],d=s.find(D=>D.type==="SESSION_START"),h=s.find(D=>D.type==="SESSION_END");d&&a.push({id:`session-${d.id}`,track:"session",kind:"segment",tStart:0,tEnd:(h==null?void 0:h.t)??o,label:"Session"});const v=bg(s,o);a.push(...v);const C=Dg(s,o);a.push(...C);for(const D of s)Ig.has(D.type)&&a.push({id:`speech-${D.id}`,track:"speech",kind:"marker",tStart:D.t,label:D.type,payload:{eventId:D.id}}),D.type==="ORGASM_EVENT"&&a.push({id:`orgasm-${D.id}`,track:"orgasm",kind:"marker",tStart:D.t,label:"ORGASM",payload:{eventId:D.id}});const O=Lg(s,o);a.push(...O);const I=Fg(s,t,o);a.push(...I);const L=zg(t,o);return a.push(...L),a.sort((D,B)=>{const G=ed.indexOf(D.track)-ed.indexOf(B.track);return G!==0?G:D.tStart-B.tStart}),{duration:o,primitives:a}}function Mg(e,t,n){if(n==="full")return e;const o=Math.max(0,t-(n==="1m"?60:300));return e.filter(s=>s.t>=o)}function bg(e,t){const n=[],r=[{start:"PHASE_START_FOREPLAY",label:"Foreplay"},{start:"PHASE_START_INTERCOURSE",label:"Intercourse"},{start:"PHASE_START_COOLDOWN",label:"Cooldown"}];for(let o=0;o<r.length;o+=1){const s=r[o],a=e.find(h=>h.type===s.start);if(!a)continue;const d=e.find(h=>h.t>a.t&&h.type.startsWith("PHASE_START"));n.push({id:`phase-${s.start}-${a.id}`,track:"phases",kind:"segment",tStart:a.t,tEnd:(d==null?void 0:d.t)??t,label:s.label})}return n}function Dg(e,t){const n=[],r=e.filter(a=>a.type==="POSITION_CHANGE");let o=0,s=1;for(const a of r)n.push({id:`position-${s}`,track:"positions",kind:"segment",tStart:o,tEnd:a.t,label:`Position ${s}`}),o=a.t,s+=1;return t>o&&n.push({id:`position-${s}`,track:"positions",kind:"segment",tStart:o,tEnd:t,label:`Position ${s}`}),n}function Lg(e,t){const n=[];let r=null;for(const o of e)o.type==="RHYTHM_START"&&(r=o.t),o.type==="RHYTHM_STOP"&&r!==null&&(n.push({id:`rhythm-${o.id}`,track:"rhythm",kind:"segment",tStart:r,tEnd:o.t,label:"Rhythm"}),r=null);return r!==null&&n.push({id:"rhythm-open",track:"rhythm",kind:"segment",tStart:r,tEnd:t,label:"Rhythm"}),n}function Fg(e,t,n){const r=t.filter(a=>a.type==="silence").sort((a,d)=>a.t-d.t);if(r.length){const a=[];let d=null,h=r[0].t;const v=2;for(const C of r){const O=C.value>=.5,I=C.t-h;d===null&&O?d=C.t:d!==null&&(!O||I>v)&&(a.push({id:`silence-${d}-${C.t}`,track:"silence",kind:"segment",tStart:d,tEnd:C.t,label:"Silence"}),d=O?C.t:null),h=C.t}return d!==null&&a.push({id:"silence-open",track:"silence",kind:"segment",tStart:d,tEnd:n,label:"Silence"}),a}const o=[];let s=null;for(const a of e)a.type==="RHYTHM_STOP"&&(s=a.t),a.type==="RHYTHM_START"&&s!==null&&(o.push({id:`silence-${a.id}`,track:"silence",kind:"segment",tStart:s,tEnd:a.t,label:"Silence"}),s=null);return s!==null&&o.push({id:"silence-open",track:"silence",kind:"segment",tStart:s,tEnd:n,label:"Silence"}),o}function zg(e,t){var o;if(!e.length)return[];const n=new Map;for(const s of e)n.has(s.type)||n.set(s.type,[]),(o=n.get(s.type))==null||o.push(s);const r=[];for(const[s,a]of n.entries()){const d=s==="intensity"?"intensity":s==="rhythm"?"rhythm":s==="silence"?"silence":s==="motion"?"motion":"intensity";r.push({id:`series-${s}`,track:d,kind:"series",tStart:0,tEnd:t,label:s,payload:{points:a}})}return r}function Bg(e,t){const[n,r]=$.useState("full"),o=$.useMemo(()=>Ag(e,t,n),[e,t,n]);return{zoom:n,setZoom:r,timeline:o}}function Kg({data:e,onSelect:t}){const{duration:n,primitives:r}=e;return n?w.jsxs("section",{className:"card timeline-card",children:[w.jsx("h1",{children:"Timeline"}),w.jsx("div",{className:"timeline-grid",children:Th.map(o=>{const s=r.filter(a=>a.track===o.id);return w.jsxs("div",{className:"timeline-row",children:[w.jsx("div",{className:"timeline-label",children:o.label}),w.jsx("div",{className:"timeline-lane",children:s.map(a=>w.jsx(Ug,{item:a,duration:n,onSelect:t},a.id))})]},o.id)})})]}):w.jsxs("section",{className:"card timeline-card",children:[w.jsx("h1",{children:"Timeline"}),w.jsx("p",{children:"Start a session to see the timeline."})]})}function Ug({item:e,duration:t,onSelect:n}){const r=e.tStart/t*100,o=e.tEnd?(e.tEnd-e.tStart)/t*100:.6,s={left:`${r}%`,width:`${Math.max(o,.8)}%`},a=`timeline-item ${e.kind}`;return w.jsx("button",{className:a,style:s,onClick:()=>n==null?void 0:n(e),title:e.label??e.track,children:e.kind!=="series"?e.label:""})}function Hg(e){const t=[];if(!e.length)return t;const n=[...e].sort((d,h)=>d.t-h.t),r=n[n.length-1].t;t.push({key:"session.duration",value:r}),t.push({key:"event.count.stop",value:Ei(n,"STOP")}),t.push({key:"event.count.position_change",value:Ei(n,"POSITION_CHANGE")}),t.push({key:"event.count.positive",value:Ei(n,"POSITIVE_FEEDBACK")}),t.push({key:"event.count.negative",value:Ei(n,"NEGATIVE_FEEDBACK")}),t.push({key:"event.count.orgasm",value:Ei(n,"ORGASM_EVENT")});const o=Vg(n,"PHASE_START_FOREPLAY","PHASE_START_INTERCOURSE");t.push({key:"phase.foreplay.duration",value:o}),t.push({key:"phase.foreplay.percent",value:r>0?o/r*100:0});const s=$g(n);t.push({key:"stop.latency.mean",value:s.length?Wg(s):0}),t.push({key:"stop.latency.max",value:s.length?Math.max(...s):0});const a=r>0?n.length/r*60:0;return t.push({key:"event.density.per_min",value:a}),t}function Ei(e,t){return e.filter(n=>n.type===t).length}function Vg(e,t,n){const r=e.find(s=>s.type===t);if(!r)return 0;const o=e.find(s=>s.type===n&&s.t>r.t);return((o==null?void 0:o.t)??e[e.length-1].t)-r.t}function $g(e){const t=e.filter(o=>o.type==="STOP"),n=e.filter(o=>o.type==="RHYTHM_START"),r=[];for(const o of t){const s=n.find(a=>a.t>o.t);s&&r.push(s.t-o.t)}return r}function Wg(e){return e.reduce((t,n)=>t+n,0)/e.length}function qg(e){const t=[];if(!e.length)return{total:0,components:t};const n=e[e.length-1].t||0,r=nd(td(e,["STOP","GO","POSITIVE_FEEDBACK","NEGATIVE_FEEDBACK"])/Math.max(n,1));t.push(Pi("communication_density",.2,r));const o=Qg(e,"PHASE_START_FOREPLAY","PHASE_START_INTERCOURSE",n);t.push(Pi("foreplay_ratio",.2,o));const s=Yg(e,n);t.push(Pi("rhythm_continuity",.2,s));const a=nd(td(e,["ORGASM_EVENT"]));t.push(Pi("orgasm_presence",.2,a));const d=Gg(e);t.push(Pi("stop_latency",.2,d));const h=t.reduce((v,C)=>v+C.score*C.weight,0)*100;return{total:Math.max(0,Math.min(100,h)),components:t}}function Pi(e,t,n){const r=Math.max(0,Math.min(1,n));return{key:e,weight:t,raw:n,score:r}}function td(e,t){return e.filter(n=>t.includes(n.type)).length}function nd(e){return Number.isFinite(e)?Math.max(0,Math.min(1,e)):0}function Qg(e,t,n,r){const o=e.find(d=>d.type===t);if(!o)return 0;const s=e.find(d=>d.type===n&&d.t>o.t),a=((s==null?void 0:s.t)??r)-o.t;return r>0?a/r:0}function Yg(e,t){if(!t)return 0;let n=0,r=null;for(const o of e)o.type==="RHYTHM_START"&&(r=o.t),o.type==="RHYTHM_STOP"&&r!==null&&(n+=o.t-r,r=null);return r!==null&&(n+=t-r),n/t}function Gg(e){const t=e.filter(s=>s.type==="STOP"),n=e.filter(s=>s.type==="RHYTHM_START");if(!t.length)return 1;const r=[];for(const s of t){const a=n.find(d=>d.t>s.t);a&&r.push(a.t-s.t)}if(!r.length)return 0;const o=r.reduce((s,a)=>s+a,0)/r.length;return 1-Math.min(1,o/30)}function Xg(e){return jh(e,"week")}function Zg(e){return jh(e,"month")}function jh(e,t){const n=new Map;for(const o of e){const s=Jg(o.createdAt,t);n.has(o.key)||n.set(o.key,new Map);const a=n.get(o.key);a.has(s)||a.set(s,[]),a.get(s).push(o.value)}const r=[];for(const[o,s]of n.entries()){const a=[];for(const[d,h]of s.entries())a.push({period:d,value:t0(h)});a.sort((d,h)=>d.period.localeCompare(h.period)),r.push({key:o,points:a})}return r}function Jg(e,t){const n=new Date(e),r=n.getUTCFullYear();if(t==="month"){const s=String(n.getUTCMonth()+1).padStart(2,"0");return`${r}-${s}`}const o=e0(n);return`${r}-W${String(o).padStart(2,"0")}`}function e0(e){const t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);const r=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-r.getTime())/864e5+1)/7)}function t0(e){return e.reduce((t,n)=>t+n,0)/e.length}function n0(){const[e,t]=$.useState(()=>{const d=Jf();return{active:d.active,supported:d.supported,permission:d.permission,magnitude:d.magnitude}}),n=$.useRef(Jf()),r=$.useRef(null),o=$.useCallback(async()=>{const d=await ng();return n.current.permission=d,t(h=>({...h,permission:d})),d},[]),s=$.useCallback(()=>{r.current||n.current.supported&&n.current.permission==="granted"&&(r.current=rg(n.current,{onSample:d=>{t(h=>({...h,magnitude:d}))}})??null,t(d=>({...d,active:!0})))},[]),a=$.useCallback(()=>{r.current&&(r.current(),r.current=null),t(d=>({...d,active:!1}))},[]);return{state:e,requestPermission:o,start:s,stop:a}}const rd="sm_onboarded_v1",id="sm_speech_enabled_v1",du="sm_motion_enabled_v1",r0=4,i0="v1",o0="v1";function s0(){var s,a;if(typeof navigator>"u")return un[0].id;const e=navigator.deviceMemory,t=navigator.hardwareConcurrency??4,n=navigator.userAgent??"";return/Android|iPhone|iPad|iPod/i.test(n)||(e?e<=r0:!1)||t<=4?((s=un.find(d=>d.tier==="light"))==null?void 0:s.id)??un[0].id:((a=un.find(d=>d.tier==="power"))==null?void 0:a.id)??un[0].id}function l0(e){return e?/memory|allocation|wasm|out of memory|malloc/i.test(e):!1}function u0(){const[e,t]=$.useState(!1),[n,r]=$.useState(!1),[o,s]=$.useState(!1),{status:a,requestMic:d}=Mv(),h=sg(),v=n0(),C=fg(h.rms,h.active),O=$.useRef(null),[I,L]=$.useState(()=>s0()),D=un.find(U=>U.id===I)??un[0],B=$.useMemo(()=>({engineVersion:i0,inferenceVersion:o0,asrModelId:D.id,asrModelUrl:D.url,speechEnabled:n,motionEnabled:o}),[D.id,D.url,n,o]),{state:G,events:j,elapsedSeconds:g,startSession:k,pauseSession:F,resumeSession:Z,endSession:X,getElapsedNow:q,hardDeleteSession:ne,exportSessionData:_e,sessionReview:de,setSessionReview:He}=qv(B),Le=Rg(D.url),Ce=jg(n,h.active,h.rms,h.getWindow,Le.cached,D.url,C.silenceActive),[tn,Ft]=$.useState([]),Ve=Bg(j,tn),[Wt,J]=$.useState([]),[ue,ae]=$.useState(null),[ge,ye]=$.useState(0),[ct,$e]=$.useState(null),[kt,xe]=$.useState([]),[Qe,ri]=$.useState(null),[nn,le]=$.useState(null),[ii,Ee]=$.useState([]),[vn,tl]=$.useState([]);$.useEffect(()=>{(G.status==="idle"||G.status==="ended")&&Ft([])},[G.status]),$.useEffect(()=>{Ve.timeline.duration&&ye(U=>Math.min(U,Ve.timeline.duration))},[Ve.timeline.duration]);const qt=$.useMemo(()=>{const{primitives:U}=Ve.timeline;return U.length?U.filter(fe=>{const tt=fe.tEnd??fe.tStart,mt=fe.kind==="marker"?.5:0;return ge>=fe.tStart-mt&&ge<=tt+mt}):[]},[Ve.timeline,ge]);$.useEffect(()=>{la().then(U=>xe(U))},[G.status,G.sessionId]),$.useEffect(()=>{if(!Qe){le(null);return}oc(Qe).then(U=>le(U))},[Qe]),$.useEffect(()=>{if(!j.length){J([]),ae(null);return}const U=Hg(j);J(U),ae(qg(j)),G.sessionId&&U.forEach(fe=>{Ch({id:crypto.randomUUID(),sessionId:G.sessionId,key:fe.key,value:fe.value,engineVersion:"v1"}).catch(()=>{})})},[j,G.sessionId]),$.useEffect(()=>{G.sessionId&&gh(async()=>{const{db:U}=await Promise.resolve().then(()=>Lv);return{db:U}},void 0,import.meta.url).then(({db:U})=>{U.metrics.toArray().then(fe=>{Ee(Xg(fe)),tl(Zg(fe))})})},[G.sessionId]),$.useEffect(()=>{if(!h.active&&!v.state.active)return;const U=window.setInterval(()=>{const fe=q();if(!fe)return;const tt=G.sessionId??"active",mt=[{sessionId:tt,t:fe,type:"intensity",value:h.rms},{sessionId:tt,t:fe,type:"rhythm",value:C.rhythm.strength},{sessionId:tt,t:fe,type:"silence",value:C.silenceActive?1:0}];v.state.active&&mt.push({sessionId:tt,t:fe,type:"motion",value:v.state.magnitude}),Ft(Ot=>[...Ot,...mt]),mt.forEach(Ot=>{Eh({id:crypto.randomUUID(),sessionId:Ot.sessionId,t:Ot.t,type:Ot.type,value:Ot.value}).catch(()=>{})})},1e3);return()=>window.clearInterval(U)},[h.active,h.rms,v.state.active,v.state.magnitude,C.rhythm.strength,C.silenceActive,q,G.sessionId]),mg(G.status,C.rhythm.active,U=>nr.emit(U)),yg(G.status,j,C.rhythm.active,C.rhythm.strength,U=>nr.emit(U)),$.useEffect(()=>{if(Ce.events.length){for(const U of Ce.events)nr.emit(U);Ce.clearEvents()}},[Ce.events,Ce.clearEvents]),$.useEffect(()=>{if(!Ce.error||D.tier!=="power"||!l0(Ce.error))return;const U=un.find(fe=>fe.tier==="light");U&&U.id!==I&&L(U.id)},[Ce.error,D.tier,I]),vg(G.status,h.rms,C.rhythm.strength,C.silenceActive,U=>nr.emit(U)),$.useEffect(()=>{h.active&&O.current!==C.rhythm.active&&(O.current=C.rhythm.active,C.rhythm.active?nr.emit("RHYTHM_START"):nr.emit("RHYTHM_STOP"))},[C.rhythm.active,h.active]),$.useEffect(()=>{const U=localStorage.getItem(rd);t(U==="true")},[]),$.useEffect(()=>{const U=localStorage.getItem(id);r(U==="true")},[]),$.useEffect(()=>{const U=localStorage.getItem(du);s(U==="true")},[]),$.useEffect(()=>{if(!o){v.stop();return}G.status==="active"?v.start():v.stop()},[o,G.status,v.start,v.stop]);const nl=()=>{r(U=>{const fe=!U;return localStorage.setItem(id,String(fe)),fe})},rl=async()=>{if(o){s(!1),localStorage.setItem(du,"false"),v.stop();return}const fe=await v.requestPermission()==="granted";s(fe),localStorage.setItem(du,String(fe)),fe&&G.status==="active"&&v.start()},il=()=>{localStorage.setItem(rd,"true"),t(!0)},ol=async()=>{await d()==="granted"&&(await h.start(),o&&v.start(),k())},oi=()=>{v.stop(),F()},jt=()=>{o&&v.start(),Z()},uo=async()=>{await h.stop(),v.stop(),X()},$n=async()=>{!G.sessionId||!window.confirm("Delete this session permanently? This cannot be undone.")||(await ne(),la().then(fe=>xe(fe)),Ft([]))},ao=async()=>{const U=await _e();if(!U||!G.sessionId)return;const fe=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),tt=URL.createObjectURL(fe),mt=document.createElement("a");mt.href=tt,mt.download=`session-${G.sessionId}.json`,mt.click(),URL.revokeObjectURL(tt)};return e?w.jsxs("div",{className:"app-shell",children:[w.jsxs("header",{className:"app-header",children:[w.jsx("div",{className:"logo",children:"SexMetrics"}),w.jsx("div",{className:"status",children:"Offline-first shell"})]}),w.jsxs("main",{className:"app-main",children:[w.jsx(Av,{micState:a.mic,micActive:h.active,rms:h.rms,silenceActive:C.silenceActive,rhythmStrength:C.rhythm.strength,asrReady:Ce.ready,asrError:Ce.error,modelCached:Le.cached,modelDownloading:Le.downloading,modelProgress:Le.progress,modelSizeBytes:Le.sizeBytes,modelError:Le.error,onDownloadModel:Le.download,onClearModel:Le.clear,modelId:I,modelOptions:un.map(U=>({id:U.id,label:U.label})),onModelChange:L,crossOriginIsolated:window.crossOriginIsolated,sharedArrayBuffer:typeof SharedArrayBuffer<"u",secureContext:window.isSecureContext,cacheAvailable:typeof caches<"u",speechEnabled:n,onToggleSpeech:nl,motionEnabled:o,motionSupported:v.state.supported,motionPermission:v.state.permission,motionActive:v.state.active,onToggleMotion:rl,status:G.status,elapsed:Jo(g),onStart:ol,onPause:oi,onResume:jt,onEnd:uo,onDeleteSession:$n,onExportSession:ao,sessionLabel:de.label,sessionRating:de.rating,onSessionLabelChange:U=>He({label:U}),onSessionRatingChange:U=>He({rating:U}),error:a.error,events:j}),w.jsxs("div",{className:"timeline-toolbar",children:[w.jsx("div",{className:"toolbar-title",children:"Zoom"}),w.jsx("div",{className:"toolbar-actions",children:["1m","5m","full"].map(U=>w.jsx("button",{className:`ghost ${Ve.zoom===U?"active":""}`,onClick:()=>Ve.setZoom(U),children:U},U))})]}),w.jsx(Kg,{data:Ve.timeline,onSelect:U=>{$e(U),ye(U.tStart)}}),Ve.timeline.duration?w.jsxs("div",{className:"timeline-inspector",children:[w.jsxs("div",{className:"scrubber-row",children:[w.jsx("input",{type:"range",min:0,max:Ve.timeline.duration,step:.1,value:ge,onChange:U=>ye(Number(U.target.value))}),w.jsx("div",{className:"scrub-time",children:Jo(ge)})]}),w.jsx("div",{className:"inspect-panel",children:ct?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"detail-title",children:"Selected"}),w.jsxs("div",{className:"detail-row",children:["Track: ",w.jsx("strong",{children:ct.track})]}),w.jsxs("div",{className:"detail-row",children:["Type: ",w.jsx("strong",{children:ct.kind})]}),w.jsxs("div",{className:"detail-row",children:["Range:"," ",w.jsxs("strong",{children:[Jo(ct.tStart)," ",ct.tEnd?` ${Jo(ct.tEnd)}`:""]})]})]}):qt.length?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"detail-title",children:"Active at scrub"}),qt.map(U=>w.jsx("div",{className:"detail-row",children:w.jsx("strong",{children:U.label??U.track})},U.id))]}):w.jsx("div",{className:"session-empty",children:"No events at this time."})})]}):null,w.jsxs("section",{className:"card review-card",children:[w.jsx("h1",{children:"Session review"}),w.jsxs("div",{className:"review-grid",children:[w.jsx("div",{className:"review-list",children:kt.length?kt.map(U=>w.jsxs("button",{className:`session-item ${Qe===U.id?"active":""}`,onClick:()=>ri(U.id),children:[w.jsx("div",{className:"session-title",children:new Date(U.createdAt).toLocaleString()}),w.jsx("div",{className:"session-item-meta",children:U.endedAt?`${Math.max(0,Math.round((U.endedAt-U.createdAt-U.totalPausedMs)/1e3))}s`:"in progress"})]},U.id)):w.jsx("div",{className:"session-empty",children:"No sessions stored yet."})}),w.jsx("div",{className:"review-detail",children:nn!=null&&nn.session?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"detail-title",children:"Session detail"}),w.jsxs("div",{className:"detail-row",children:["Status: ",w.jsx("strong",{children:nn.session.status})]}),w.jsxs("div",{className:"detail-row",children:["Events: ",w.jsx("strong",{children:nn.events.length})]}),w.jsxs("div",{className:"detail-row",children:["Metrics: ",w.jsx("strong",{children:nn.metrics.length})]}),w.jsxs("div",{className:"detail-row",children:["Signals: ",w.jsx("strong",{children:nn.signals.length})]})]}):w.jsx("div",{className:"session-empty",children:"Select a session to inspect."})})]})]}),Wt.length?w.jsxs("section",{className:"card metrics-card",children:[w.jsx("h1",{children:"Metrics (v1)"}),w.jsx("div",{className:"metrics-grid",children:Wt.map(U=>w.jsxs("div",{className:"metric-item",children:[w.jsx("div",{className:"metric-key",children:U.key}),w.jsx("div",{className:"metric-value",children:U.value.toFixed(2)})]},U.key))})]}):null,ue?w.jsxs("section",{className:"card metrics-card",children:[w.jsx("h1",{children:"Score"}),w.jsx("div",{className:"score-total",children:ue.total.toFixed(1)}),w.jsx("div",{className:"metrics-grid",children:ue.components.map(U=>w.jsxs("div",{className:"metric-item",children:[w.jsx("div",{className:"metric-key",children:U.key}),w.jsx("div",{className:"metric-value",children:(U.score*100).toFixed(1)})]},U.key))})]}):null,ii.length||vn.length?w.jsxs("section",{className:"card metrics-card",children:[w.jsx("h1",{children:"Trends"}),w.jsxs("div",{className:"trend-section",children:[w.jsx("h2",{children:"Weekly"}),ii.map(U=>w.jsxs("div",{className:"trend-series",children:[w.jsx("div",{className:"metric-key",children:U.key}),w.jsx("div",{className:"trend-points",children:U.points.map(fe=>w.jsxs("span",{className:"trend-point",children:[fe.period,": ",fe.value.toFixed(2)]},fe.period))})]},U.key))]}),w.jsxs("div",{className:"trend-section",children:[w.jsx("h2",{children:"Monthly"}),vn.map(U=>w.jsxs("div",{className:"trend-series",children:[w.jsx("div",{className:"metric-key",children:U.key}),w.jsx("div",{className:"trend-points",children:U.points.map(fe=>w.jsxs("span",{className:"trend-point",children:[fe.period,": ",fe.value.toFixed(2)]},fe.period))})]},U.key))]})]}):null]})]}):w.jsx(Iv,{onFinish:il})}Ov({immediate:!0});pu.createRoot(document.getElementById("root")).render(w.jsx(ym.StrictMode,{children:w.jsx(u0,{})}));
